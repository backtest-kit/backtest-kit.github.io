<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/07_signal_lifecycle_overview | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_07_signal_lifecycle_overview.html">design/07_signal_lifecycle_overview</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="signal-lifecycle-overview" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Signal Lifecycle Overview<a href="#signal-lifecycle-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This page describes the complete lifecycle of trading signals within the backtest-kit framework, from generation through validation, execution, and termination. A signal represents a trading position with entry price, take-profit, stop-loss, and time expiration parameters. Understanding the signal lifecycle is essential for implementing strategies and debugging execution behavior.</p>
<p>For details on strategy registration and configuration, see <a href="design_08_component_registration.html">Component Registration</a>. For implementation details of the <code>ClientStrategy</code> class that manages this lifecycle, see <a href="design_47_signal_states.html">ClientStrategy</a>. For validation rules and error handling, see <a href="design_48_signal_generation_and_validation.html">Signal Generation and Validation</a>.</p>
<hr>
<a id="signal-state-machine" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Signal State Machine<a href="#signal-state-machine" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The signal lifecycle follows a deterministic state machine with distinct states and transition conditions. All states are represented by discriminated union types in <code>IStrategyTickResult</code>, enabling type-safe state handling in callbacks and event listeners.</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_0.svg" alt="Mermaid Diagram"></p>
<hr>
<a id="signal-type-hierarchy" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Signal Type Hierarchy<a href="#signal-type-hierarchy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Signals progress through three type representations during their lifecycle, each with increasing specificity:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_1.svg" alt="Mermaid Diagram"></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
<th>When Created</th>
<th>Key Characteristics</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ISignalDto</code></td>
<td>User-defined signal from <code>getSignal()</code></td>
<td>Strategy logic returns this</td>
<td>Optional <code>priceOpen</code>, optional <code>id</code>, minimal fields</td>
</tr>
<tr>
<td><code>ISignalRow</code></td>
<td>Validated signal with auto-generated ID</td>
<td>After validation passes</td>
<td>Required <code>priceOpen</code>, UUID <code>id</code>, complete metadata</td>
</tr>
<tr>
<td><code>IScheduledSignalRow</code></td>
<td>Scheduled signal awaiting activation</td>
<td>When <code>priceOpen != currentPrice</code></td>
<td><code>_isScheduled: true</code>, waits for price to reach <code>priceOpen</code></td>
</tr>
</tbody>
</table>
<hr>
<a id="state-transition-details" class="tsd-anchor"></a><h2 class="tsd-anchor-link">State Transition Details<a href="#state-transition-details" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="idle-→-scheduledopened" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Idle → Scheduled/Opened<a href="#idle-→-scheduledopened" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The transition from <code>Idle</code> state occurs when <code>getSignal()</code> returns a non-null signal that passes validation and risk checks:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_2.svg" alt="Mermaid Diagram"></p>
<p><strong>Key Logic:</strong></p>
<ul>
<li><strong>Throttling</strong>: Enforced by <code>INTERVAL_MINUTES</code> mapping <a href="">src/client/ClientStrategy.ts:32-39</a></li>
<li><strong>Risk Check</strong>: Pre-validation gate via <code>risk.checkSignal()</code> <a href="">src/client/ClientStrategy.ts:289-299</a></li>
<li><strong>Immediate Activation</strong>: LONG activates if <code>currentPrice &lt;= priceOpen</code>, SHORT activates if <code>currentPrice &gt;= priceOpen</code> <a href="">src/client/ClientStrategy.ts:314-344</a></li>
<li><strong>Validation</strong>: 30+ rules in <code>VALIDATE_SIGNAL_FN</code> <a href="">src/client/ClientStrategy.ts:41-261</a></li>
</ul>
<hr>
<a id="scheduled-→-openedcancelledidle" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Scheduled → Opened/Cancelled/Idle<a href="#scheduled-→-openedcancelledidle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Scheduled signals require continuous monitoring for three conditions: activation, cancellation, or timeout.</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_3.svg" alt="Mermaid Diagram"></p>
<p><strong>Critical Conditions:</strong></p>
<table>
<thead>
<tr>
<th>Position</th>
<th>Activation Condition</th>
<th>Cancellation Condition</th>
</tr>
</thead>
<tbody>
<tr>
<td>LONG</td>
<td><code>currentPrice &lt;= priceOpen</code></td>
<td><code>currentPrice &lt;= priceStopLoss</code></td>
</tr>
<tr>
<td>SHORT</td>
<td><code>currentPrice &gt;= priceOpen</code></td>
<td><code>currentPrice &gt;= priceStopLoss</code></td>
</tr>
</tbody>
</table>
<p><strong>Pre-Activation Cancellation</strong>: Scheduled signals can be cancelled by StopLoss <strong>before</strong> activation when price moves against the position too far without reaching <code>priceOpen</code>. This prevents entering positions that have already deteriorated. See test cases <a href="">test/e2e/defend.test.mjs:1393-1507</a> for validation.</p>
<hr>
<a id="active-→-closed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Active → Closed<a href="#active-→-closed" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Active signals are monitored on every tick for three terminal conditions:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_4.svg" alt="Mermaid Diagram"></p>
<p><strong>Terminal Conditions:</strong></p>
<table>
<thead>
<tr>
<th>Condition</th>
<th>LONG Check</th>
<th>SHORT Check</th>
<th>CloseReason Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Time Expired</td>
<td><code>elapsedTime &gt;= maxTimeToWait</code></td>
<td><code>elapsedTime &gt;= maxTimeToWait</code></td>
<td><code>&quot;time_expired&quot;</code></td>
</tr>
<tr>
<td>Take Profit</td>
<td><code>currentPrice &gt;= priceTakeProfit</code></td>
<td><code>currentPrice &lt;= priceTakeProfit</code></td>
<td><code>&quot;take_profit&quot;</code></td>
</tr>
<tr>
<td>Stop Loss</td>
<td><code>currentPrice &lt;= priceStopLoss</code></td>
<td><code>currentPrice &gt;= priceStopLoss</code></td>
<td><code>&quot;stop_loss&quot;</code></td>
</tr>
</tbody>
</table>
<hr>
<a id="validation-pipeline" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Validation Pipeline<a href="#validation-pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All signals pass through a comprehensive validation pipeline with 30+ rules before activation. Validation occurs twice for scheduled signals: once at creation, and again at activation.</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_5.svg" alt="Mermaid Diagram"></p>
<p><strong>Key Validation Rules:</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Rule</th>
<th>Configuration Parameter</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Profit</td>
<td>TP distance from priceOpen</td>
<td><code>CC_MIN_TAKEPROFIT_DISTANCE_PERCENT</code> (0.3%)</td>
<td>Ensure profit covers trading fees (2×0.1%)</td>
</tr>
<tr>
<td>Maximum Loss</td>
<td>SL distance from priceOpen</td>
<td><code>CC_MAX_STOPLOSS_DISTANCE_PERCENT</code> (20%)</td>
<td>Prevent catastrophic single-position losses</td>
</tr>
<tr>
<td>Signal Lifetime</td>
<td>Maximum duration</td>
<td><code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code> (1440 min)</td>
<td>Prevent eternal signals blocking risk limits</td>
</tr>
<tr>
<td>Immediate Activation</td>
<td>currentPrice not past TP/SL</td>
<td>N/A</td>
<td>Prevent invalid immediate signals</td>
</tr>
</tbody>
</table>
<hr>
<a id="timestamp-semantics" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Timestamp Semantics<a href="#timestamp-semantics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Signals track two distinct timestamps that serve different purposes:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_6.svg" alt="Mermaid Diagram"></p>
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Purpose</th>
<th>When Set</th>
<th>Used For</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scheduledAt</code></td>
<td>Signal creation time</td>
<td>When <code>getSignal()</code> returns signal</td>
<td>Timeout calculation for scheduled signals (120 min)</td>
</tr>
<tr>
<td><code>pendingAt</code></td>
<td>Position activation time</td>
<td>When signal becomes active (priceOpen reached or immediate)</td>
<td>Time expiration calculation (<code>minuteEstimatedTime</code>)</td>
</tr>
</tbody>
</table>
<p><strong>Critical Distinction</strong>: For scheduled signals, <code>scheduledAt</code> tracks when the signal was created, while <code>pendingAt</code> tracks when the position actually opened. The timeout for scheduled signal activation is calculated from <code>scheduledAt</code>, but the timeout for position closure is calculated from <code>pendingAt</code>.</p>
<pre><code class="typescript"><span class="hl-5">// Scheduled signal timeout (activation wait)</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">maxActivationWait</span><span class="hl-1"> = </span><span class="hl-7">CC_SCHEDULE_AWAIT_MINUTES</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">1000</span><span class="hl-1">; </span><span class="hl-5">// 120 min</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">elapsedSinceSchedule</span><span class="hl-1"> = </span><span class="hl-4">currentTime</span><span class="hl-1"> - </span><span class="hl-4">signal</span><span class="hl-1">.</span><span class="hl-4">scheduledAt</span><span class="hl-1">;</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">elapsedSinceSchedule</span><span class="hl-1"> &gt;= </span><span class="hl-4">maxActivationWait</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// Cancel scheduled signal</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Active signal timeout (position lifetime)</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">maxPositionTime</span><span class="hl-1"> = </span><span class="hl-4">signal</span><span class="hl-1">.</span><span class="hl-4">minuteEstimatedTime</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">1000</span><span class="hl-1">;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">elapsedSincePending</span><span class="hl-1"> = </span><span class="hl-4">currentTime</span><span class="hl-1"> - </span><span class="hl-4">signal</span><span class="hl-1">.</span><span class="hl-4">pendingAt</span><span class="hl-1">;</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">elapsedSincePending</span><span class="hl-1"> &gt;= </span><span class="hl-4">maxPositionTime</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// Close position by timeout</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="tick-result-contract" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Tick Result Contract<a href="#tick-result-contract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All state transitions return a discriminated union type <code>IStrategyTickResult</code> with an <code>action</code> discriminator field:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_7.svg" alt="Mermaid Diagram"></p>
<p><strong>Type-Safe Pattern Matching:</strong></p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">strategy</span><span class="hl-1">.</span><span class="hl-0">tick</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">);</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;closed&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// TypeScript knows result.pnl exists</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`PNL: </span><span class="hl-6">${</span><span class="hl-4">result</span><span class="hl-9">.</span><span class="hl-4">pnl</span><span class="hl-9">.</span><span class="hl-4">pnlPercentage</span><span class="hl-6">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Reason: </span><span class="hl-6">${</span><span class="hl-4">result</span><span class="hl-9">.</span><span class="hl-4">closeReason</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;scheduled&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// TypeScript knows result.signal._isScheduled is true</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Waiting for price: </span><span class="hl-6">${</span><span class="hl-4">result</span><span class="hl-9">.</span><span class="hl-4">signal</span><span class="hl-9">.</span><span class="hl-4">priceOpen</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;idle&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// TypeScript knows result.signal is null</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;No active position&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="persistence-and-crash-recovery" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Persistence and Crash Recovery<a href="#persistence-and-crash-recovery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Signals are persisted to disk in live mode only, enabling crash recovery without data loss. Three adapters handle different persistence concerns:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_8.svg" alt="Mermaid Diagram"></p>
<p><strong>Persistence Adapters:</strong></p>
<table>
<thead>
<tr>
<th>Adapter</th>
<th>File Location</th>
<th>Contents</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PersistSignalAdapter</code></td>
<td><code>.backtest/{symbol}/{strategyName}.signal.json</code></td>
<td>Active <code>ISignalRow</code></td>
<td>Restore active positions after crash</td>
</tr>
<tr>
<td><code>PersistScheduleAdapter</code></td>
<td><code>.backtest/{symbol}/{strategyName}.schedule.json</code></td>
<td>Scheduled <code>IScheduledSignalRow</code></td>
<td>Restore scheduled signals after crash</td>
</tr>
<tr>
<td><code>PersistRiskAdapter</code></td>
<td><code>.backtest/{symbol}/risk.{riskName}.json</code></td>
<td>Active position count and list</td>
<td>Restore risk limits after crash</td>
</tr>
</tbody>
</table>
<p><strong>Atomic Write Pattern:</strong></p>
<p>All persistence operations are atomic to prevent corruption:</p>
<ol>
<li>Write to temporary file: <code>{path}.tmp</code></li>
<li>Call <code>fsSync()</code> to flush to disk</li>
<li>Rename to final path (atomic operation)</li>
</ol>
<hr>
<a id="lifecycle-callbacks" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Lifecycle Callbacks<a href="#lifecycle-callbacks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Strategies can register callbacks for every lifecycle event, enabling custom logging, metrics collection, and state tracking:</p>
<p><img src="../media/07_Signal_Lifecycle_Overview_9.svg" alt="Mermaid Diagram"></p>
<p><strong>Callback Invocation Order:</strong></p>
<ol>
<li><strong>Specialized callback</strong> (<code>onSchedule</code>, <code>onOpen</code>, <code>onActive</code>, <code>onClose</code>, <code>onCancel</code>, <code>onIdle</code>)</li>
<li><strong>Generic callback</strong> (<code>onTick</code> with <code>IStrategyTickResult</code>)</li>
<li><strong>Persistence callback</strong> (<code>onWrite</code> if state changed)</li>
</ol>
<hr>
<a id="integration-with-execution-modes" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Integration with Execution Modes<a href="#integration-with-execution-modes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The signal lifecycle behaves identically across all three execution modes (Backtest, Live, Walker), with minor differences in timing and persistence:</p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Backtest Mode</th>
<th>Live Mode</th>
<th>Walker Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td>Time Source</td>
<td>Candle timestamps from frames</td>
<td><code>new Date()</code> real-time</td>
<td>Candle timestamps (delegates to Backtest)</td>
</tr>
<tr>
<td>Persistence</td>
<td>Disabled (<code>backtest: true</code>)</td>
<td>Enabled via <code>PersistSignalAdapter</code></td>
<td>Disabled (<code>backtest: true</code>)</td>
</tr>
<tr>
<td><code>tick()</code> Frequency</td>
<td>Every frame timestamp</td>
<td>Every 61 seconds (<code>TICK_TTL</code>)</td>
<td>Every frame timestamp per strategy</td>
</tr>
<tr>
<td>Signal Activation</td>
<td>Immediate via <code>backtest()</code> fast-forward</td>
<td>Real-time monitoring via <code>tick()</code></td>
<td>Immediate via <code>backtest()</code> fast-forward</td>
</tr>
<tr>
<td>Crash Recovery</td>
<td>Not needed (deterministic replay)</td>
<td>Full recovery via <code>waitForInit()</code></td>
<td>Not needed (deterministic replay)</td>
</tr>
</tbody>
</table>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#signal-lifecycle-overview"><span>Signal <wbr/>Lifecycle <wbr/>Overview</span></a><ul><li><a href="#signal-state-machine"><span>Signal <wbr/>State <wbr/>Machine</span></a></li><li><a href="#signal-type-hierarchy"><span>Signal <wbr/>Type <wbr/>Hierarchy</span></a></li><li><a href="#state-transition-details"><span>State <wbr/>Transition <wbr/>Details</span></a></li><li><ul><li><a href="#idle-→-scheduledopened"><span>Idle → <wbr/>Scheduled/<wbr/>Opened</span></a></li><li><a href="#scheduled-→-openedcancelledidle"><span>Scheduled → <wbr/>Opened/<wbr/>Cancelled/<wbr/>Idle</span></a></li><li><a href="#active-→-closed"><span>Active → <wbr/>Closed</span></a></li></ul></li><li><a href="#validation-pipeline"><span>Validation <wbr/>Pipeline</span></a></li><li><a href="#timestamp-semantics"><span>Timestamp <wbr/>Semantics</span></a></li><li><a href="#tick-result-contract"><span>Tick <wbr/>Result <wbr/>Contract</span></a></li><li><a href="#persistence-and-crash-recovery"><span>Persistence and <wbr/>Crash <wbr/>Recovery</span></a></li><li><a href="#lifecycle-callbacks"><span>Lifecycle <wbr/>Callbacks</span></a></li><li><a href="#integration-with-execution-modes"><span>Integration with <wbr/>Execution <wbr/>Modes</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
