<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/74_timing_parameters | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_74_timing_parameters.html">design/74_timing_parameters</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="timing-parameters" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Timing Parameters<a href="#timing-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="purpose-and-scope" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Purpose and Scope<a href="#purpose-and-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This page documents the three timing configuration parameters that control signal lifecycle timing constraints and price monitoring behavior in the backtest-kit framework. These parameters define temporal boundaries for scheduled signal activation (<code>CC_SCHEDULE_AWAIT_MINUTES</code>), maximum signal duration (<code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code>), and the window for VWAP price calculation (<code>CC_AVG_PRICE_CANDLES_COUNT</code>).</p>
<p>For general configuration management and the <code>setConfig</code> function, see <a href="design_72_global_configuration.html">Global Configuration</a>. For price distance validation parameters (take profit and stop loss constraints), see <a href="design_73_validation_parameters.html">Validation Parameters</a>. For signal state transitions and lifecycle management, see <a href="design_07_signal_lifecycle_overview.html">Signal Lifecycle Overview</a>.</p>
<hr>
<a id="overview-of-timing-parameters" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview of Timing Parameters<a href="#overview-of-timing-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework provides three timing parameters that are stored in the <code>GLOBAL_CONFIG</code> object and can be modified via <code>setConfig()</code>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default Value</th>
<th>Unit</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CC_SCHEDULE_AWAIT_MINUTES</code></td>
<td>120</td>
<td>minutes</td>
<td>Maximum time to wait for scheduled signal activation before cancellation</td>
</tr>
<tr>
<td><code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code></td>
<td>1440</td>
<td>minutes</td>
<td>Maximum signal lifetime to prevent eternal signals blocking risk limits</td>
</tr>
<tr>
<td><code>CC_AVG_PRICE_CANDLES_COUNT</code></td>
<td>5</td>
<td>candles</td>
<td>Number of recent candles used for VWAP calculation in price monitoring</td>
</tr>
</tbody>
</table>
<p>These parameters affect:</p>
<ul>
<li><strong>Scheduled Signal Lifecycle</strong>: Timeout behavior for signals awaiting price activation</li>
<li><strong>Signal Validation</strong>: Rejection of signals with excessive estimated time</li>
<li><strong>Price Monitoring</strong>: Window size for VWAP-based average price calculation</li>
</ul>
<hr>
<a id="cc_schedule_await_minutes-scheduled-signal-timeout" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CC_SCHEDULE_AWAIT_MINUTES: Scheduled Signal Timeout<a href="#cc_schedule_await_minutes-scheduled-signal-timeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="description" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Description<a href="#description" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>CC_SCHEDULE_AWAIT_MINUTES</code> defines the maximum time (in minutes) that a scheduled signal can wait for price to reach its <code>priceOpen</code> activation level before being automatically cancelled. This parameter prevents scheduled signals from blocking risk limits indefinitely when market conditions never trigger activation.</p>
<p><strong>Default Value</strong>: 120 minutes (2 hours)</p>
<a id="code-usage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Code Usage<a href="#code-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The parameter is consumed in two locations within <code>ClientStrategy</code>:</p>
<ol>
<li>
<p><strong>Live Mode Timeout Check</strong> (<code>CHECK_SCHEDULED_SIGNAL_TIMEOUT_FN</code>):</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">maxTimeToWait</span><span class="hl-1"> = </span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_SCHEDULE_AWAIT_MINUTES</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">1000</span><span class="hl-1">;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">elapsedTime</span><span class="hl-1"> = </span><span class="hl-4">currentTime</span><span class="hl-1"> - </span><span class="hl-4">signalTime</span><span class="hl-1">;</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">elapsedTime</span><span class="hl-1"> &gt;= </span><span class="hl-4">maxTimeToWait</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// Cancel signal</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Backtest Mode Candle Processing</strong> (<code>PROCESS_SCHEDULED_SIGNAL_CANDLES_FN</code>):</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">maxTimeToWait</span><span class="hl-1"> = </span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_SCHEDULE_AWAIT_MINUTES</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">1000</span><span class="hl-1">;</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">elapsedTime</span><span class="hl-1"> &gt;= </span><span class="hl-4">maxTimeToWait</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// Cancel scheduled signal in backtest</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<a id="timeout-behavior-flow" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Timeout Behavior Flow<a href="#timeout-behavior-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/74_Timing_Parameters_0.svg" alt="Mermaid Diagram"></p>
<a id="cancellation-vs-activation-priority" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Cancellation vs Activation Priority<a href="#cancellation-vs-activation-priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When a scheduled signal's timeout period is reached, cancellation takes precedence over price-based activation checks. The framework evaluates timeout <strong>before</strong> checking whether <code>priceOpen</code> was reached, ensuring deterministic behavior at the boundary condition.</p>
<p><strong>Example</strong>: If <code>CC_SCHEDULE_AWAIT_MINUTES=120</code> and a scheduled signal has been waiting for 120 minutes, it will be cancelled even if the current candle's price briefly touched <code>priceOpen</code>. This prevents ambiguous state where both activation and timeout conditions are met simultaneously.</p>
<a id="test-validation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Test Validation<a href="#test-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The framework includes boundary condition tests that verify exact timeout behavior:</p>
<pre><code class="typescript"><span class="hl-5">// Test: Timeout exactly at CC_SCHEDULE_AWAIT_MINUTES boundary (120min)</span><br/><span class="hl-5">// Verifies cancellation occurs at elapsedTime === maxTimeToWait</span><br/><span class="hl-5">// Tolerance: Â±1 minute</span>
</code><button type="button">Copy</button></pre>

<p>The test creates a 121-minute backtest frame where scheduled signal never activates, confirming cancellation occurs precisely at the 120-minute mark.</p>
<hr>
<a id="cc_max_signal_lifetime_minutes-maximum-signal-duration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CC_MAX_SIGNAL_LIFETIME_MINUTES: Maximum Signal Duration<a href="#cc_max_signal_lifetime_minutes-maximum-signal-duration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="description-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Description<a href="#description-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code> defines the maximum allowed value for <code>minuteEstimatedTime</code> in signal generation. This parameter prevents &quot;eternal signals&quot; that would monopolize risk limits for extended periods (days, weeks, or months), effectively deadlocking the strategy.</p>
<p><strong>Default Value</strong>: 1440 minutes (1 day)</p>
<p><strong>Rationale</strong>: Signals with excessive lifetimes prevent new trades by permanently occupying risk limit slots. A signal lasting 30+ days blocks concurrent positions and makes the strategy non-operational.</p>
<a id="validation-flow" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Validation Flow<a href="#validation-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The parameter is enforced during signal validation within <code>VALIDATE_SIGNAL_FN</code>:</p>
<p><img src="../media/74_Timing_Parameters_1.svg" alt="Mermaid Diagram"></p>
<a id="code-implementation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Code Implementation<a href="#code-implementation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The validation check in <code>VALIDATE_SIGNAL_FN</code>:</p>
<pre><code class="typescript"><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_MAX_SIGNAL_LIFETIME_MINUTES</span><span class="hl-1"> &amp;&amp; </span><br/><span class="hl-1">    </span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_MAX_SIGNAL_LIFETIME_MINUTES</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">signal</span><span class="hl-1">.</span><span class="hl-4">minuteEstimatedTime</span><span class="hl-1"> &gt; </span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_MAX_SIGNAL_LIFETIME_MINUTES</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">days</span><span class="hl-1"> = (</span><span class="hl-4">signal</span><span class="hl-1">.</span><span class="hl-4">minuteEstimatedTime</span><span class="hl-1"> / </span><span class="hl-8">60</span><span class="hl-1"> / </span><span class="hl-8">24</span><span class="hl-1">).</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">maxDays</span><span class="hl-1"> = (</span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_MAX_SIGNAL_LIFETIME_MINUTES</span><span class="hl-1"> / </span><span class="hl-8">60</span><span class="hl-1"> / </span><span class="hl-8">24</span><span class="hl-1">).</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">errors</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">`minuteEstimatedTime too large (</span><span class="hl-6">${</span><span class="hl-4">signal</span><span class="hl-9">.</span><span class="hl-4">minuteEstimatedTime</span><span class="hl-6">}</span><span class="hl-2"> minutes = </span><span class="hl-6">${</span><span class="hl-4">days</span><span class="hl-6">}</span><span class="hl-2"> days). `</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-2">`Maximum: </span><span class="hl-6">${</span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-9">.</span><span class="hl-7">CC_MAX_SIGNAL_LIFETIME_MINUTES</span><span class="hl-6">}</span><span class="hl-2"> minutes (</span><span class="hl-6">${</span><span class="hl-4">maxDays</span><span class="hl-6">}</span><span class="hl-2"> days) to prevent strategy deadlock. `</span><span class="hl-1"> +</span><br/><span class="hl-1">      </span><span class="hl-2">`Eternal signals block risk limits and prevent new trades.`</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="impact-on-risk-management" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Impact on Risk Management<a href="#impact-on-risk-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Signals with excessive lifetimes create cascading problems:</p>
<ol>
<li><strong>Risk Limit Deadlock</strong>: Active signals occupy slots in <code>ClientRisk._activePositions</code> Map</li>
<li><strong>Strategy Paralysis</strong>: No new signals can be generated if <code>maxConcurrentPositions</code> is reached</li>
<li><strong>Capital Inefficiency</strong>: Positions remain open without closure, preventing capital reallocation</li>
</ol>
<p><strong>Example Scenario</strong>:</p>
<ul>
<li>Risk profile: <code>maxConcurrentPositions = 3</code></li>
<li>Signal 1: <code>minuteEstimatedTime = 50000</code> (34.7 days) - occupies slot for a month</li>
<li>Signals 2-3: Normal 60-minute signals - fill remaining slots</li>
<li>Result: Strategy cannot generate new signals for 34+ days even if market conditions are favorable</li>
</ul>
<a id="test-coverage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Test Coverage<a href="#test-coverage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The sanitize test suite validates rejection of excessive lifetimes:</p>
<pre><code class="typescript"><span class="hl-5">// Test: Excessive minuteEstimatedTime rejected (&gt;30 days)</span><br/><span class="hl-5">// Signal with minuteEstimatedTime=50000 (&gt;34 days) must be rejected</span><br/><span class="hl-5">// Verifies strategy deadlock prevention</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="cc_avg_price_candles_count-vwap-window-size" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CC_AVG_PRICE_CANDLES_COUNT: VWAP Window Size<a href="#cc_avg_price_candles_count-vwap-window-size" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="description-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Description<a href="#description-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>CC_AVG_PRICE_CANDLES_COUNT</code> specifies the number of recent candles used to calculate the Volume-Weighted Average Price (VWAP) for signal monitoring. This parameter affects price precision in both live tick monitoring and backtest fast-forward simulation.</p>
<p><strong>Default Value</strong>: 5 candles</p>
<p><strong>Impact</strong>: Larger values smooth out price volatility but introduce lag. Smaller values respond faster to price changes but are more susceptible to noise.</p>
<a id="vwap-calculation-implementation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">VWAP Calculation Implementation<a href="#vwap-calculation-implementation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>GET_AVG_PRICE_FN</code> function computes VWAP using the most recent N candles:</p>
<p><img src="../media/74_Timing_Parameters_2.svg" alt="Mermaid Diagram"></p>
<a id="code-implementation-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Code Implementation<a href="#code-implementation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The VWAP function with typical price calculation:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">GET_AVG_PRICE_FN</span><span class="hl-1"> = (</span><span class="hl-4">candles</span><span class="hl-1">: </span><span class="hl-10">ICandleData</span><span class="hl-1">[]): </span><span class="hl-10">number</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">sumPriceVolume</span><span class="hl-1"> = </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-0">reduce</span><span class="hl-1">((</span><span class="hl-4">acc</span><span class="hl-1">, </span><span class="hl-4">c</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">typicalPrice</span><span class="hl-1"> = (</span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">high</span><span class="hl-1"> + </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">low</span><span class="hl-1"> + </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">close</span><span class="hl-1">) / </span><span class="hl-8">3</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">acc</span><span class="hl-1"> + </span><span class="hl-4">typicalPrice</span><span class="hl-1"> * </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">volume</span><span class="hl-1">;</span><br/><span class="hl-1">  }, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">totalVolume</span><span class="hl-1"> = </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-0">reduce</span><span class="hl-1">((</span><span class="hl-4">acc</span><span class="hl-1">, </span><span class="hl-4">c</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">acc</span><span class="hl-1"> + </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">volume</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">totalVolume</span><span class="hl-1"> === </span><span class="hl-8">0</span><br/><span class="hl-1">    ? </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-0">reduce</span><span class="hl-1">((</span><span class="hl-4">acc</span><span class="hl-1">, </span><span class="hl-4">c</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">acc</span><span class="hl-1"> + </span><span class="hl-4">c</span><span class="hl-1">.</span><span class="hl-4">close</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">) / </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-4">length</span><br/><span class="hl-1">    : </span><span class="hl-4">sumPriceVolume</span><span class="hl-1"> / </span><span class="hl-4">totalVolume</span><span class="hl-1">;</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p><strong>Note</strong>: The fallback to simple average (when <code>totalVolume === 0</code>) ensures the function never returns NaN, but this should rarely occur with real market data.</p>
<a id="usage-in-backtest-mode" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Usage in Backtest Mode<a href="#usage-in-backtest-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>During backtest fast-forward simulation, the framework maintains a sliding window:</p>
<pre><code class="typescript"><span class="hl-5">// PROCESS_PENDING_SIGNAL_CANDLES_FN</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">candlesCount</span><span class="hl-1"> = </span><span class="hl-7">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-7">CC_AVG_PRICE_CANDLES_COUNT</span><span class="hl-1">;</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-4">candlesCount</span><span class="hl-1"> - </span><span class="hl-8">1</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">recentCandles</span><span class="hl-1"> = </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-0">slice</span><span class="hl-1">(</span><span class="hl-4">i</span><span class="hl-1"> - (</span><span class="hl-4">candlesCount</span><span class="hl-1"> - </span><span class="hl-8">1</span><span class="hl-1">), </span><span class="hl-4">i</span><span class="hl-1"> + </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">averagePrice</span><span class="hl-1"> = </span><span class="hl-0">GET_AVG_PRICE_FN</span><span class="hl-1">(</span><span class="hl-4">recentCandles</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">// Check TP/SL against averagePrice</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This ensures that TP/SL checks are performed using the same VWAP window as live mode, maintaining consistency between backtesting and live execution.</p>
<a id="usage-in-live-mode" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Usage in Live Mode<a href="#usage-in-live-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In live trading, <code>ClientExchange.getAveragePrice</code> fetches candles and computes VWAP:</p>
<pre><code class="typescript"><span class="hl-5">// Called by ClientStrategy during tick()</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">currentPrice</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">self</span><span class="hl-1">.</span><span class="hl-4">params</span><span class="hl-1">.</span><span class="hl-4">exchange</span><span class="hl-1">.</span><span class="hl-0">getAveragePrice</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">self</span><span class="hl-1">.</span><span class="hl-4">params</span><span class="hl-1">.</span><span class="hl-4">execution</span><span class="hl-1">.</span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-4">symbol</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The exchange connection service handles fetching the exact number of candles specified by <code>CC_AVG_PRICE_CANDLES_COUNT</code>.</p>
<a id="window-size-trade-offs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Window Size Trade-offs<a href="#window-size-trade-offs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Candles</th>
<th>Characteristics</th>
<th>Use Cases</th>
</tr>
</thead>
<tbody>
<tr>
<td>1-3</td>
<td>High responsiveness, noisy, sensitive to wicks</td>
<td>High-frequency strategies, scalping</td>
</tr>
<tr>
<td>5 (default)</td>
<td>Balanced smoothing, typical for 1m intervals</td>
<td>General strategies, medium-term signals</td>
</tr>
<tr>
<td>10-20</td>
<td>Heavily smoothed, lagging, stable</td>
<td>Conservative strategies, low-volatility assets</td>
</tr>
</tbody>
</table>
<p><strong>Important</strong>: The window size interacts with signal interval. A 5-candle window on 1m intervals = 5 minutes of data, but on 5m intervals = 25 minutes of data.</p>
<hr>
<a id="configuration-via-setconfig" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration via setConfig<a href="#configuration-via-setconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All three timing parameters can be modified at runtime using the <code>setConfig</code> function:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">setConfig</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_SCHEDULE_AWAIT_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">60</span><span class="hl-1">,        </span><span class="hl-5">// Reduce timeout to 1 hour</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">720</span><span class="hl-1">,  </span><span class="hl-5">// Limit signals to 12 hours</span><br/><span class="hl-1">  </span><span class="hl-4">CC_AVG_PRICE_CANDLES_COUNT:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">,       </span><span class="hl-5">// Increase VWAP window to 10 candles</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="configuration-timing" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Configuration Timing<a href="#configuration-timing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Best Practice</strong>: Call <code>setConfig()</code> immediately after imports, before any strategy or exchange registration. Changes to <code>GLOBAL_CONFIG</code> affect all subsequent operations but do not retroactively modify existing instances.</p>
<p><strong>Test Mode Override</strong>: Test suites commonly disable timing validations to test edge cases:</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MIN_TAKEPROFIT_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">,  </span><span class="hl-5">// Disable TP distance check</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_STOPLOSS_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,  </span><span class="hl-5">// Allow any SL distance</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">999999</span><span class="hl-1">, </span><span class="hl-5">// Allow eternal signals for testing</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="parameter-interaction-matrix" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Parameter Interaction Matrix<a href="#parameter-interaction-matrix" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The three timing parameters interact with other system components:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Affects</th>
<th>Interaction With</th>
<th>Failure Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CC_SCHEDULE_AWAIT_MINUTES</code></td>
<td>Scheduled signal cancellation</td>
<td>Signal interval, frame duration</td>
<td>Timeout before activation possible</td>
</tr>
<tr>
<td><code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code></td>
<td>Signal validation</td>
<td><code>minuteEstimatedTime</code> field</td>
<td>Rejection in <code>VALIDATE_SIGNAL_FN</code></td>
</tr>
<tr>
<td><code>CC_AVG_PRICE_CANDLES_COUNT</code></td>
<td>VWAP calculation</td>
<td>Candle interval, exchange latency</td>
<td>Insufficient historical data</td>
</tr>
</tbody>
</table>
<a id="scheduled-signal-timeout-and-frame-duration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Scheduled Signal Timeout and Frame Duration<a href="#scheduled-signal-timeout-and-frame-duration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If backtesting a short timeframe, ensure the frame is longer than <code>CC_SCHEDULE_AWAIT_MINUTES</code>:</p>
<pre><code class="typescript"><span class="hl-0">addFrame</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;test-frame&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-2">&quot;1m&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">startDate:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">endDate:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&quot;2024-01-01T03:00:00Z&quot;</span><span class="hl-1">), </span><span class="hl-5">// 180 minutes (&gt; 120min timeout)</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Otherwise, scheduled signals will always timeout before the frame ends.</p>
<a id="vwap-window-and-data-availability" class="tsd-anchor"></a><h3 class="tsd-anchor-link">VWAP Window and Data Availability<a href="#vwap-window-and-data-availability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In backtest mode, the first <code>CC_AVG_PRICE_CANDLES_COUNT - 1</code> candles cannot calculate full VWAP. The framework handles this by starting iteration at index <code>candlesCount - 1</code>:</p>
<pre><code class="typescript"><span class="hl-3">for</span><span class="hl-1"> (</span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-4">candlesCount</span><span class="hl-1"> - </span><span class="hl-8">1</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">candles</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">  </span><span class="hl-5">// First iteration has exactly candlesCount candles available</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This ensures VWAP is always calculated from the full window.</p>
<hr>
<a id="common-configuration-scenarios" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Common Configuration Scenarios<a href="#common-configuration-scenarios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="scenario-1-high-frequency-scalping-strategy" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Scenario 1: High-Frequency Scalping Strategy<a href="#scenario-1-high-frequency-scalping-strategy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_SCHEDULE_AWAIT_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">,        </span><span class="hl-5">// Fast timeout for rapid rejection</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">60</span><span class="hl-1">,  </span><span class="hl-5">// Signals close within 1 hour</span><br/><span class="hl-1">  </span><span class="hl-4">CC_AVG_PRICE_CANDLES_COUNT:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1">,       </span><span class="hl-5">// Minimal smoothing, fast response</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Rationale</strong>: Scalping requires quick entry/exit with minimal lag. Short timeouts prevent stale scheduled signals. Small VWAP window responds to immediate price action.</p>
<a id="scenario-2-conservative-swing-trading" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Scenario 2: Conservative Swing Trading<a href="#scenario-2-conservative-swing-trading" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_SCHEDULE_AWAIT_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">480</span><span class="hl-1">,      </span><span class="hl-5">// Wait up to 8 hours for activation</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-8">10080</span><span class="hl-1">, </span><span class="hl-5">// Signals can last 7 days</span><br/><span class="hl-1">  </span><span class="hl-4">CC_AVG_PRICE_CANDLES_COUNT:</span><span class="hl-1"> </span><span class="hl-8">15</span><span class="hl-1">,      </span><span class="hl-5">// Heavy smoothing for stability</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Rationale</strong>: Swing trading tolerates longer signal lifetimes. Large VWAP window filters out intraday noise. Extended timeout allows scheduled signals to activate during overnight sessions.</p>
<a id="scenario-3-backtest-performance-optimization" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Scenario 3: Backtest Performance Optimization<a href="#scenario-3-backtest-performance-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_AVG_PRICE_CANDLES_COUNT:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">,       </span><span class="hl-5">// Minimal VWAP calculation overhead</span><br/><span class="hl-1">  </span><span class="hl-5">// Keep default timeout/lifetime for realistic behavior</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Rationale</strong>: Backtesting thousands of signals benefits from reduced VWAP computation. Using 1 candle (close price) is faster but sacrifices volume-weighted accuracy.</p>
<p><strong>Warning</strong>: Live trading should restore higher <code>CC_AVG_PRICE_CANDLES_COUNT</code> for production reliability.</p>
<hr>
<a id="timing-parameter-validation-summary" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Timing Parameter Validation Summary<a href="#timing-parameter-validation-summary" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/74_Timing_Parameters_3.svg" alt="Mermaid Diagram"></p>
<hr>
<p><strong>Sources for this document</strong>: <a href="">src/config/params.ts:1-36</a>, <a href="">src/client/ClientStrategy.ts:40-296</a>, <a href="">src/client/ClientStrategy.ts:332-386</a>, <a href="">src/client/ClientStrategy.ts:1048-1196</a>, <a href="">test/e2e/defend.test.mjs:444-536</a>, <a href="">test/e2e/sanitize.test.mjs:250-348</a>, <a href="">test/config/setup.mjs:36-41</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#timing-parameters"><span>Timing <wbr/>Parameters</span></a><ul><li><a href="#purpose-and-scope"><span>Purpose and <wbr/>Scope</span></a></li><li><a href="#overview-of-timing-parameters"><span>Overview of <wbr/>Timing <wbr/>Parameters</span></a></li><li><a href="#cc_schedule_await_minutes-scheduled-signal-timeout"><span>CC_<wbr/>SCHEDULE_<wbr/>AWAIT_<wbr/>MINUTES: <wbr/>Scheduled <wbr/>Signal <wbr/>Timeout</span></a></li><li><ul><li><a href="#description"><span>Description</span></a></li><li><a href="#code-usage"><span>Code <wbr/>Usage</span></a></li><li><a href="#timeout-behavior-flow"><span>Timeout <wbr/>Behavior <wbr/>Flow</span></a></li><li><a href="#cancellation-vs-activation-priority"><span>Cancellation vs <wbr/>Activation <wbr/>Priority</span></a></li><li><a href="#test-validation"><span>Test <wbr/>Validation</span></a></li></ul></li><li><a href="#cc_max_signal_lifetime_minutes-maximum-signal-duration"><span>CC_<wbr/>MAX_<wbr/>SIGNAL_<wbr/>LIFETIME_<wbr/>MINUTES: <wbr/>Maximum <wbr/>Signal <wbr/>Duration</span></a></li><li><ul><li><a href="#description-1"><span>Description</span></a></li><li><a href="#validation-flow"><span>Validation <wbr/>Flow</span></a></li><li><a href="#code-implementation"><span>Code <wbr/>Implementation</span></a></li><li><a href="#impact-on-risk-management"><span>Impact on <wbr/>Risk <wbr/>Management</span></a></li><li><a href="#test-coverage"><span>Test <wbr/>Coverage</span></a></li></ul></li><li><a href="#cc_avg_price_candles_count-vwap-window-size"><span>CC_<wbr/>AVG_<wbr/>PRICE_<wbr/>CANDLES_<wbr/>COUNT: VWAP <wbr/>Window <wbr/>Size</span></a></li><li><ul><li><a href="#description-2"><span>Description</span></a></li><li><a href="#vwap-calculation-implementation"><span>VWAP <wbr/>Calculation <wbr/>Implementation</span></a></li><li><a href="#code-implementation-1"><span>Code <wbr/>Implementation</span></a></li><li><a href="#usage-in-backtest-mode"><span>Usage in <wbr/>Backtest <wbr/>Mode</span></a></li><li><a href="#usage-in-live-mode"><span>Usage in <wbr/>Live <wbr/>Mode</span></a></li><li><a href="#window-size-trade-offs"><span>Window <wbr/>Size <wbr/>Trade-<wbr/>offs</span></a></li></ul></li><li><a href="#configuration-via-setconfig"><span>Configuration via set<wbr/>Config</span></a></li><li><ul><li><a href="#configuration-timing"><span>Configuration <wbr/>Timing</span></a></li></ul></li><li><a href="#parameter-interaction-matrix"><span>Parameter <wbr/>Interaction <wbr/>Matrix</span></a></li><li><ul><li><a href="#scheduled-signal-timeout-and-frame-duration"><span>Scheduled <wbr/>Signal <wbr/>Timeout and <wbr/>Frame <wbr/>Duration</span></a></li><li><a href="#vwap-window-and-data-availability"><span>VWAP <wbr/>Window and <wbr/>Data <wbr/>Availability</span></a></li></ul></li><li><a href="#common-configuration-scenarios"><span>Common <wbr/>Configuration <wbr/>Scenarios</span></a></li><li><ul><li><a href="#scenario-1-high-frequency-scalping-strategy"><span>Scenario 1: <wbr/>High-<wbr/>Frequency <wbr/>Scalping <wbr/>Strategy</span></a></li><li><a href="#scenario-2-conservative-swing-trading"><span>Scenario 2: <wbr/>Conservative <wbr/>Swing <wbr/>Trading</span></a></li><li><a href="#scenario-3-backtest-performance-optimization"><span>Scenario 3: <wbr/>Backtest <wbr/>Performance <wbr/>Optimization</span></a></li></ul></li><li><a href="#timing-parameter-validation-summary"><span>Timing <wbr/>Parameter <wbr/>Validation <wbr/>Summary</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
