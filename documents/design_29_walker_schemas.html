<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/29_walker_schemas | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_29_walker_schemas.html">design/29_walker_schemas</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="walker-schemas" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Walker Schemas<a href="#walker-schemas" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This document defines the <code>IWalkerSchema</code> interface for registering Walker components via <code>addWalker()</code>. Walker schemas configure strategy comparison operations that run multiple strategies sequentially and rank them by a chosen performance metric.</p>
<p>For information about executing Walker operations, see <a href="design_19_walker_api.html">Walker API</a>. For details about Walker execution flow and implementation, see <a href="design_61_walker_mode.html">Walker Mode</a>.</p>
<a id="schema-interface" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Schema Interface<a href="#schema-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker schemas are registered using the <code>IWalkerSchema</code> interface, which specifies a collection of strategies to compare, a metric for ranking, and the execution environment.</p>
<p><img src="../media/29_Walker_Schemas_0.svg" alt="Mermaid Diagram"></p>
<a id="required-fields" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Required Fields<a href="#required-fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="walkername" class="tsd-anchor"></a><h3 class="tsd-anchor-link">walkerName<a href="#walkername" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Unique identifier for the Walker configuration. Used to retrieve Walker instances via dependency injection and for logging/reporting.</p>
<pre><code class="typescript"><span class="hl-10">walkerName</span><span class="hl-1">: </span><span class="hl-4">WalkerName</span><span class="hl-1">; </span><span class="hl-5">// string type alias</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-10">walkerName</span><span class="hl-1">: </span><span class="hl-2">&quot;btc-strategy-comparison&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="strategies" class="tsd-anchor"></a><h3 class="tsd-anchor-link">strategies<a href="#strategies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Array of strategy names to compare. Each strategy must be registered via <code>addStrategy()</code> before Walker execution. Strategies are executed sequentially in array order.</p>
<pre><code class="typescript"><span class="hl-10">strategies</span><span class="hl-1">: </span><span class="hl-4">StrategyName</span><span class="hl-1">[]; </span><span class="hl-5">// StrategyName[] = string[]</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-10">strategies</span><span class="hl-1">: [</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;rsi-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;macd-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;bollinger-strategy&quot;</span><br/><span class="hl-1">]</span>
</code><button type="button">Copy</button></pre>

<p>Walker executes each strategy using the same <code>exchangeName</code> and <code>frameName</code>, ensuring fair comparison under identical market conditions.</p>
<a id="metric" class="tsd-anchor"></a><h3 class="tsd-anchor-link">metric<a href="#metric" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Performance metric used to rank strategies and determine the best performer. The metric value is extracted from <code>BacktestStatistics</code> after each strategy completes.</p>
<pre><code class="typescript"><span class="hl-10">metric</span><span class="hl-1">: </span><span class="hl-4">WalkerMetric</span><span class="hl-1">;</span><br/><br/><span class="hl-7">type</span><span class="hl-1"> </span><span class="hl-13">WalkerMetric</span><span class="hl-1"> = </span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;sharpeRatio&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;annualizedSharpeRatio&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;winRate&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;avgPnl&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;totalPnl&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;certaintyRatio&quot;</span><br/><span class="hl-1">  | </span><span class="hl-2">&quot;expectedYearlyReturns&quot;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="exchangename" class="tsd-anchor"></a><h3 class="tsd-anchor-link">exchangeName<a href="#exchangename" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Exchange configuration to use for all strategy backtests. Must be registered via <code>addExchange()</code> before Walker execution. All strategies in the comparison use this same exchange.</p>
<pre><code class="typescript"><span class="hl-10">exchangeName</span><span class="hl-1">: </span><span class="hl-4">ExchangeName</span><span class="hl-1">; </span><span class="hl-5">// string type alias</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-10">exchangeName</span><span class="hl-1">: </span><span class="hl-2">&quot;binance&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="framename" class="tsd-anchor"></a><h3 class="tsd-anchor-link">frameName<a href="#framename" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Frame (timeframe) configuration to use for all strategy backtests. Must be registered via <code>addFrame()</code> before Walker execution. All strategies are tested against this same historical period.</p>
<pre><code class="typescript"><span class="hl-10">frameName</span><span class="hl-1">: </span><span class="hl-4">FrameName</span><span class="hl-1">; </span><span class="hl-5">// string type alias</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-10">frameName</span><span class="hl-1">: </span><span class="hl-2">&quot;2024-q1&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="metric-selection" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Metric Selection<a href="#metric-selection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>metric</code> field determines how strategies are ranked. Higher metric values indicate better performance (except for negative PnL scenarios).</p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Formula / Source</th>
<th>Typical Range</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sharpeRatio</code></td>
<td>Risk-adjusted returns (daily)</td>
<td><code>avgPnl / stdDevPnl</code></td>
<td>-∞ to +∞ (&gt;1 is good)</td>
</tr>
<tr>
<td><code>annualizedSharpeRatio</code></td>
<td>Sharpe ratio scaled to annual basis</td>
<td><code>sharpeRatio * sqrt(252)</code></td>
<td>-∞ to +∞ (&gt;2 is excellent)</td>
</tr>
<tr>
<td><code>winRate</code></td>
<td>Percentage of profitable trades</td>
<td><code>(winCount / totalSignals) * 100</code></td>
<td>0% to 100%</td>
</tr>
<tr>
<td><code>avgPnl</code></td>
<td>Average profit/loss per trade</td>
<td><code>totalPnl / totalSignals</code></td>
<td>-∞ to +∞</td>
</tr>
<tr>
<td><code>totalPnl</code></td>
<td>Cumulative profit/loss (all trades)</td>
<td><code>sum(pnlPercentage)</code></td>
<td>-∞ to +∞</td>
</tr>
<tr>
<td><code>certaintyRatio</code></td>
<td>Consistency of returns</td>
<td><code>(avgPnl * winRate) / stdDevPnl</code></td>
<td>-∞ to +∞</td>
</tr>
<tr>
<td><code>expectedYearlyReturns</code></td>
<td>Annualized expected return</td>
<td><code>avgPnl * tradesPerYear</code></td>
<td>-∞ to +∞</td>
</tr>
</tbody>
</table>
<p><strong>Default metric:</strong> <code>sharpeRatio</code> is commonly used as the default metric for strategy comparison because it accounts for both returns and risk.</p>
<p><strong>Metric selection guidance:</strong></p>
<ul>
<li>Use <code>sharpeRatio</code> or <code>annualizedSharpeRatio</code> for risk-adjusted comparison</li>
<li>Use <code>winRate</code> if consistency is more important than magnitude</li>
<li>Use <code>totalPnl</code> or <code>avgPnl</code> for absolute return comparison</li>
<li>Use <code>certaintyRatio</code> for strategies with varying volatility</li>
<li>Use <code>expectedYearlyReturns</code> for long-term performance projection</li>
</ul>
<a id="optional-fields" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Optional Fields<a href="#optional-fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="note" class="tsd-anchor"></a><h3 class="tsd-anchor-link">note<a href="#note" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Human-readable description for documentation purposes. Not used by the system, but helpful for understanding Walker configuration intent.</p>
<pre><code class="typescript"><span class="hl-4">note</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example:</strong></p>
<pre><code class="typescript"><span class="hl-10">note</span><span class="hl-1">: </span><span class="hl-2">&quot;Compare momentum strategies during Q1 2024 bull market&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="callbacks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">callbacks<a href="#callbacks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Lifecycle event callbacks triggered during Walker execution. Provides hooks for monitoring progress and results.</p>
<pre><code class="typescript"><span class="hl-4">callbacks</span><span class="hl-1">?: </span><span class="hl-4">Partial</span><span class="hl-1">&lt;</span><span class="hl-4">IWalkerCallbacks</span><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<a id="callback-lifecycle" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Callback Lifecycle<a href="#callback-lifecycle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker execution emits events at key lifecycle points via the <code>IWalkerCallbacks</code> interface.</p>
<p><img src="../media/29_Walker_Schemas_1.svg" alt="Mermaid Diagram"></p>
<a id="onstrategy-callback" class="tsd-anchor"></a><h3 class="tsd-anchor-link">onStrategy Callback<a href="#onstrategy-callback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Invoked after each strategy completes its backtest. Receives full backtest results and statistics for the strategy.</p>
<pre><code class="typescript"><span class="hl-10">onStrategy</span><span class="hl-1">: (</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName</span><span class="hl-1">: </span><span class="hl-4">WalkerName</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">StrategyName</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">results</span><span class="hl-1">: </span><span class="hl-4">IStrategyBacktestResult</span><span class="hl-1">[],</span><br/><span class="hl-1">  </span><span class="hl-4">statistics</span><span class="hl-1">: </span><span class="hl-4">BacktestStatistics</span><br/><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>walkerName</code>: Identifier of the Walker configuration</li>
<li><code>strategyName</code>: Name of the strategy that just completed</li>
<li><code>results</code>: Array of all closed signals from the backtest</li>
<li><code>statistics</code>: Calculated performance metrics (<code>BacktestStatistics</code>)</li>
</ul>
<p><strong>Use cases:</strong></p>
<ul>
<li>Log intermediate progress</li>
<li>Store per-strategy results to database</li>
<li>Emit custom events for monitoring dashboards</li>
</ul>
<a id="oncomplete-callback" class="tsd-anchor"></a><h3 class="tsd-anchor-link">onComplete Callback<a href="#oncomplete-callback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Invoked after all strategies complete and comparative ranking is determined. Receives aggregated results with best strategy identification.</p>
<pre><code class="typescript"><span class="hl-10">onComplete</span><span class="hl-1">: (</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName</span><span class="hl-1">: </span><span class="hl-4">WalkerName</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">results</span><span class="hl-1">: </span><span class="hl-4">IWalkerResults</span><br/><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>walkerName</code>: Identifier of the Walker configuration</li>
<li><code>results</code>: Complete Walker results including ranking</li>
</ul>
<p><strong>Use cases:</strong></p>
<ul>
<li>Generate comparison reports</li>
<li>Trigger downstream automation (e.g., deploy best strategy)</li>
<li>Archive results for historical tracking</li>
</ul>
<a id="walker-results-structure" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Walker Results Structure<a href="#walker-results-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker execution produces <code>IWalkerResults</code> containing the best strategy, its metric value, and full statistics for all strategies.</p>
<pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-13">IWalkerResults</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/** Name of the highest-performing strategy */</span><br/><span class="hl-1">  </span><span class="hl-4">bestStrategy</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">/** Metric value of the best strategy */</span><br/><span class="hl-1">  </span><span class="hl-4">bestMetric</span><span class="hl-1">: </span><span class="hl-13">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">/** Complete results for all strategies (ordered by execution) */</span><br/><span class="hl-1">  </span><span class="hl-4">strategies</span><span class="hl-1">: </span><span class="hl-13">IWalkerStrategyResult</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-13">IWalkerStrategyResult</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">/** Strategy identifier */</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">/** Full performance statistics from backtest */</span><br/><span class="hl-1">  </span><span class="hl-4">statistics</span><span class="hl-1">: </span><span class="hl-13">BacktestStatistics</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Best strategy selection:</strong> The strategy with the highest value for the specified <code>metric</code> is chosen. All metrics are maximization targets (higher is better).</p>
<p><strong>Result ordering:</strong> The <code>strategies</code> array maintains the execution order (same as input <code>strategies</code> array), not sorted by performance. To find ranking, compare <code>statistics[metric]</code> values.</p>
<p><strong>Accessing results:</strong></p>
<pre><code class="typescript"><span class="hl-5">// Via Walker.getData()</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Walker</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;btc-strategy-comparison&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Best: </span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestStrategy</span><span class="hl-7">}</span><span class="hl-2"> (</span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestMetric</span><span class="hl-7">}</span><span class="hl-2">)`</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Via listenWalkerComplete()</span><br/><span class="hl-0">listenWalkerComplete</span><span class="hl-1">((</span><span class="hl-4">walkerName</span><span class="hl-1">, </span><span class="hl-4">results</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">winner</span><span class="hl-1"> = </span><span class="hl-4">results</span><span class="hl-1">.</span><span class="hl-4">strategies</span><span class="hl-1">.</span><span class="hl-0">find</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">s</span><span class="hl-1"> </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">s</span><span class="hl-1">.</span><span class="hl-4">strategyName</span><span class="hl-1"> === </span><span class="hl-4">results</span><span class="hl-1">.</span><span class="hl-4">bestStrategy</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">winner</span><span class="hl-1">.</span><span class="hl-4">statistics</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="registration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Registration<a href="#registration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker schemas are registered using the <code>addWalker()</code> function, which validates the configuration and stores it in the <code>WalkerSchemaService</code> registry.</p>
<p><img src="../media/29_Walker_Schemas_2.svg" alt="Mermaid Diagram"></p>
<p><strong>Basic registration:</strong></p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">addWalker</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addWalker</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName:</span><span class="hl-1"> </span><span class="hl-2">&quot;momentum-comparison&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategies:</span><span class="hl-1"> [</span><span class="hl-2">&quot;rsi-strategy&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;macd-strategy&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-4">metric:</span><span class="hl-1"> </span><span class="hl-2">&quot;sharpeRatio&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-2">&quot;binance&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;2024-q1&quot;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>With callbacks:</strong></p>
<pre><code class="typescript"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addWalker</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName:</span><span class="hl-1"> </span><span class="hl-2">&quot;momentum-comparison&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">note:</span><span class="hl-1"> </span><span class="hl-2">&quot;Compare RSI vs MACD during bull market&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategies:</span><span class="hl-1"> [</span><span class="hl-2">&quot;rsi-strategy&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;macd-strategy&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-4">metric:</span><span class="hl-1"> </span><span class="hl-2">&quot;annualizedSharpeRatio&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-2">&quot;binance&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;2024-q1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">callbacks:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">onStrategy</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">walkerName</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">results</span><span class="hl-1">, </span><span class="hl-4">stats</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">: Sharpe = </span><span class="hl-7">${</span><span class="hl-4">stats</span><span class="hl-9">.</span><span class="hl-4">sharpeRatio</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-0">onComplete</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">walkerName</span><span class="hl-1">, </span><span class="hl-4">results</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Winner: </span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestStrategy</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="validation-rules" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Validation Rules<a href="#validation-rules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker schemas undergo validation before registration to ensure configuration integrity.</p>
<table>
<thead>
<tr>
<th>Validation</th>
<th>Rule</th>
<th>Error Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>walkerName uniqueness</strong></td>
<td>Must not already be registered</td>
<td><code>Walker &quot;test&quot; already exists</code></td>
</tr>
<tr>
<td><strong>walkerName presence</strong></td>
<td>Must be non-empty string</td>
<td><code>walkerName is required</code></td>
</tr>
<tr>
<td><strong>strategies presence</strong></td>
<td>Array must not be empty</td>
<td><code>strategies array cannot be empty</code></td>
</tr>
<tr>
<td><strong>strategies existence</strong></td>
<td>All strategies must be registered</td>
<td><code>Strategy &quot;unknown&quot; not found</code></td>
</tr>
<tr>
<td><strong>metric validity</strong></td>
<td>Must be valid WalkerMetric value</td>
<td><code>Invalid metric &quot;invalid&quot;</code></td>
</tr>
<tr>
<td><strong>exchangeName existence</strong></td>
<td>Exchange must be registered</td>
<td><code>Exchange &quot;unknown&quot; not found</code></td>
</tr>
<tr>
<td><strong>frameName existence</strong></td>
<td>Frame must be registered</td>
<td><code>Frame &quot;unknown&quot; not found</code></td>
</tr>
</tbody>
</table>
<p><strong>Validation timing:</strong> All validation occurs synchronously during <code>addWalker()</code> call, before the schema is stored. Registration either succeeds completely or throws an error.</p>
<p><strong>Validation implementation:</strong> <a href="">src/lib/services/validation/WalkerValidationService.ts</a></p>
<a id="strategy-order-considerations" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Strategy Order Considerations<a href="#strategy-order-considerations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>strategies</code> array order determines execution sequence, which affects:</p>
<ol>
<li><strong>Progress reporting:</strong> <code>progressWalkerEmitter</code> emits after each strategy completes, showing index-based progress</li>
<li><strong>Callback ordering:</strong> <code>onStrategy</code> fires in array order</li>
<li><strong>Early termination:</strong> If Walker execution is cancelled, earlier strategies complete while later ones are skipped</li>
</ol>
<p><strong>Execution diagram:</strong></p>
<p><img src="../media/29_Walker_Schemas_3.svg" alt="Mermaid Diagram"></p>
<p><strong>Best practice:</strong> Place high-priority or baseline strategies first in the array for earlier feedback during long-running comparisons.</p>
<a id="integration-with-walker-execution" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Integration with Walker Execution<a href="#integration-with-walker-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Walker schemas are consumed by the Walker execution pipeline during <code>Walker.run()</code> or <code>Walker.background()</code> operations.</p>
<p><img src="../media/29_Walker_Schemas_4.svg" alt="Mermaid Diagram"></p>
<p><strong>Execution flow:</strong></p>
<ol>
<li>User calls <code>Walker.run(walkerName)</code></li>
<li><code>WalkerCommandService</code> validates Walker exists</li>
<li><code>WalkerLogicPrivateService</code> retrieves schema from <code>WalkerSchemaService</code></li>
<li>For each strategy in schema:
<ul>
<li>Run full backtest via <code>BacktestLogicPublicService</code></li>
<li>Extract metric value from <code>BacktestStatistics</code></li>
<li>Emit progress and fire <code>onStrategy</code> callback</li>
</ul>
</li>
<li>Compare all metric values, identify best strategy</li>
<li>Build <code>IWalkerResults</code> and fire <code>onComplete</code> callback</li>
<li>Return results via <code>Walker.getData()</code></li>
</ol>
<a id="complete-example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Complete Example<a href="#complete-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">addStrategy</span><span class="hl-1">, </span><span class="hl-4">addExchange</span><span class="hl-1">, </span><span class="hl-4">addFrame</span><span class="hl-1">, </span><span class="hl-4">addWalker</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Register dependencies</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addExchange</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-2">&quot;binance&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">getCandles</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">interval</span><span class="hl-1">, </span><span class="hl-4">since</span><span class="hl-1">, </span><span class="hl-4">limit</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// CCXT implementation</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-0">formatPrice</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">price</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">price</span><span class="hl-1">.</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-6">2</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">formatQuantity</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">qty</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">qty</span><span class="hl-1">.</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-6">8</span><span class="hl-1">)</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addFrame</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;2024-q1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-2">&quot;1h&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">startDate:</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&quot;2024-01-01&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">endDate:</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&quot;2024-03-31&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addStrategy</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&quot;rsi-oversold&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-2">&quot;1h&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">getSignal</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// RSI calculation and signal logic</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> { </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;long&quot;</span><span class="hl-1">, </span><span class="hl-4">priceTakeProfit:</span><span class="hl-1"> </span><span class="hl-6">50000</span><span class="hl-1">, </span><span class="hl-4">priceStopLoss:</span><span class="hl-1"> </span><span class="hl-6">48000</span><span class="hl-1">, </span><span class="hl-4">minuteEstimatedTime:</span><span class="hl-1"> </span><span class="hl-6">1440</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addStrategy</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&quot;macd-crossover&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">interval:</span><span class="hl-1"> </span><span class="hl-2">&quot;1h&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">getSignal</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// MACD calculation and signal logic</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> { </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;long&quot;</span><span class="hl-1">, </span><span class="hl-4">priceTakeProfit:</span><span class="hl-1"> </span><span class="hl-6">51000</span><span class="hl-1">, </span><span class="hl-4">priceStopLoss:</span><span class="hl-1"> </span><span class="hl-6">47000</span><span class="hl-1">, </span><span class="hl-4">minuteEstimatedTime:</span><span class="hl-1"> </span><span class="hl-6">2880</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Register Walker</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addWalker</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName:</span><span class="hl-1"> </span><span class="hl-2">&quot;momentum-strategies&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">note:</span><span class="hl-1"> </span><span class="hl-2">&quot;Compare RSI vs MACD momentum strategies in Q1 2024&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategies:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;rsi-oversold&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;macd-crossover&quot;</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-4">metric:</span><span class="hl-1"> </span><span class="hl-2">&quot;annualizedSharpeRatio&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-2">&quot;binance&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;2024-q1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">callbacks:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">onStrategy</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">walkerName</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">results</span><span class="hl-1">, </span><span class="hl-4">statistics</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Completed </span><span class="hl-7">${</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`  Signals: </span><span class="hl-7">${</span><span class="hl-4">statistics</span><span class="hl-9">.</span><span class="hl-4">totalSignals</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`  Win Rate: </span><span class="hl-7">${</span><span class="hl-4">statistics</span><span class="hl-9">.</span><span class="hl-4">winRate</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`  Sharpe: </span><span class="hl-7">${</span><span class="hl-4">statistics</span><span class="hl-9">.</span><span class="hl-4">sharpeRatio</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-0">onComplete</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">walkerName</span><span class="hl-1">, </span><span class="hl-4">results</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-12">\n</span><span class="hl-2">Best strategy: </span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestStrategy</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Best metric: </span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestMetric</span><span class="hl-9">.</span><span class="hl-0">toFixed</span><span class="hl-9">(</span><span class="hl-6">2</span><span class="hl-9">)</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-5">// Generate comparison table</span><br/><span class="hl-1">      </span><span class="hl-4">results</span><span class="hl-1">.</span><span class="hl-4">strategies</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-4">s</span><span class="hl-1"> </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">s</span><span class="hl-9">.</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">: </span><span class="hl-7">${</span><span class="hl-4">s</span><span class="hl-9">.</span><span class="hl-4">statistics</span><span class="hl-9">.</span><span class="hl-4">annualizedSharpeRatio</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Execute Walker</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Walker</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">progress</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-4">Walker</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName:</span><span class="hl-1"> </span><span class="hl-2">&quot;momentum-strategies&quot;</span><br/><span class="hl-1">})) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Progress: </span><span class="hl-7">${</span><span class="hl-4">progress</span><span class="hl-9">.</span><span class="hl-4">completed</span><span class="hl-7">}</span><span class="hl-2">/</span><span class="hl-7">${</span><span class="hl-4">progress</span><span class="hl-9">.</span><span class="hl-4">total</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Access results</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Walker</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;momentum-strategies&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Winner: </span><span class="hl-7">${</span><span class="hl-4">results</span><span class="hl-9">.</span><span class="hl-4">bestStrategy</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#walker-schemas"><span>Walker <wbr/>Schemas</span></a><ul><li><a href="#schema-interface"><span>Schema <wbr/>Interface</span></a></li><li><a href="#required-fields"><span>Required <wbr/>Fields</span></a></li><li><ul><li><a href="#walkername"><span>walker<wbr/>Name</span></a></li><li><a href="#strategies"><span>strategies</span></a></li><li><a href="#metric"><span>metric</span></a></li><li><a href="#exchangename"><span>exchange<wbr/>Name</span></a></li><li><a href="#framename"><span>frame<wbr/>Name</span></a></li></ul></li><li><a href="#metric-selection"><span>Metric <wbr/>Selection</span></a></li><li><a href="#optional-fields"><span>Optional <wbr/>Fields</span></a></li><li><ul><li><a href="#note"><span>note</span></a></li><li><a href="#callbacks"><span>callbacks</span></a></li></ul></li><li><a href="#callback-lifecycle"><span>Callback <wbr/>Lifecycle</span></a></li><li><ul><li><a href="#onstrategy-callback"><span>on<wbr/>Strategy <wbr/>Callback</span></a></li><li><a href="#oncomplete-callback"><span>on<wbr/>Complete <wbr/>Callback</span></a></li></ul></li><li><a href="#walker-results-structure"><span>Walker <wbr/>Results <wbr/>Structure</span></a></li><li><a href="#registration"><span>Registration</span></a></li><li><a href="#validation-rules"><span>Validation <wbr/>Rules</span></a></li><li><a href="#strategy-order-considerations"><span>Strategy <wbr/>Order <wbr/>Considerations</span></a></li><li><a href="#integration-with-walker-execution"><span>Integration with <wbr/>Walker <wbr/>Execution</span></a></li><li><a href="#complete-example"><span>Complete <wbr/>Example</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
