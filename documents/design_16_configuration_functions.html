<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/16_configuration_functions | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_16_configuration_functions.html">design/16_configuration_functions</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="configuration-functions" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Configuration Functions<a href="#configuration-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This page documents the global configuration functions that control system-wide behavior across all execution modes (Backtest, Live, Walker). These functions must be called before registering components or executing strategies.</p>
<p>For component registration (strategies, exchanges, risk profiles), see <a href="design_17_component_registration_functions.html">Component Registration Functions</a>. For global configuration parameters and defaults, see <a href="design_78_global_configuration.html">Global Configuration</a>.</p>
<hr>
<a id="purpose-and-scope" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Purpose and Scope<a href="#purpose-and-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Configuration functions provide three categories of system-wide settings:</p>
<ol>
<li><strong>Logger Configuration</strong>: Custom logging implementation for debug output and monitoring</li>
<li><strong>Global Configuration</strong>: System parameters (fees, slippage, VWAP calculation, validation thresholds)</li>
<li><strong>Column Configuration</strong>: Report column visibility and formatting for markdown output</li>
</ol>
<p>All configuration functions are idempotent and can be called multiple times. The last call before component registration takes precedence. Configuration changes after component registration do not affect already-registered components.</p>
<hr>
<a id="configuration-flow-architecture" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration Flow Architecture<a href="#configuration-flow-architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/16_Configuration_Functions_0.svg" alt="Mermaid Diagram"></p>
<p><strong>Analysis</strong>: Configuration functions operate at the topmost layer of the system. <code>setLogger()</code> injects a custom logger into the DI container, replacing the default <code>LoggerService</code> implementation. <code>setConfig()</code> and <code>setColumns()</code> update memoized stores that are read by validation and markdown services. All configuration is immutable after initial setup.</p>
<hr>
<a id="logger-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Logger Configuration<a href="#logger-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="setlogger" class="tsd-anchor"></a><h3 class="tsd-anchor-link">setLogger<a href="#setlogger" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">setLogger</span><span class="hl-1">(</span><span class="hl-4">logger</span><span class="hl-1">: </span><span class="hl-11">ILogger</span><span class="hl-1">): </span><span class="hl-11">void</span>
</code><button type="button">Copy</button></pre>

<p>Replaces the default logger with a custom implementation. Must be called before any component registration or execution.</p>
<a id="ilogger-interface" class="tsd-anchor"></a><h4 class="tsd-anchor-link">ILogger Interface<a href="#ilogger-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The logger interface defines four severity levels used throughout the system:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Purpose</th>
<th>Usage Context</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>log(topic, ...args)</code></td>
<td>General-purpose logging</td>
<td>Component lifecycle events, state transitions</td>
</tr>
<tr>
<td><code>debug(topic, ...args)</code></td>
<td>Detailed diagnostic information</td>
<td>Intermediate states, detailed execution flow</td>
</tr>
<tr>
<td><code>info(topic, ...args)</code></td>
<td>Informational updates</td>
<td>Successful operations, high-level status</td>
</tr>
<tr>
<td><code>warn(topic, ...args)</code></td>
<td>Potentially problematic situations</td>
<td>Unexpected conditions, non-fatal errors</td>
</tr>
</tbody>
</table>
<a id="parameters" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Parameters<a href="#parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>logger</strong>: <code>ILogger</code> - Custom logger implementation conforming to the interface</li>
</ul>
<a id="interface-definition" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Interface Definition<a href="#interface-definition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-11">ILogger</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">: </span><span class="hl-11">any</span><span class="hl-1">[]): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">debug</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">: </span><span class="hl-11">any</span><span class="hl-1">[]): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">: </span><span class="hl-11">any</span><span class="hl-1">[]): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">warn</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">: </span><span class="hl-11">any</span><span class="hl-1">[]): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="example-usage" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">setLogger</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Custom logger with structured output</span><br/><span class="hl-0">setLogger</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">log</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`[LOG] </span><span class="hl-7">${</span><span class="hl-4">topic</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">debug</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">debug</span><span class="hl-1">(</span><span class="hl-2">`[DEBUG] </span><span class="hl-7">${</span><span class="hl-4">topic</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">info</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-2">`[INFO] </span><span class="hl-7">${</span><span class="hl-4">topic</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">warn</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">warn</span><span class="hl-1">(</span><span class="hl-2">`[WARN] </span><span class="hl-7">${</span><span class="hl-4">topic</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Logger with external monitoring service</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">winston</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;winston&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">winstonLogger</span><span class="hl-1"> = </span><span class="hl-4">winston</span><span class="hl-1">.</span><span class="hl-0">createLogger</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">level:</span><span class="hl-1"> </span><span class="hl-2">&quot;info&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">format:</span><span class="hl-1"> </span><span class="hl-4">winston</span><span class="hl-1">.</span><span class="hl-4">format</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">transports:</span><span class="hl-1"> [</span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-4">winston</span><span class="hl-1">.</span><span class="hl-4">transports</span><span class="hl-1">.</span><span class="hl-0">File</span><span class="hl-1">({ </span><span class="hl-4">filename:</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest.log&quot;</span><span class="hl-1"> })],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">setLogger</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">log</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">winstonLogger</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;info&quot;</span><span class="hl-1">, </span><span class="hl-4">topic</span><span class="hl-1">, { </span><span class="hl-4">args</span><span class="hl-1"> }),</span><br/><span class="hl-1">  </span><span class="hl-0">debug</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">winstonLogger</span><span class="hl-1">.</span><span class="hl-0">debug</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">, { </span><span class="hl-4">args</span><span class="hl-1"> }),</span><br/><span class="hl-1">  </span><span class="hl-0">info</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">winstonLogger</span><span class="hl-1">.</span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">, { </span><span class="hl-4">args</span><span class="hl-1"> }),</span><br/><span class="hl-1">  </span><span class="hl-0">warn</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">topic</span><span class="hl-1">, ...</span><span class="hl-4">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">winstonLogger</span><span class="hl-1">.</span><span class="hl-0">warn</span><span class="hl-1">(</span><span class="hl-4">topic</span><span class="hl-1">, { </span><span class="hl-4">args</span><span class="hl-1"> }),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="logging-topics" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Logging Topics<a href="#logging-topics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The system uses structured topic strings for log filtering:</p>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Example</th>
<th>Source</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>service.method</code></td>
<td><code>strategy.addStrategy</code></td>
<td>Validation services</td>
</tr>
<tr>
<td><code>event.listener</code></td>
<td><code>event.listenSignal</code></td>
<td>Event subscription</td>
</tr>
<tr>
<td><code>command.execution</code></td>
<td><code>backtest.run</code></td>
<td>Execution commands</td>
</tr>
<tr>
<td><code>connection.factory</code></td>
<td><code>connection.getStrategy</code></td>
<td>Connection services</td>
</tr>
</tbody>
</table>
<hr>
<a id="global-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Global Configuration<a href="#global-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="setconfig" class="tsd-anchor"></a><h3 class="tsd-anchor-link">setConfig<a href="#setconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">setConfig</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-11">Partial</span><span class="hl-1">&lt;</span><span class="hl-11">GlobalConfig</span><span class="hl-1">&gt;): </span><span class="hl-11">void</span>
</code><button type="button">Copy</button></pre>

<p>Updates global configuration parameters. Partial updates merge with existing defaults. Must be called before component registration to affect validation behavior.</p>
<a id="parameters-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Parameters<a href="#parameters-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>config</strong>: <code>Partial&lt;GlobalConfig&gt;</code> - Configuration object with optional properties to override</li>
</ul>
<a id="globalconfig-structure" class="tsd-anchor"></a><h4 class="tsd-anchor-link">GlobalConfig Structure<a href="#globalconfig-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>GlobalConfig</code> type defines system-wide parameters affecting:</p>
<ol>
<li>
<p><strong>Pricing and Execution</strong></p>
<ul>
<li><code>slippage</code>: Percentage slippage applied to entry/exit prices (default: 0.1%)</li>
<li><code>fees</code>: Trading fee percentage per trade (default: 0.1%)</li>
<li><code>CC_VWAP_CANDLE_COUNT</code>: Number of 1-minute candles for VWAP calculation (default: 5)</li>
</ul>
</li>
<li>
<p><strong>Validation Thresholds</strong></p>
<ul>
<li><code>CC_MIN_TAKEPROFIT_DISTANCE_PERCENT</code>: Minimum distance between entry and take profit (default: 0.5%)</li>
<li><code>CC_MIN_STOPLOSS_DISTANCE_PERCENT</code>: Minimum distance between entry and stop loss (default: 0.5%)</li>
<li><code>CC_MAX_STOPLOSS_DISTANCE_PERCENT</code>: Maximum distance between entry and stop loss (default: 50%)</li>
</ul>
</li>
<li>
<p><strong>Signal Lifecycle</strong></p>
<ul>
<li><code>CC_SCHEDULE_AWAIT_MINUTES</code>: Maximum time to wait for scheduled signal activation (default: 1440 minutes / 24 hours)</li>
<li><code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code>: Maximum time a signal can remain active (default: 10080 minutes / 7 days)</li>
</ul>
</li>
<li>
<p><strong>Execution Timing</strong></p>
<ul>
<li><code>TICK_TTL</code>: Sleep interval between ticks in live mode (default: 60000ms / 1 minute)</li>
</ul>
</li>
</ol>
<a id="example-usage-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">setConfig</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Conservative configuration with higher fees</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">slippage:</span><span class="hl-1"> </span><span class="hl-6">0.2</span><span class="hl-1">,          </span><span class="hl-5">// 0.2% slippage</span><br/><span class="hl-1">  </span><span class="hl-4">fees:</span><span class="hl-1"> </span><span class="hl-6">0.15</span><span class="hl-1">,             </span><span class="hl-5">// 0.15% trading fees</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MIN_TAKEPROFIT_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">1.0</span><span class="hl-1">,  </span><span class="hl-5">// Require 1% minimum profit target</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Aggressive configuration with tighter validation</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_STOPLOSS_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">20</span><span class="hl-1">,     </span><span class="hl-5">// Limit stop loss to 20%</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-6">4320</span><span class="hl-1">,     </span><span class="hl-5">// 3 days max signal lifetime</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Fast live mode for testing</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">TICK_TTL:</span><span class="hl-1"> </span><span class="hl-6">5000</span><span class="hl-1">,         </span><span class="hl-5">// Check every 5 seconds</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="getconfig" class="tsd-anchor"></a><h3 class="tsd-anchor-link">getConfig<a href="#getconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">getConfig</span><span class="hl-1">(): </span><span class="hl-11">GlobalConfig</span>
</code><button type="button">Copy</button></pre>

<p>Retrieves the current global configuration, including defaults for unset properties.</p>
<a id="returns" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Returns<a href="#returns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>GlobalConfig</strong> - Complete configuration object with all properties set</li>
</ul>
<a id="example-usage-2" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">getConfig</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">config</span><span class="hl-1"> = </span><span class="hl-0">getConfig</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Current slippage: </span><span class="hl-7">${</span><span class="hl-4">config</span><span class="hl-9">.</span><span class="hl-4">slippage</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Current fees: </span><span class="hl-7">${</span><span class="hl-4">config</span><span class="hl-9">.</span><span class="hl-4">fees</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`VWAP candle count: </span><span class="hl-7">${</span><span class="hl-4">config</span><span class="hl-9">.</span><span class="hl-8">CC_VWAP_CANDLE_COUNT</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Min TP distance: </span><span class="hl-7">${</span><span class="hl-4">config</span><span class="hl-9">.</span><span class="hl-8">CC_MIN_TAKEPROFIT_DISTANCE_PERCENT</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="getdefaultconfig" class="tsd-anchor"></a><h3 class="tsd-anchor-link">getDefaultConfig<a href="#getdefaultconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">getDefaultConfig</span><span class="hl-1">(): </span><span class="hl-11">GlobalConfig</span>
</code><button type="button">Copy</button></pre>

<p>Retrieves the default configuration without user modifications. Useful for resetting configuration or comparing against defaults.</p>
<a id="returns-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Returns<a href="#returns-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>GlobalConfig</strong> - Default configuration object</li>
</ul>
<a id="example-usage-3" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">getDefaultConfig</span><span class="hl-1">, </span><span class="hl-4">setConfig</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Reset to defaults</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">defaults</span><span class="hl-1"> = </span><span class="hl-0">getDefaultConfig</span><span class="hl-1">();</span><br/><span class="hl-0">setConfig</span><span class="hl-1">(</span><span class="hl-4">defaults</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Compare current vs defaults</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">current</span><span class="hl-1"> = </span><span class="hl-0">getConfig</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">diff</span><span class="hl-1"> = </span><span class="hl-4">Object</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-4">current</span><span class="hl-1">).</span><span class="hl-0">filter</span><span class="hl-1">(</span><br/><span class="hl-1">  (</span><span class="hl-4">key</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">current</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">] !== </span><span class="hl-4">defaults</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">]</span><br/><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Modified config keys:&quot;</span><span class="hl-1">, </span><span class="hl-4">diff</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="column-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Column Configuration<a href="#column-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="setcolumns" class="tsd-anchor"></a><h3 class="tsd-anchor-link">setColumns<a href="#setcolumns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">setColumns</span><span class="hl-1">(</span><span class="hl-4">columns</span><span class="hl-1">: </span><span class="hl-11">Partial</span><span class="hl-1">&lt;</span><span class="hl-11">ColumnConfig</span><span class="hl-1">&gt;): </span><span class="hl-11">void</span>
</code><button type="button">Copy</button></pre>

<p>Configures which columns appear in generated markdown reports. Affects <code>BacktestMarkdownService</code>, <code>LiveMarkdownService</code>, <code>WalkerMarkdownService</code>, and related report generation.</p>
<a id="parameters-2" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Parameters<a href="#parameters-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>columns</strong>: <code>Partial&lt;ColumnConfig&gt;</code> - Column visibility configuration</li>
</ul>
<a id="columnconfig-structure" class="tsd-anchor"></a><h4 class="tsd-anchor-link">ColumnConfig Structure<a href="#columnconfig-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>ColumnConfig</code> type defines boolean flags for report columns:</p>
<table>
<thead>
<tr>
<th>Column Group</th>
<th>Properties</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Signal Details</td>
<td><code>signalId</code>, <code>position</code>, <code>note</code></td>
<td>Signal identification and direction</td>
</tr>
<tr>
<td>Prices</td>
<td><code>priceOpen</code>, <code>priceClose</code>, <code>priceTakeProfit</code>, <code>priceStopLoss</code></td>
<td>Entry, exit, and target prices</td>
</tr>
<tr>
<td>Timestamps</td>
<td><code>scheduledAt</code>, <code>pendingAt</code>, <code>closeTimestamp</code></td>
<td>Signal lifecycle timestamps</td>
</tr>
<tr>
<td>Performance</td>
<td><code>pnl</code>, <code>pnlPercentage</code>, <code>closeReason</code></td>
<td>Profit/loss and exit reason</td>
</tr>
<tr>
<td>Progress</td>
<td><code>percentTp</code>, <code>percentSl</code></td>
<td>Progress towards TP/SL during active state</td>
</tr>
<tr>
<td>Strategy Context</td>
<td><code>strategyName</code>, <code>exchangeName</code>, <code>symbol</code></td>
<td>Execution context</td>
</tr>
</tbody>
</table>
<a id="example-usage-4" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">setColumns</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Minimal report with only PNL</span><br/><span class="hl-0">setColumns</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">signalId:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">pnlPercentage:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">closeReason:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">// All other columns false by default</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Detailed report with all columns</span><br/><span class="hl-0">setColumns</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">signalId:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">note:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">priceOpen:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">priceClose:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">priceTakeProfit:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">priceStopLoss:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">scheduledAt:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">pendingAt:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">closeTimestamp:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">pnl:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">pnlPercentage:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">closeReason:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">percentTp:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">percentSl:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">symbol:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Performance-focused report</span><br/><span class="hl-0">setColumns</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">signalId:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">pnlPercentage:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">closeReason:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">percentTp:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">percentSl:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="getcolumns" class="tsd-anchor"></a><h3 class="tsd-anchor-link">getColumns<a href="#getcolumns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">getColumns</span><span class="hl-1">(): </span><span class="hl-11">ColumnConfig</span>
</code><button type="button">Copy</button></pre>

<p>Retrieves the current column configuration.</p>
<a id="returns-2" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Returns<a href="#returns-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>ColumnConfig</strong> - Current column visibility settings</li>
</ul>
<a id="example-usage-5" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">getColumns</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">columns</span><span class="hl-1"> = </span><span class="hl-0">getColumns</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Check which columns are enabled</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">columns</span><span class="hl-1">.</span><span class="hl-4">pnlPercentage</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;PNL percentage column is visible&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Count enabled columns</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">enabledCount</span><span class="hl-1"> = </span><span class="hl-4">Object</span><span class="hl-1">.</span><span class="hl-0">values</span><span class="hl-1">(</span><span class="hl-4">columns</span><span class="hl-1">).</span><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-4">Boolean</span><span class="hl-1">).</span><span class="hl-4">length</span><span class="hl-1">;</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">enabledCount</span><span class="hl-7">}</span><span class="hl-2"> columns enabled`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="getdefaultcolumns" class="tsd-anchor"></a><h3 class="tsd-anchor-link">getDefaultColumns<a href="#getdefaultcolumns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">getDefaultColumns</span><span class="hl-1">(): </span><span class="hl-11">ColumnConfig</span>
</code><button type="button">Copy</button></pre>

<p>Retrieves the default column configuration without user modifications.</p>
<a id="returns-3" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Returns<a href="#returns-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>ColumnConfig</strong> - Default column visibility settings</li>
</ul>
<a id="example-usage-6" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example Usage<a href="#example-usage-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">getDefaultColumns</span><span class="hl-1">, </span><span class="hl-4">setColumns</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Reset to defaults</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">defaults</span><span class="hl-1"> = </span><span class="hl-0">getDefaultColumns</span><span class="hl-1">();</span><br/><span class="hl-0">setColumns</span><span class="hl-1">(</span><span class="hl-4">defaults</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Identify modified columns</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">current</span><span class="hl-1"> = </span><span class="hl-0">getColumns</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">modified</span><span class="hl-1"> = </span><span class="hl-4">Object</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-4">current</span><span class="hl-1">).</span><span class="hl-0">filter</span><span class="hl-1">(</span><br/><span class="hl-1">  (</span><span class="hl-4">key</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">current</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">] !== </span><span class="hl-4">defaults</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">]</span><br/><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Modified columns:&quot;</span><span class="hl-1">, </span><span class="hl-4">modified</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="configuration-lifecycle" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration Lifecycle<a href="#configuration-lifecycle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/16_Configuration_Functions_1.svg" alt="Mermaid Diagram"></p>
<p><strong>Analysis</strong>: Configuration functions must be called in order during initialization phase, before any component registration. Once components are registered, configuration changes do not affect them. This ensures consistent behavior across execution modes and prevents unexpected runtime changes.</p>
<p><strong>Lifecycle Rules</strong>:</p>
<ol>
<li><strong>Order Independence</strong>: <code>setLogger()</code>, <code>setConfig()</code>, and <code>setColumns()</code> can be called in any order</li>
<li><strong>Idempotency</strong>: Multiple calls are allowed; last call wins</li>
<li><strong>Immutability</strong>: Configuration is frozen at first component registration</li>
<li><strong>Defaults</strong>: Unset properties use memoized defaults from <code>getDefaultConfig()</code> and <code>getDefaultColumns()</code></li>
</ol>
<hr>
<a id="configuration-validation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration Validation<a href="#configuration-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/16_Configuration_Functions_2.svg" alt="Mermaid Diagram"></p>
<p><strong>Analysis</strong>: Both <code>setConfig()</code> and <code>setColumns()</code> invoke validation services before accepting changes. <code>ConfigValidationService</code> enforces type safety, range constraints, and logical consistency. <code>ColumnValidationService</code> validates boolean flags and column name spelling. Invalid configurations throw errors immediately, preventing silent failures during execution.</p>
<p><strong>Validation Examples</strong>:</p>
<pre><code class="typescript"><span class="hl-5">// INVALID: Slippage out of range</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({ </span><span class="hl-4">slippage:</span><span class="hl-1"> </span><span class="hl-6">150</span><span class="hl-1"> }); </span><span class="hl-5">// Throws: &quot;slippage must be between 0 and 100&quot;</span><br/><br/><span class="hl-5">// INVALID: Logical inconsistency</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MIN_TAKEPROFIT_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_STOPLOSS_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">5</span><span class="hl-1">,  </span><span class="hl-5">// MAX &lt; MIN</span><br/><span class="hl-1">}); </span><span class="hl-5">// Throws: &quot;CC_MAX_STOPLOSS_DISTANCE_PERCENT must be &gt;= CC_MIN_TAKEPROFIT_DISTANCE_PERCENT&quot;</span><br/><br/><span class="hl-5">// VALID: Partial update merges with defaults</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">slippage:</span><span class="hl-1"> </span><span class="hl-6">0.5</span><span class="hl-1">,  </span><span class="hl-5">// Only override slippage</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// VALID: Column configuration</span><br/><span class="hl-0">setColumns</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">pnlPercentage:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">unknownColumn:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,  </span><span class="hl-5">// Ignored, logged as warning</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="configuration-impact-on-system-behavior" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Configuration Impact on System Behavior<a href="#configuration-impact-on-system-behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="vwap-pricing" class="tsd-anchor"></a><h3 class="tsd-anchor-link">VWAP Pricing<a href="#vwap-pricing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>CC_VWAP_CANDLE_COUNT</code> parameter controls how many 1-minute candles are used for Volume Weighted Average Price calculation. This affects entry and exit prices for all signals.</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({ </span><span class="hl-4">CC_VWAP_CANDLE_COUNT:</span><span class="hl-1"> </span><span class="hl-6">10</span><span class="hl-1"> }); </span><span class="hl-5">// Use last 10 candles instead of default 5</span>
</code><button type="button">Copy</button></pre>

<p><strong>Impact</strong>:</p>
<ul>
<li><strong>Lower values</strong> (e.g., 3): More responsive to recent price movements, higher variance</li>
<li><strong>Higher values</strong> (e.g., 10): More stable pricing, less affected by short-term volatility</li>
<li><strong>Used by</strong>: <code>ClientExchange.getAveragePrice()</code> (<a href="">src/client/ClientExchange.ts</a>)</li>
</ul>
<hr>
<a id="validation-thresholds" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Validation Thresholds<a href="#validation-thresholds" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Minimum and maximum distance parameters prevent unrealistic signal targets:</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MIN_TAKEPROFIT_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">2.0</span><span class="hl-1">,   </span><span class="hl-5">// Require 2% minimum profit</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MIN_STOPLOSS_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">1.0</span><span class="hl-1">,     </span><span class="hl-5">// Require 1% minimum stop loss</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_STOPLOSS_DISTANCE_PERCENT:</span><span class="hl-1"> </span><span class="hl-6">25.0</span><span class="hl-1">,    </span><span class="hl-5">// Limit stop loss to 25%</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Impact</strong>:</p>
<ul>
<li><strong>Validation</strong>: <code>StrategyValidationService</code> rejects signals violating these constraints</li>
<li><strong>Signal rejection</strong>: Invalid signals transition to <code>cancelled</code> state without opening positions</li>
<li><strong>Used by</strong>: <code>ClientStrategy.tick()</code> during signal validation (<a href="">src/client/ClientStrategy.ts</a>)</li>
</ul>
<hr>
<a id="signal-lifetime" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Signal Lifetime<a href="#signal-lifetime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Lifetime parameters control how long signals remain active:</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_SCHEDULE_AWAIT_MINUTES:</span><span class="hl-1"> </span><span class="hl-6">720</span><span class="hl-1">,          </span><span class="hl-5">// Wait 12 hours for scheduled signals</span><br/><span class="hl-1">  </span><span class="hl-4">CC_MAX_SIGNAL_LIFETIME_MINUTES:</span><span class="hl-1"> </span><span class="hl-6">2880</span><span class="hl-1">,    </span><span class="hl-5">// Force close after 2 days</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Impact</strong>:</p>
<ul>
<li><strong>Scheduled signals</strong>: Cancelled if price doesn't reach <code>priceOpen</code> within <code>CC_SCHEDULE_AWAIT_MINUTES</code></li>
<li><strong>Active signals</strong>: Force closed with <code>time_expired</code> reason after <code>CC_MAX_SIGNAL_LIFETIME_MINUTES</code></li>
<li><strong>Used by</strong>: <code>ClientStrategy.tick()</code> and <code>ClientStrategy.backtest()</code> (<a href="">src/client/ClientStrategy.ts</a>)</li>
</ul>
<hr>
<a id="live-mode-tick-interval" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Live Mode Tick Interval<a href="#live-mode-tick-interval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>TICK_TTL</code> parameter controls sleep duration between strategy ticks in live mode:</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">TICK_TTL:</span><span class="hl-1"> </span><span class="hl-6">30000</span><span class="hl-1">,  </span><span class="hl-5">// Check every 30 seconds</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Impact</strong>:</p>
<ul>
<li><strong>Responsiveness</strong>: Lower values check more frequently, higher CPU usage</li>
<li><strong>Efficiency</strong>: Higher values reduce API calls, lower monitoring overhead</li>
<li><strong>Used by</strong>: <code>LiveLogicPrivateService</code> infinite loop (<a href="">src/lib/services/logic/private/LiveLogicPrivateService.ts</a>)</li>
</ul>
<hr>
<a id="fees-and-slippage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fees and Slippage<a href="#fees-and-slippage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Fees and slippage affect PnL calculations for all closed signals:</p>
<pre><code class="typescript"><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">fees:</span><span class="hl-1"> </span><span class="hl-6">0.075</span><span class="hl-1">,      </span><span class="hl-5">// 0.075% maker/taker fees (Binance VIP level)</span><br/><span class="hl-1">  </span><span class="hl-4">slippage:</span><span class="hl-1"> </span><span class="hl-6">0.15</span><span class="hl-1">,   </span><span class="hl-5">// 0.15% slippage (market volatility)</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Impact</strong>:</p>
<ul>
<li><strong>Entry price</strong>: Adjusted by <code>(1 + slippage/100) * (1 + fees/100)</code> for long, opposite for short</li>
<li><strong>Exit price</strong>: Adjusted by <code>(1 - slippage/100) * (1 - fees/100)</code> for long, opposite for short</li>
<li><strong>Used by</strong>: <code>ClientStrategy._calculatePnL()</code> (<a href="">src/client/ClientStrategy.ts</a>)</li>
</ul>
<hr>
<a id="summary-table" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Summary Table<a href="#summary-table" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Function</th>
<th>Category</th>
<th>Affects</th>
<th>When to Call</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setLogger()</code></td>
<td>Logging</td>
<td>All services</td>
<td>Before any operations</td>
</tr>
<tr>
<td><code>setConfig()</code></td>
<td>Global Config</td>
<td>Validation, execution, pricing</td>
<td>Before component registration</td>
</tr>
<tr>
<td><code>getConfig()</code></td>
<td>Global Config</td>
<td>N/A (read-only)</td>
<td>Anytime</td>
</tr>
<tr>
<td><code>getDefaultConfig()</code></td>
<td>Global Config</td>
<td>N/A (read-only)</td>
<td>Anytime</td>
</tr>
<tr>
<td><code>setColumns()</code></td>
<td>Report Config</td>
<td>Markdown generation</td>
<td>Before execution</td>
</tr>
<tr>
<td><code>getColumns()</code></td>
<td>Report Config</td>
<td>N/A (read-only)</td>
<td>Anytime</td>
</tr>
<tr>
<td><code>getDefaultColumns()</code></td>
<td>Report Config</td>
<td>N/A (read-only)</td>
<td>Anytime</td>
</tr>
</tbody>
</table>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#configuration-functions"><span>Configuration <wbr/>Functions</span></a><ul><li><a href="#purpose-and-scope"><span>Purpose and <wbr/>Scope</span></a></li><li><a href="#configuration-flow-architecture"><span>Configuration <wbr/>Flow <wbr/>Architecture</span></a></li><li><a href="#logger-configuration"><span>Logger <wbr/>Configuration</span></a></li><li><ul><li><a href="#setlogger"><span>set<wbr/>Logger</span></a></li><li><ul><li><a href="#ilogger-interface"><span>ILogger <wbr/>Interface</span></a></li><li><a href="#parameters"><span>Parameters</span></a></li><li><a href="#interface-definition"><span>Interface <wbr/>Definition</span></a></li><li><a href="#example-usage"><span>Example <wbr/>Usage</span></a></li><li><a href="#logging-topics"><span>Logging <wbr/>Topics</span></a></li></ul></li></ul></li><li><a href="#global-configuration"><span>Global <wbr/>Configuration</span></a></li><li><ul><li><a href="#setconfig"><span>set<wbr/>Config</span></a></li><li><ul><li><a href="#parameters-1"><span>Parameters</span></a></li><li><a href="#globalconfig-structure"><span>Global<wbr/>Config <wbr/>Structure</span></a></li><li><a href="#example-usage-1"><span>Example <wbr/>Usage</span></a></li></ul></li><li><a href="#getconfig"><span>get<wbr/>Config</span></a></li><li><ul><li><a href="#returns"><span>Returns</span></a></li><li><a href="#example-usage-2"><span>Example <wbr/>Usage</span></a></li></ul></li><li><a href="#getdefaultconfig"><span>get<wbr/>Default<wbr/>Config</span></a></li><li><ul><li><a href="#returns-1"><span>Returns</span></a></li><li><a href="#example-usage-3"><span>Example <wbr/>Usage</span></a></li></ul></li></ul></li><li><a href="#column-configuration"><span>Column <wbr/>Configuration</span></a></li><li><ul><li><a href="#setcolumns"><span>set<wbr/>Columns</span></a></li><li><ul><li><a href="#parameters-2"><span>Parameters</span></a></li><li><a href="#columnconfig-structure"><span>Column<wbr/>Config <wbr/>Structure</span></a></li><li><a href="#example-usage-4"><span>Example <wbr/>Usage</span></a></li></ul></li><li><a href="#getcolumns"><span>get<wbr/>Columns</span></a></li><li><ul><li><a href="#returns-2"><span>Returns</span></a></li><li><a href="#example-usage-5"><span>Example <wbr/>Usage</span></a></li></ul></li><li><a href="#getdefaultcolumns"><span>get<wbr/>Default<wbr/>Columns</span></a></li><li><ul><li><a href="#returns-3"><span>Returns</span></a></li><li><a href="#example-usage-6"><span>Example <wbr/>Usage</span></a></li></ul></li></ul></li><li><a href="#configuration-lifecycle"><span>Configuration <wbr/>Lifecycle</span></a></li><li><a href="#configuration-validation"><span>Configuration <wbr/>Validation</span></a></li><li><a href="#configuration-impact-on-system-behavior"><span>Configuration <wbr/>Impact on <wbr/>System <wbr/>Behavior</span></a></li><li><ul><li><a href="#vwap-pricing"><span>VWAP <wbr/>Pricing</span></a></li><li><a href="#validation-thresholds"><span>Validation <wbr/>Thresholds</span></a></li><li><a href="#signal-lifetime"><span>Signal <wbr/>Lifetime</span></a></li><li><a href="#live-mode-tick-interval"><span>Live <wbr/>Mode <wbr/>Tick <wbr/>Interval</span></a></li><li><a href="#fees-and-slippage"><span>Fees and <wbr/>Slippage</span></a></li></ul></li><li><a href="#summary-table"><span>Summary <wbr/>Table</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
