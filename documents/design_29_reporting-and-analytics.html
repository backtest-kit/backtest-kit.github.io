<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/29_reporting-and-analytics | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_29_reporting-and-analytics.html">design/29_reporting-and-analytics</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="reporting-and-analytics" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Reporting and Analytics<a href="#reporting-and-analytics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The reporting and analytics subsystem provides comprehensive markdown report generation and statistical analysis for trading strategy execution. This page documents the nine markdown service implementations, their data accumulation patterns, statistics calculation methods, and report output formats.</p>
<p>For information about the event system that feeds these services, see <a href="design_05_event-driven-architecture.html">Event-Driven Architecture</a>. For details on execution modes that generate reportable events, see <a href="design_04_execution-modes-overview.html">Execution Modes Overview</a>.</p>
<hr>
<a id="overview-of-markdown-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview of Markdown Services<a href="#overview-of-markdown-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework implements nine specialized markdown services, each responsible for tracking and reporting on a specific aspect of strategy execution. All services follow a consistent three-method API pattern: <code>getData()</code> for retrieving statistics objects, <code>getReport()</code> for generating markdown strings, and <code>dump()</code> for writing reports to disk.</p>
<a id="service-categories" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service Categories<a href="#service-categories" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_0.svg" alt="Mermaid Diagram"></p>
<a id="service-summary-table" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service Summary Table<a href="#service-summary-table" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Service</th>
<th>Primary Purpose</th>
<th>Event Source</th>
<th>Statistics Interface</th>
<th>MAX_EVENTS</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestMarkdownService</code></td>
<td>Tracks closed backtest signals</td>
<td><code>signalBacktestEmitter</code></td>
<td><code>BacktestStatistics</code></td>
<td>250</td>
</tr>
<tr>
<td><code>LiveMarkdownService</code></td>
<td>Tracks all live tick events</td>
<td><code>signalLiveEmitter</code></td>
<td><code>LiveStatistics</code></td>
<td>250</td>
</tr>
<tr>
<td><code>ScheduleMarkdownService</code></td>
<td>Tracks scheduled signal lifecycle</td>
<td><code>signalEmitter</code></td>
<td><code>ScheduleStatistics</code></td>
<td>250</td>
</tr>
<tr>
<td><code>HeatMarkdownService</code></td>
<td>Portfolio-wide symbol statistics</td>
<td><code>signalEmitter</code></td>
<td><code>IHeatmapStatistics</code></td>
<td>250 per symbol</td>
</tr>
<tr>
<td><code>PartialMarkdownService</code></td>
<td>Profit/loss milestone tracking</td>
<td><code>partialProfitSubject</code><br/><code>partialLossSubject</code></td>
<td><code>PartialStatistics</code></td>
<td>250</td>
</tr>
<tr>
<td><code>WalkerMarkdownService</code></td>
<td>Strategy comparison results</td>
<td><code>walkerEmitter</code></td>
<td><code>WalkerStatistics</code></td>
<td>Unbounded</td>
</tr>
<tr>
<td><code>PerformanceMarkdownService</code></td>
<td>Execution timing metrics</td>
<td><code>performanceEmitter</code></td>
<td><code>PerformanceStatistics</code></td>
<td>10000</td>
</tr>
<tr>
<td><code>RiskMarkdownService</code></td>
<td>Risk validation rejections</td>
<td><code>riskSubject</code></td>
<td><code>RiskStatistics</code></td>
<td>Unbounded</td>
</tr>
<tr>
<td><code>OutlineMarkdownService</code></td>
<td>System configuration dump</td>
<td>N/A (manual)</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<hr>
<a id="reportstorage-pattern" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ReportStorage Pattern<a href="#reportstorage-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All markdown services use an internal <code>ReportStorage</code> class that implements a bounded queue pattern for memory-safe data accumulation. Each storage instance is memoized per <code>symbol:strategyName</code> key to maintain isolated statistics.</p>
<a id="storage-architecture" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Storage Architecture<a href="#storage-architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_1.svg" alt="Mermaid Diagram"></p>
<a id="memoization-key-format" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Memoization Key Format<a href="#memoization-key-format" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Services use different memoization strategies based on their data isolation requirements:</p>
<ul>
<li><strong>Per symbol-strategy</strong>: <code>BacktestMarkdownService</code>, <code>LiveMarkdownService</code>, <code>ScheduleMarkdownService</code>, <code>PartialMarkdownService</code>, <code>PerformanceMarkdownService</code> use key <code>&quot;${symbol}:${strategyName}&quot;</code></li>
<li><strong>Per strategy</strong>: <code>WalkerMarkdownService</code>, <code>RiskMarkdownService</code> use key <code>strategyName</code></li>
<li><strong>Global</strong>: <code>HeatMarkdownService</code> uses key <code>strategyName</code> but aggregates across symbols</li>
</ul>
<pre><code class="typescript"><span class="hl-5">// Example from BacktestMarkdownService</span><br/><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-4">getStorage</span><span class="hl-1"> = </span><span class="hl-0">memoize</span><span class="hl-1">&lt;(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-13">ReportStorage</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">  ([</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">]) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">symbol</span><span class="hl-7">}</span><span class="hl-2">:</span><span class="hl-7">${</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">  () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ReportStorage</span><span class="hl-1">()</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="statistics-calculation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Statistics Calculation<a href="#statistics-calculation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Each markdown service calculates domain-specific statistics from accumulated event data. All services implement null-safe calculations that return <code>null</code> for unsafe values (NaN, Infinity, division by zero).</p>
<a id="common-metrics-across-services" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Common Metrics Across Services<a href="#common-metrics-across-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="trading-performance-metrics" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Trading Performance Metrics<a href="#trading-performance-metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The following metrics appear in <code>BacktestStatistics</code>, <code>LiveStatistics</code>, and per-symbol calculations in <code>IHeatmapRow</code>:</p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Formula</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Win Rate</strong></td>
<td><code>(winCount / totalTrades) × 100</code></td>
<td>Percentage of profitable trades (higher is better)</td>
</tr>
<tr>
<td><strong>Average PNL</strong></td>
<td><code>Σ(pnlPercentage) / totalTrades</code></td>
<td>Mean profit/loss per trade (higher is better)</td>
</tr>
<tr>
<td><strong>Total PNL</strong></td>
<td><code>Σ(pnlPercentage)</code></td>
<td>Cumulative profit/loss (higher is better)</td>
</tr>
<tr>
<td><strong>Standard Deviation</strong></td>
<td><code>√(Σ(pnl - avgPnl)² / totalTrades)</code></td>
<td>Volatility measure (lower is better)</td>
</tr>
<tr>
<td><strong>Sharpe Ratio</strong></td>
<td><code>avgPnl / stdDev</code></td>
<td>Risk-adjusted return (higher is better)</td>
</tr>
<tr>
<td><strong>Annualized Sharpe</strong></td>
<td><code>sharpeRatio × √365</code></td>
<td>Yearly risk-adjusted return (higher is better)</td>
</tr>
<tr>
<td><strong>Certainty Ratio</strong></td>
<td>`avgWin /</td>
<td>avgLoss</td>
</tr>
<tr>
<td><strong>Expected Yearly Returns</strong></td>
<td><code>avgPnl × (365 / avgDurationDays)</code></td>
<td>Projected annual return (higher is better)</td>
</tr>
</tbody>
</table>
<a id="risk-adjusted-calculations" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Risk-Adjusted Calculations<a href="#risk-adjusted-calculations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><img src="../media/29-reporting-and-analytics_2.svg" alt="Mermaid Diagram"></p>
<a id="specialized-service-statistics" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Specialized Service Statistics<a href="#specialized-service-statistics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="schedulemarkdownservice-metrics" class="tsd-anchor"></a><h4 class="tsd-anchor-link">ScheduleMarkdownService Metrics<a href="#schedulemarkdownservice-metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Tracks scheduled signal activation and cancellation rates:</p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Formula</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Activation Rate</strong></td>
<td><code>(totalOpened / totalScheduled) × 100</code></td>
<td>Percentage of scheduled signals that activated</td>
</tr>
<tr>
<td><strong>Cancellation Rate</strong></td>
<td><code>(totalCancelled / totalScheduled) × 100</code></td>
<td>Percentage of scheduled signals that timed out</td>
</tr>
<tr>
<td><strong>Avg Activation Time</strong></td>
<td><code>Σ(pendingAt - scheduledAt) / totalOpened / 60000</code></td>
<td>Average minutes until activation</td>
</tr>
<tr>
<td><strong>Avg Wait Time</strong></td>
<td><code>Σ(closeTimestamp - scheduledAt) / totalCancelled / 60000</code></td>
<td>Average minutes until cancellation</td>
</tr>
</tbody>
</table>
<a id="performancemarkdownservice-metrics" class="tsd-anchor"></a><h4 class="tsd-anchor-link">PerformanceMarkdownService Metrics<a href="#performancemarkdownservice-metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Provides execution timing analysis per metric type:</p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Calculation</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Count</strong></td>
<td>Number of events</td>
<td>Invocation frequency</td>
</tr>
<tr>
<td><strong>Total Duration</strong></td>
<td><code>Σ(duration)</code></td>
<td>Total time spent (ms)</td>
</tr>
<tr>
<td><strong>Avg Duration</strong></td>
<td><code>Σ(duration) / count</code></td>
<td>Mean execution time (ms)</td>
</tr>
<tr>
<td><strong>Std Dev</strong></td>
<td><code>√(Σ(d - avg)² / count)</code></td>
<td>Timing consistency</td>
</tr>
<tr>
<td><strong>Median</strong></td>
<td>50th percentile</td>
<td>Typical execution time</td>
</tr>
<tr>
<td><strong>P95 / P99</strong></td>
<td>95th / 99th percentile</td>
<td>Worst-case latency</td>
</tr>
<tr>
<td><strong>Avg Wait Time</strong></td>
<td><code>Σ(timestamp - previousTimestamp) / count</code></td>
<td>Time between events</td>
</tr>
</tbody>
</table>
<a id="heatmarkdownservice-portfolio-metrics" class="tsd-anchor"></a><h4 class="tsd-anchor-link">HeatMarkdownService Portfolio Metrics<a href="#heatmarkdownservice-portfolio-metrics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Aggregates symbol-level statistics with additional portfolio-wide calculations:</p>
<ul>
<li><strong>Max Drawdown</strong>: Largest peak-to-trough decline calculated from cumulative PNL curve</li>
<li><strong>Profit Factor</strong>: <code>Σ(wins) / |Σ(losses)|</code> ratio</li>
<li><strong>Expectancy</strong>: <code>(winRate × avgWin) - (lossRate × avgLoss)</code></li>
<li><strong>Max Win/Loss Streak</strong>: Consecutive winning/losing trades</li>
</ul>
<hr>
<a id="column-configuration-system" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Column Configuration System<a href="#column-configuration-system" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Each markdown service defines a <code>Column</code> interface to configure table generation. Columns are filtered by visibility before rendering, allowing dynamic table layouts based on configuration.</p>
<a id="column-interface-structure" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Column Interface Structure<a href="#column-interface-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-13">Column</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;           </span><span class="hl-5">// Unique identifier</span><br/><span class="hl-1">  </span><span class="hl-4">label</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;         </span><span class="hl-5">// Table header text</span><br/><span class="hl-1">  </span><span class="hl-0">format</span><span class="hl-1">: (</span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-13">T</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-13">string</span><span class="hl-1">;  </span><span class="hl-5">// Data formatter</span><br/><span class="hl-1">  </span><span class="hl-0">isVisible</span><span class="hl-1">: () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-13">boolean</span><span class="hl-1">;     </span><span class="hl-5">// Visibility predicate</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="example-backtestmarkdownservice-columns" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example: BacktestMarkdownService Columns<a href="#example-backtestmarkdownservice-columns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_3.svg" alt="Mermaid Diagram"></p>
<a id="dynamic-visibility-control" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Dynamic Visibility Control<a href="#dynamic-visibility-control" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>CC_REPORT_SHOW_SIGNAL_NOTE</code> configuration parameter controls note column visibility across all services:</p>
<pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">key</span><span class="hl-1">: </span><span class="hl-2">&quot;note&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">label</span><span class="hl-1">: </span><span class="hl-2">&quot;Note&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">format</span><span class="hl-1">: (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-0">toPlainString</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">note</span><span class="hl-1"> ?? </span><span class="hl-2">&quot;N/A&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-10">isVisible</span><span class="hl-1">: () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-8">GLOBAL_CONFIG</span><span class="hl-1">.</span><span class="hl-8">CC_REPORT_SHOW_SIGNAL_NOTE</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="event-subscription-and-data-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Event Subscription and Data Flow<a href="#event-subscription-and-data-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Markdown services initialize lazily using <code>singleshot()</code> to subscribe to relevant event emitters only when first accessed. This prevents unnecessary event processing for unused services.</p>
<a id="initialization-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Initialization Pattern<a href="#initialization-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_4.svg" alt="Mermaid Diagram"></p>
<a id="service-to-emitter-mapping" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service-to-Emitter Mapping<a href="#service-to-emitter-mapping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_5.svg" alt="Mermaid Diagram"></p>
<hr>
<a id="public-api-methods" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Public API Methods<a href="#public-api-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All markdown services expose three core methods. These are typically accessed through facade classes like <code>Backtest</code>, <code>Live</code>, <code>Heat</code>, etc.</p>
<a id="method-signatures" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Method Signatures<a href="#method-signatures" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="getdata" class="tsd-anchor"></a><h4 class="tsd-anchor-link">getData()<a href="#getdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Retrieves typed statistics object without generating markdown.</p>
<pre><code class="typescript"><span class="hl-5">// BacktestMarkdownService</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">getData</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><br/><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">BacktestStatistics</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// LiveMarkdownService  </span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">getData</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><br/><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">LiveStatistics</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// HeatMarkdownService (strategy-wide)</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">getData</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><br/><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">IHeatmapStatistics</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="getreport" class="tsd-anchor"></a><h4 class="tsd-anchor-link">getReport()<a href="#getreport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown-formatted report string.</p>
<pre><code class="typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">getReport</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><br/><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="dump" class="tsd-anchor"></a><h4 class="tsd-anchor-link">dump()<a href="#dump" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Writes markdown report to file system with automatic directory creation.</p>
<pre><code class="typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">dump</span><span class="hl-1"> = </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">StrategyName</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">path</span><span class="hl-1"> = </span><span class="hl-2">&quot;./dump/backtest&quot;</span><span class="hl-1">  </span><span class="hl-5">// Default path varies by service</span><br/><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Default Paths:</strong></p>
<ul>
<li><code>BacktestMarkdownService</code>: <code>./dump/backtest</code></li>
<li><code>LiveMarkdownService</code>: <code>./dump/live</code></li>
<li><code>ScheduleMarkdownService</code>: <code>./dump/schedule</code></li>
<li><code>HeatMarkdownService</code>: <code>./dump/heat</code></li>
<li><code>PartialMarkdownService</code>: <code>./dump/partial</code></li>
<li><code>WalkerMarkdownService</code>: <code>./dump/walker</code></li>
<li><code>PerformanceMarkdownService</code>: <code>./dump/performance</code></li>
<li><code>RiskMarkdownService</code>: <code>./dump/risk</code></li>
</ul>
<a id="facade-access-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Facade Access Pattern<a href="#facade-access-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/29-reporting-and-analytics_6.svg" alt="Mermaid Diagram"></p>
<hr>
<a id="memory-management-and-bounds" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Memory Management and Bounds<a href="#memory-management-and-bounds" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Markdown services implement bounded queues using <code>MAX_EVENTS</code> constants to prevent unbounded memory growth during long-running executions. Events are stored in FIFO order with <code>unshift()</code> for insertion and <code>pop()</code> for eviction.</p>
<a id="bounded-queue-implementation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Bounded Queue Implementation<a href="#bounded-queue-implementation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">// Example from BacktestMarkdownService ReportStorage</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">addSignal</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-4">IStrategyTickResultClosed</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_signalList</span><span class="hl-1">.</span><span class="hl-0">unshift</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Trim queue if exceeded MAX_EVENTS</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_signalList</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-8">MAX_EVENTS</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_signalList</span><span class="hl-1">.</span><span class="hl-0">pop</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="max_events-by-service" class="tsd-anchor"></a><h3 class="tsd-anchor-link">MAX_EVENTS by Service<a href="#max_events-by-service" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Service</th>
<th>MAX_EVENTS</th>
<th>Scope</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestMarkdownService</code></td>
<td>250</td>
<td>Per symbol:strategy</td>
<td>Closed signals only</td>
</tr>
<tr>
<td><code>LiveMarkdownService</code></td>
<td>250</td>
<td>Per symbol:strategy</td>
<td>All tick types (idle replaced)</td>
</tr>
<tr>
<td><code>ScheduleMarkdownService</code></td>
<td>250</td>
<td>Per symbol:strategy</td>
<td>Scheduled/opened/cancelled</td>
</tr>
<tr>
<td><code>HeatMarkdownService</code></td>
<td>250</td>
<td>Per symbol within strategy</td>
<td>Signals per symbol</td>
</tr>
<tr>
<td><code>PartialMarkdownService</code></td>
<td>250</td>
<td>Per symbol:strategy</td>
<td>Profit/loss milestones</td>
</tr>
<tr>
<td><code>PerformanceMarkdownService</code></td>
<td>10000</td>
<td>Per symbol:strategy</td>
<td>High-frequency timing events</td>
</tr>
<tr>
<td><code>WalkerMarkdownService</code></td>
<td>Unbounded</td>
<td>N/A</td>
<td>Complete strategy list needed</td>
</tr>
<tr>
<td><code>RiskMarkdownService</code></td>
<td>Unbounded</td>
<td>N/A</td>
<td>All rejections tracked</td>
</tr>
</tbody>
</table>
<a id="special-case-livemarkdownservice-idle-event-replacement" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Special Case: LiveMarkdownService Idle Event Replacement<a href="#special-case-livemarkdownservice-idle-event-replacement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>LiveMarkdownService</code> implements intelligent idle event consolidation to prevent queue saturation from repetitive idle ticks:</p>
<pre><code class="typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">addIdleEvent</span><span class="hl-1">(</span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">newEvent</span><span class="hl-1">: </span><span class="hl-13">TickEvent</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-4">Date</span><span class="hl-1">.</span><span class="hl-0">now</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&quot;idle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">currentPrice</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Find last idle event index</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">lastIdleIndex</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><span class="hl-1">.</span><span class="hl-0">findLastIndex</span><span class="hl-1">(</span><br/><span class="hl-1">    (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;idle&quot;</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Replace last idle if no opened/active events occurred after it</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">canReplaceLastIdle</span><span class="hl-1"> = </span><span class="hl-4">lastIdleIndex</span><span class="hl-1"> !== -</span><span class="hl-6">1</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">    !</span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><br/><span class="hl-1">      .</span><span class="hl-0">slice</span><span class="hl-1">(</span><span class="hl-4">lastIdleIndex</span><span class="hl-1"> + </span><span class="hl-6">1</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-0">some</span><span class="hl-1">((</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;opened&quot;</span><span class="hl-1"> || </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> === </span><span class="hl-2">&quot;active&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">canReplaceLastIdle</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><span class="hl-1">[</span><span class="hl-4">lastIdleIndex</span><span class="hl-1">] = </span><span class="hl-4">newEvent</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Otherwise append normally</span><br/><span class="hl-1">  </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><span class="hl-1">.</span><span class="hl-0">unshift</span><span class="hl-1">(</span><span class="hl-4">newEvent</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-8">MAX_EVENTS</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">_eventList</span><span class="hl-1">.</span><span class="hl-0">pop</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="report-output-format" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Report Output Format<a href="#report-output-format" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All markdown services generate standardized reports with:</p>
<ol>
<li>Title header (<code># Service Report: {strategyName}</code>)</li>
<li>Metadata section (symbol, exchange, frame where applicable)</li>
<li>Markdown table with filtered columns</li>
<li>Summary statistics section</li>
<li>Interpretive notes (e.g., &quot;higher is better&quot; annotations)</li>
</ol>
<a id="example-backtest-report-structure" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example: Backtest Report Structure<a href="#example-backtest-report-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="markdown"># Backtest Report: my-strategy

| Signal ID | Symbol | Position | Open Price | Close Price | PNL (net) | Close Reason | Duration (min) | Open Time | Close Time |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| abc-123 | BTCUSDT | LONG | 42000.00000000 USD | 43000.00000000 USD | +2.38% | take_profit | 45 | 2024-01-01T00:00:00.000Z | 2024-01-01T00:45:00.000Z |

**Total signals:** 100
**Closed signals:** 100
**Win rate:** 65.00% (65W / 35L) (higher is better)
**Average PNL:** +1.25% (higher is better)
**Total PNL:** +125.00% (higher is better)
**Standard Deviation:** 2.345% (lower is better)
**Sharpe Ratio:** 0.533 (higher is better)
**Annualized Sharpe Ratio:** 10.181 (higher is better)
**Certainty Ratio:** 1.850 (higher is better)
**Expected Yearly Returns:** +456.25% (higher is better)
</code><button type="button">Copy</button></pre>

<a id="example-walker-comparison-report" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example: Walker Comparison Report<a href="#example-walker-comparison-report" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="markdown"># Walker Comparison Report: my-walker

**Symbol:** BTCUSDT
**Exchange:** binance
**Frame:** 1d-backtest
**Optimization Metric:** sharpeRatio
**Strategies Tested:** 5

## Best Strategy: strategy-alpha

**Best sharpeRatio:** 0.85
**Total Signals:** 120

## Strategy Comparison (Top 10)

| Rank | Strategy | sharpeRatio | Total Signals | Win Rate | Avg PNL | Total PNL | Sharpe Ratio | Std Dev |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | strategy-alpha | 0.85 | 120 | 68.33% | +1.40% | +168.00% | 0.850 | 1.647% |
| 2 | strategy-beta | 0.72 | 115 | 63.48% | +1.20% | +138.00% | 0.720 | 1.667% |

## PNL Table (All Signals)

| Strategy | Signal ID | Symbol | Position | PNL (net) | Close Reason | Open Time | Close Time |
| --- | --- | --- | --- | --- | --- | --- | --- |
| strategy-alpha | xyz-789 | BTCUSDT | LONG | +2.50% | take_profit | 2024-01-01T00:00:00.000Z | 2024-01-01T01:00:00.000Z |
</code><button type="button">Copy</button></pre>

<hr>
<a id="clear-api-for-data-reset" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Clear API for Data Reset<a href="#clear-api-for-data-reset" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All markdown services provide a <code>clear()</code> method to reset accumulated data. This is primarily used in testing to ensure test isolation, but can also be used to reset statistics during live execution.</p>
<a id="clear-method-signature" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Clear Method Signature<a href="#clear-method-signature" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-4">clear</span><span class="hl-1"> = </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">ctx</span><span class="hl-1">?: { </span><br/><span class="hl-1">  </span><span class="hl-4">symbol:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">; </span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">StrategyName</span><span class="hl-1"> </span><br/><span class="hl-1">}) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">ctx</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">key</span><span class="hl-1"> = </span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">ctx</span><span class="hl-9">.</span><span class="hl-4">symbol</span><span class="hl-7">}</span><span class="hl-2">:</span><span class="hl-7">${</span><span class="hl-4">ctx</span><span class="hl-9">.</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">getStorage</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-3">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">getStorage</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Behavior:</strong></p>
<ul>
<li><strong>With context</strong>: Clears only the specified symbol:strategy pair</li>
<li><strong>Without context</strong>: Clears all accumulated data across all keys</li>
</ul>
<hr>
<a id="integration-with-execution-pipeline" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Integration with Execution Pipeline<a href="#integration-with-execution-pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/29-reporting-and-analytics_7.svg" alt="Mermaid Diagram"></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#reporting-and-analytics"><span>Reporting and <wbr/>Analytics</span></a><ul><li><a href="#overview-of-markdown-services"><span>Overview of <wbr/>Markdown <wbr/>Services</span></a></li><li><ul><li><a href="#service-categories"><span>Service <wbr/>Categories</span></a></li><li><a href="#service-summary-table"><span>Service <wbr/>Summary <wbr/>Table</span></a></li></ul></li><li><a href="#reportstorage-pattern"><span>Report<wbr/>Storage <wbr/>Pattern</span></a></li><li><ul><li><a href="#storage-architecture"><span>Storage <wbr/>Architecture</span></a></li><li><a href="#memoization-key-format"><span>Memoization <wbr/>Key <wbr/>Format</span></a></li></ul></li><li><a href="#statistics-calculation"><span>Statistics <wbr/>Calculation</span></a></li><li><ul><li><a href="#common-metrics-across-services"><span>Common <wbr/>Metrics <wbr/>Across <wbr/>Services</span></a></li><li><ul><li><a href="#trading-performance-metrics"><span>Trading <wbr/>Performance <wbr/>Metrics</span></a></li><li><a href="#risk-adjusted-calculations"><span>Risk-<wbr/>Adjusted <wbr/>Calculations</span></a></li></ul></li><li><a href="#specialized-service-statistics"><span>Specialized <wbr/>Service <wbr/>Statistics</span></a></li><li><ul><li><a href="#schedulemarkdownservice-metrics"><span>Schedule<wbr/>Markdown<wbr/>Service <wbr/>Metrics</span></a></li><li><a href="#performancemarkdownservice-metrics"><span>Performance<wbr/>Markdown<wbr/>Service <wbr/>Metrics</span></a></li><li><a href="#heatmarkdownservice-portfolio-metrics"><span>Heat<wbr/>Markdown<wbr/>Service <wbr/>Portfolio <wbr/>Metrics</span></a></li></ul></li></ul></li><li><a href="#column-configuration-system"><span>Column <wbr/>Configuration <wbr/>System</span></a></li><li><ul><li><a href="#column-interface-structure"><span>Column <wbr/>Interface <wbr/>Structure</span></a></li><li><a href="#example-backtestmarkdownservice-columns"><span>Example: <wbr/>Backtest<wbr/>Markdown<wbr/>Service <wbr/>Columns</span></a></li><li><a href="#dynamic-visibility-control"><span>Dynamic <wbr/>Visibility <wbr/>Control</span></a></li></ul></li><li><a href="#event-subscription-and-data-flow"><span>Event <wbr/>Subscription and <wbr/>Data <wbr/>Flow</span></a></li><li><ul><li><a href="#initialization-pattern"><span>Initialization <wbr/>Pattern</span></a></li><li><a href="#service-to-emitter-mapping"><span>Service-<wbr/>to-<wbr/>Emitter <wbr/>Mapping</span></a></li></ul></li><li><a href="#public-api-methods"><span>Public API <wbr/>Methods</span></a></li><li><ul><li><a href="#method-signatures"><span>Method <wbr/>Signatures</span></a></li><li><ul><li><a href="#getdata"><span>get<wbr/>Data()</span></a></li><li><a href="#getreport"><span>get<wbr/>Report()</span></a></li><li><a href="#dump"><span>dump()</span></a></li></ul></li><li><a href="#facade-access-pattern"><span>Facade <wbr/>Access <wbr/>Pattern</span></a></li></ul></li><li><a href="#memory-management-and-bounds"><span>Memory <wbr/>Management and <wbr/>Bounds</span></a></li><li><ul><li><a href="#bounded-queue-implementation"><span>Bounded <wbr/>Queue <wbr/>Implementation</span></a></li><li><a href="#max_events-by-service"><span>MAX_<wbr/>EVENTS by <wbr/>Service</span></a></li><li><a href="#special-case-livemarkdownservice-idle-event-replacement"><span>Special <wbr/>Case: <wbr/>Live<wbr/>Markdown<wbr/>Service <wbr/>Idle <wbr/>Event <wbr/>Replacement</span></a></li></ul></li><li><a href="#report-output-format"><span>Report <wbr/>Output <wbr/>Format</span></a></li><li><ul><li><a href="#example-backtest-report-structure"><span>Example: <wbr/>Backtest <wbr/>Report <wbr/>Structure</span></a></li><li><a href="#example-walker-comparison-report"><span>Example: <wbr/>Walker <wbr/>Comparison <wbr/>Report</span></a></li></ul></li><li><a href="#clear-api-for-data-reset"><span>Clear API for <wbr/>Data <wbr/>Reset</span></a></li><li><ul><li><a href="#clear-method-signature"><span>Clear <wbr/>Method <wbr/>Signature</span></a></li></ul></li><li><a href="#integration-with-execution-pipeline"><span>Integration with <wbr/>Execution <wbr/>Pipeline</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
