<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/21_global_services | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_21_global_services.html">design/21_global_services</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="global-services" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Global Services<a href="#global-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="purpose-and-scope" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Purpose and Scope<a href="#purpose-and-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services form the context injection layer in the Service Orchestration tier of the architecture. They wrap Connection Services and Logic Services with execution context (symbol, timestamp, backtest mode) and provide routing logic based on the current method context. Global Services act as an adapter layer between the pure business logic in Client classes and the orchestration logic in Logic Services.</p>
<p>For information about the routing and memoization layer beneath Global Services, see <a href="design_19_connection_services.html">Connection Services</a>. For information about configuration registries, see <a href="design_20_schema_services.html">Schema Services</a>. For information about the orchestration layer above Global Services, see <a href="design_22_logic_services.html">Logic Services</a>.</p>
<a id="architecture-position" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Architecture Position<a href="#architecture-position" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services occupy the middle tier of the Service Orchestration layer, sitting between Logic Services (which orchestrate execution) and Connection Services (which manage client instances). They serve two distinct roles depending on their domain:</p>
<p><strong>Domain Global Services</strong> inject execution context into domain operations for Strategy, Exchange, and Frame:</p>
<ul>
<li>Retrieve the appropriate Connection Service instance</li>
<li>Inject <code>ExecutionContextService</code> state into operations</li>
<li>Route calls based on <code>MethodContextService</code> state</li>
</ul>
<p><strong>Mode Global Services</strong> provide high-level execution interfaces for Live and Backtest modes:</p>
<ul>
<li>Wrap Logic Public Services</li>
<li>Expose simplified APIs for external consumers</li>
<li>Act as the primary entry point for execution flows</li>
</ul>
<p><img src="../media/21_Global_Services_0.svg" alt="Mermaid Diagram"></p>
<a id="service-registration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Registration<a href="#service-registration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services are registered in the dependency injection container through the standard <code>provide()</code> pattern. All five Global Services are instantiated as singletons at application startup.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Factory</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyGlobalService</code></td>
<td><code>TYPES.strategyGlobalService</code></td>
<td><code>new StrategyGlobalService()</code></td>
<td>Inject context into strategy operations</td>
</tr>
<tr>
<td><code>ExchangeGlobalService</code></td>
<td><code>TYPES.exchangeGlobalService</code></td>
<td><code>new ExchangeGlobalService()</code></td>
<td>Inject context into exchange operations</td>
</tr>
<tr>
<td><code>FrameGlobalService</code></td>
<td><code>TYPES.frameGlobalService</code></td>
<td><code>new FrameGlobalService()</code></td>
<td>Inject context into frame operations</td>
</tr>
<tr>
<td><code>LiveGlobalService</code></td>
<td><code>TYPES.liveGlobalService</code></td>
<td><code>new LiveGlobalService()</code></td>
<td>Wrap live trading logic</td>
</tr>
<tr>
<td><code>BacktestGlobalService</code></td>
<td><code>TYPES.backtestGlobalService</code></td>
<td><code>new BacktestGlobalService()</code></td>
<td>Wrap backtest logic</td>
</tr>
</tbody>
</table>
<p>The registration occurs in the provider configuration:</p>
<p><a href="">src/lib/core/provide.ts:45-51</a></p>
<p>The services are then injected and exported through the <code>backtest</code> aggregator object:</p>
<p><a href="">src/lib/index.ts:64-76</a></p>
<a id="domain-global-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Domain Global Services<a href="#domain-global-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Domain Global Services (<code>StrategyGlobalService</code>, <code>ExchangeGlobalService</code>, <code>FrameGlobalService</code>) implement the same interfaces as their corresponding Client classes (<code>IStrategy</code>, <code>IExchange</code>, <code>IFrame</code>) but add context injection. They delegate actual business logic to Connection Services while enriching calls with execution context.</p>
<a id="common-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Common Pattern<a href="#common-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All domain Global Services follow this pattern:</p>
<p><img src="../media/21_Global_Services_1.svg" alt="Mermaid Diagram"></p>
<a id="strategyglobalservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">StrategyGlobalService<a href="#strategyglobalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>StrategyGlobalService</code> injects execution context into strategy operations and delegates to <code>StrategyConnectionService</code>. It implements the <code>IStrategy</code> interface.</p>
<p><strong>Key Dependencies:</strong></p>
<ul>
<li><code>LoggerService</code> - Logging with context enrichment</li>
<li><code>StrategyConnectionService</code> - Routing to correct <code>ClientStrategy</code> instance</li>
</ul>
<p><strong>Primary Methods:</strong></p>
<ul>
<li><code>tick()</code> - Execute strategy tick with current execution context</li>
<li><code>backtest(candles)</code> - Execute backtest simulation with provided candles</li>
</ul>
<p><strong>Dependency Chain:</strong></p>
<p><img src="../media/21_Global_Services_2.svg" alt="Mermaid Diagram"></p>
<a id="exchangeglobalservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ExchangeGlobalService<a href="#exchangeglobalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>ExchangeGlobalService</code> injects execution context into exchange operations and delegates to <code>ExchangeConnectionService</code>. It implements the <code>IExchange</code> interface.</p>
<p><strong>Key Dependencies:</strong></p>
<ul>
<li><code>LoggerService</code> - Logging with context enrichment</li>
<li><code>ExchangeConnectionService</code> - Routing to correct <code>ClientExchange</code> instance</li>
</ul>
<p><strong>Primary Methods:</strong></p>
<ul>
<li><code>getCandles(symbol, interval, limit)</code> - Fetch OHLCV candle data</li>
<li><code>getNextCandles(symbol, interval, limit)</code> - Fetch future candles (backtest mode)</li>
<li><code>getAveragePrice(symbol)</code> - Calculate VWAP for current/historical timestamp</li>
<li><code>formatPrice(symbol, price)</code> - Format price to exchange precision</li>
<li><code>formatQuantity(symbol, quantity)</code> - Format quantity to exchange rules</li>
</ul>
<p><strong>Context Injection:</strong>
The <code>when</code> field from <code>ExecutionContextService</code> determines whether to fetch historical or real-time data. The <code>backtest</code> flag controls whether <code>getNextCandles()</code> is allowed.</p>
<a id="frameglobalservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">FrameGlobalService<a href="#frameglobalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>FrameGlobalService</code> injects execution context into frame generation and delegates to <code>FrameConnectionService</code>. It implements the <code>IFrame</code> interface.</p>
<p><strong>Key Dependencies:</strong></p>
<ul>
<li><code>LoggerService</code> - Logging with context enrichment</li>
<li><code>FrameConnectionService</code> - Routing to correct <code>ClientFrame</code> instance</li>
</ul>
<p><strong>Primary Methods:</strong></p>
<ul>
<li><code>getTimeframe(symbol)</code> - Generate timestamp array for backtest iteration</li>
</ul>
<p><strong>Context Usage:</strong>
Execution context is primarily used for logging and validation. The timeframe generation itself is based on the schema configuration (start date, end date, interval) rather than runtime context.</p>
<p><strong>Dependency Chain:</strong></p>
<p><img src="../media/21_Global_Services_3.svg" alt="Mermaid Diagram"></p>
<a id="mode-global-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Mode Global Services<a href="#mode-global-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Mode Global Services (<code>LiveGlobalService</code>, <code>BacktestGlobalService</code>) provide high-level execution interfaces by wrapping Logic Public Services. They act as the primary entry points for external API functions and manage the lifecycle of execution generators.</p>
<a id="backtestglobalservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">BacktestGlobalService<a href="#backtestglobalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>BacktestGlobalService</code> wraps <code>BacktestLogicPublicService</code> to provide a simplified interface for backtest execution. It serves as the implementation layer for the public <code>Backtest</code> API.</p>
<p><strong>Key Dependencies:</strong></p>
<ul>
<li><code>LoggerService</code> - Execution logging</li>
<li><code>BacktestLogicPublicService</code> - Core backtest orchestration</li>
</ul>
<p><strong>Primary Responsibilities:</strong></p>
<ul>
<li>Initialize backtest execution context</li>
<li>Start backtest generator with proper configuration</li>
<li>Stream results through async generator</li>
<li>Manage backtest lifecycle</li>
</ul>
<p><strong>Interaction Flow:</strong></p>
<p><img src="../media/21_Global_Services_4.svg" alt="Mermaid Diagram"></p>
<a id="liveglobalservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">LiveGlobalService<a href="#liveglobalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>LiveGlobalService</code> wraps <code>LiveLogicPublicService</code> to provide a simplified interface for live trading execution. It serves as the implementation layer for the public <code>Live</code> API.</p>
<p><strong>Key Dependencies:</strong></p>
<ul>
<li><code>LoggerService</code> - Real-time logging with timestamps</li>
<li><code>LiveLogicPublicService</code> - Core live trading orchestration</li>
</ul>
<p><strong>Primary Responsibilities:</strong></p>
<ul>
<li>Initialize live trading context with current timestamp</li>
<li>Start infinite generator with 1-minute intervals</li>
<li>Stream live trading events (signal opened/closed)</li>
<li>Handle crash recovery through persistent state</li>
</ul>
<p><strong>Execution Pattern:</strong></p>
<p><img src="../media/21_Global_Services_5.svg" alt="Mermaid Diagram"></p>
<a id="context-injection-mechanism" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Context Injection Mechanism<a href="#context-injection-mechanism" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services inject execution context by coordinating two context services:</p>
<a id="executioncontextservice-integration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ExecutionContextService Integration<a href="#executioncontextservice-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>ExecutionContextService</code> provides the runtime state that determines operation behavior:</p>
<table>
<thead>
<tr>
<th>Context Field</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>symbol</code></td>
<td><code>string</code></td>
<td>Trading pair being processed</td>
</tr>
<tr>
<td><code>when</code></td>
<td><code>Date</code></td>
<td>Timestamp for operation (current for live, historical for backtest)</td>
</tr>
<tr>
<td><code>backtest</code></td>
<td><code>boolean</code></td>
<td>Flag determining operation mode</td>
</tr>
</tbody>
</table>
<p>Domain Global Services read this context and pass it implicitly to their Connection Services, which then inject it into Client class constructors.</p>
<a id="methodcontextservice-integration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">MethodContextService Integration<a href="#methodcontextservice-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>MethodContextService</code> provides routing keys that determine which configuration to use:</p>
<table>
<thead>
<tr>
<th>Context Field</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>strategyName</code></td>
<td><code>string</code></td>
<td>Identifies which strategy configuration to use</td>
</tr>
<tr>
<td><code>exchangeName</code></td>
<td><code>string</code></td>
<td>Identifies which exchange configuration to use</td>
</tr>
<tr>
<td><code>frameName</code></td>
<td><code>string</code></td>
<td>Identifies which frame configuration to use</td>
</tr>
</tbody>
</table>
<p>Connection Services use these routing keys to look up schemas and create memoized client instances.</p>
<p><strong>Full Context Flow:</strong></p>
<p><img src="../media/21_Global_Services_6.svg" alt="Mermaid Diagram"></p>
<p>For detailed information on context propagation patterns, see <a href="design_07_context_propagation.html">Context Propagation</a>.</p>
<a id="dependency-injection-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Dependency Injection Flow<a href="#dependency-injection-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services are instantiated through the standard DI container flow. The following diagram shows how dependencies are resolved at runtime:</p>
<p><img src="../media/21_Global_Services_7.svg" alt="Mermaid Diagram"></p>
<p><strong>Instance Lifecycle:</strong></p>
<ol>
<li>Application imports <code>backtest</code> object from <code>src/lib/index.ts</code></li>
<li>Import triggers <code>init()</code> which resolves all DI dependencies</li>
<li>Global Services are instantiated as singletons</li>
<li>Global Services inject their own dependencies (Connection/Logic Services)</li>
<li>Connection Services lazily create and memoize Client instances on first use</li>
</ol>
<a id="usage-in-logic-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage in Logic Services<a href="#usage-in-logic-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Logic Services (both Public and Private) are the primary consumers of Domain Global Services. They use Global Services to execute domain operations with proper context injection.</p>
<p><strong>Typical Usage Pattern:</strong></p>
<p><img src="../media/21_Global_Services_8.svg" alt="Mermaid Diagram"></p>
<p><strong>Backtest Example:</strong>
<code>BacktestLogicPrivateService</code> sets execution context for each timestamp in the historical range, then calls <code>StrategyGlobalService.tick()</code> and <code>ExchangeGlobalService.getCandles()</code> to evaluate strategy signals.</p>
<p><strong>Live Example:</strong>
<code>LiveLogicPrivateService</code> sets execution context to <code>Date.now()</code> every minute, then calls <code>StrategyGlobalService.tick()</code> to check for signal state changes.</p>
<a id="summary" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Summary<a href="#summary" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global Services serve as the context injection and routing layer in the Service Orchestration architecture:</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Layer Type</th>
<th>Primary Role</th>
<th>Key Dependencies</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyGlobalService</code></td>
<td>Domain</td>
<td>Inject context into strategy operations</td>
<td><code>StrategyConnectionService</code>, <code>LoggerService</code></td>
</tr>
<tr>
<td><code>ExchangeGlobalService</code></td>
<td>Domain</td>
<td>Inject context into exchange operations</td>
<td><code>ExchangeConnectionService</code>, <code>LoggerService</code></td>
</tr>
<tr>
<td><code>FrameGlobalService</code></td>
<td>Domain</td>
<td>Inject context into frame generation</td>
<td><code>FrameConnectionService</code>, <code>LoggerService</code></td>
</tr>
<tr>
<td><code>LiveGlobalService</code></td>
<td>Mode</td>
<td>Wrap live trading logic</td>
<td><code>LiveLogicPublicService</code>, <code>LoggerService</code></td>
</tr>
<tr>
<td><code>BacktestGlobalService</code></td>
<td>Mode</td>
<td>Wrap backtest logic</td>
<td><code>BacktestLogicPublicService</code>, <code>LoggerService</code></td>
</tr>
</tbody>
</table>
<p>Domain Global Services implement the same interfaces as their corresponding Client classes but enrich operations with execution context. Mode Global Services provide simplified APIs for external consumers by wrapping Logic Public Services. Together, they enable clean separation between pure business logic (Client layer) and orchestration concerns (Logic layer) while maintaining implicit context propagation throughout the system.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#global-services"><span>Global <wbr/>Services</span></a><ul><li><a href="#purpose-and-scope"><span>Purpose and <wbr/>Scope</span></a></li><li><a href="#architecture-position"><span>Architecture <wbr/>Position</span></a></li><li><a href="#service-registration"><span>Service <wbr/>Registration</span></a></li><li><a href="#domain-global-services"><span>Domain <wbr/>Global <wbr/>Services</span></a></li><li><ul><li><a href="#common-pattern"><span>Common <wbr/>Pattern</span></a></li><li><a href="#strategyglobalservice"><span>Strategy<wbr/>Global<wbr/>Service</span></a></li><li><a href="#exchangeglobalservice"><span>Exchange<wbr/>Global<wbr/>Service</span></a></li><li><a href="#frameglobalservice"><span>Frame<wbr/>Global<wbr/>Service</span></a></li></ul></li><li><a href="#mode-global-services"><span>Mode <wbr/>Global <wbr/>Services</span></a></li><li><ul><li><a href="#backtestglobalservice"><span>Backtest<wbr/>Global<wbr/>Service</span></a></li><li><a href="#liveglobalservice"><span>Live<wbr/>Global<wbr/>Service</span></a></li></ul></li><li><a href="#context-injection-mechanism"><span>Context <wbr/>Injection <wbr/>Mechanism</span></a></li><li><ul><li><a href="#executioncontextservice-integration"><span>Execution<wbr/>Context<wbr/>Service <wbr/>Integration</span></a></li><li><a href="#methodcontextservice-integration"><span>Method<wbr/>Context<wbr/>Service <wbr/>Integration</span></a></li></ul></li><li><a href="#dependency-injection-flow"><span>Dependency <wbr/>Injection <wbr/>Flow</span></a></li><li><a href="#usage-in-logic-services"><span>Usage in <wbr/>Logic <wbr/>Services</span></a></li><li><a href="#summary"><span>Summary</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
