<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/09_service-categories | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_09_service-categories.html">design/09_service-categories</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="service-categories" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Service Categories<a href="#service-categories" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This page documents the 11 service categories that comprise the Service Layer in the backtest-kit architecture. Each category serves a distinct architectural role, from configuration storage to business logic execution. For information about the overall layered architecture, see <a href="design_07_layered-architecture.html">Layered Architecture</a>. For details on how services are registered via dependency injection, see <a href="design_08_dependency-injection-system.html">Dependency Injection System</a>.</p>
<hr>
<a id="service-layer-organization" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Layer Organization<a href="#service-layer-organization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Service Layer implements a dependency injection architecture where services are organized into 11 functional categories. All services are registered in the <code>backtest</code> aggregation object, which serves as the central service locator throughout the codebase. The categories follow a clear separation of concerns: <strong>Schema</strong> services store configuration, <strong>Validation</strong> services enforce rules, <strong>Connection</strong> services create memoized client instances, <strong>Core</strong> services implement domain logic, <strong>Global</strong> services wrap public APIs, <strong>Command</strong> services orchestrate execution modes, <strong>Logic</strong> services manage execution flow, <strong>Markdown</strong> services generate reports, <strong>Template</strong> services handle code generation, <strong>Context</strong> services manage execution state, and <strong>Base</strong> services provide foundational utilities.</p>
<hr>
<a id="service-category-diagram" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Category Diagram<a href="#service-category-diagram" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/09-service-categories_0.svg" alt="Mermaid Diagram"></p>
<hr>
<a id="1-base-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">1. Base Services<a href="#1-base-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Base category contains foundational services used throughout the framework.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>LoggerService</code></td>
<td><code>TYPES.loggerService</code></td>
<td>Structured logging with context injection</td>
</tr>
</tbody>
</table>
<a id="loggerservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">LoggerService<a href="#loggerservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides structured logging capabilities with automatic context injection. All log messages include <code>methodContextService</code> and <code>executionContextService</code> data (strategy name, symbol, timestamp) for traceability.</p>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:55-57</a></p>
<p><strong>Key Methods:</strong></p>
<ul>
<li><code>log(methodName, data)</code> - Standard logging</li>
<li><code>info(methodName, data)</code> - Info-level logging</li>
<li><code>error(methodName, error)</code> - Error logging</li>
</ul>
<hr>
<a id="2-context-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">2. Context Services<a href="#2-context-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Context services manage execution state that flows through service calls. They use <code>di-scoped</code> to maintain nested execution contexts.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ExecutionContextService</code></td>
<td><code>TYPES.executionContextService</code></td>
<td>Symbol, timestamp, backtest flag</td>
</tr>
<tr>
<td><code>MethodContextService</code></td>
<td><code>TYPES.methodContextService</code></td>
<td>Strategy, exchange, frame names</td>
</tr>
</tbody>
</table>
<a id="executioncontextservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ExecutionContextService<a href="#executioncontextservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides scoped execution context for each tick/timeframe. The context includes:</p>
<ul>
<li><code>symbol: string</code> - Trading pair (e.g., &quot;BTCUSDT&quot;)</li>
<li><code>when: Date</code> - Current timeframe or live timestamp</li>
<li><code>backtest: boolean</code> - Execution mode flag</li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:60</a></p>
<p><strong>Usage Pattern:</strong></p>
<pre><code class="typescript"><span class="hl-4">ExecutionContextService</span><span class="hl-1">.</span><span class="hl-0">runInContext</span><span class="hl-1">(() </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// All services access context via ExecutionContextService.getContext()</span><br/><span class="hl-1">}, { </span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<a id="methodcontextservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">MethodContextService<a href="#methodcontextservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Provides scoped method context for routing to registered schemas. The context includes:</p>
<ul>
<li><code>strategyName: string</code> - Current strategy identifier</li>
<li><code>exchangeName: string</code> - Current exchange identifier</li>
<li><code>frameName: string</code> - Current frame identifier (backtest only)</li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:61</a></p>
<p><strong>Usage Pattern:</strong></p>
<pre><code class="typescript"><span class="hl-4">MethodContextService</span><span class="hl-1">.</span><span class="hl-0">runInContext</span><span class="hl-1">(() </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Services use context to look up correct schema</span><br/><span class="hl-1">}, { </span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">exchangeName</span><span class="hl-1">, </span><span class="hl-4">frameName</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="3-schema-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">3. Schema Services<a href="#3-schema-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Schema services implement a <strong>ToolRegistry</strong> pattern for immutable configuration storage. Each schema service stores configurations registered via <code>add*()</code> functions.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Domain</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategySchemaService</code></td>
<td><code>TYPES.strategySchemaService</code></td>
<td>Strategy configurations</td>
</tr>
<tr>
<td><code>ExchangeSchemaService</code></td>
<td><code>TYPES.exchangeSchemaService</code></td>
<td>Exchange data sources</td>
</tr>
<tr>
<td><code>FrameSchemaService</code></td>
<td><code>TYPES.frameSchemaService</code></td>
<td>Timeframe definitions</td>
</tr>
<tr>
<td><code>WalkerSchemaService</code></td>
<td><code>TYPES.walkerSchemaService</code></td>
<td>Strategy comparison configs</td>
</tr>
<tr>
<td><code>SizingSchemaService</code></td>
<td><code>TYPES.sizingSchemaService</code></td>
<td>Position sizing logic</td>
</tr>
<tr>
<td><code>RiskSchemaService</code></td>
<td><code>TYPES.riskSchemaService</code></td>
<td>Risk management rules</td>
</tr>
<tr>
<td><code>OptimizerSchemaService</code></td>
<td><code>TYPES.optimizerSchemaService</code></td>
<td>LLM strategy generation</td>
</tr>
</tbody>
</table>
<a id="schema-service-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Schema Service Pattern<a href="#schema-service-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All schema services follow the same interface:</p>
<pre><code class="typescript"><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-13">XSchemaService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">register</span><span class="hl-1">(</span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">, </span><span class="hl-4">schema</span><span class="hl-1">: </span><span class="hl-13">IXSchema</span><span class="hl-1">): </span><span class="hl-13">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">lookup</span><span class="hl-1">(</span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">): </span><span class="hl-13">IXSchema</span><span class="hl-1"> | </span><span class="hl-13">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">list</span><span class="hl-1">(): </span><span class="hl-13">IXSchema</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:74-82</a></p>
<p><strong>Storage:</strong> Uses <code>ToolRegistry</code> from <code>functools-kit</code> for immutable storage with shallow validation.</p>
<hr>
<a id="4-validation-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">4. Validation Services<a href="#4-validation-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Validation services enforce existence checks and runtime validation. They are <strong>memoized</strong> to optimize repeated checks.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Validates</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyValidationService</code></td>
<td><code>TYPES.strategyValidationService</code></td>
<td>Strategy schema structure, risk dependency</td>
</tr>
<tr>
<td><code>ExchangeValidationService</code></td>
<td><code>TYPES.exchangeValidationService</code></td>
<td>Exchange schema required fields</td>
</tr>
<tr>
<td><code>FrameValidationService</code></td>
<td><code>TYPES.frameValidationService</code></td>
<td>Frame date range and interval logic</td>
</tr>
<tr>
<td><code>WalkerValidationService</code></td>
<td><code>TYPES.walkerValidationService</code></td>
<td>Walker strategy list and metric</td>
</tr>
<tr>
<td><code>SizingValidationService</code></td>
<td><code>TYPES.sizingValidationService</code></td>
<td>Sizing schema parameters</td>
</tr>
<tr>
<td><code>RiskValidationService</code></td>
<td><code>TYPES.riskValidationService</code></td>
<td>Risk schema validation array</td>
</tr>
<tr>
<td><code>OptimizerValidationService</code></td>
<td><code>TYPES.optimizerValidationService</code></td>
<td>Optimizer source and prompt validation</td>
</tr>
<tr>
<td><code>ConfigValidationService</code></td>
<td><code>TYPES.configValidationService</code></td>
<td>Global config economic viability</td>
</tr>
</tbody>
</table>
<a id="validation-service-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Validation Service Pattern<a href="#validation-service-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-13">XValidationService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">addX</span><span class="hl-1">(</span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">, </span><span class="hl-4">schema</span><span class="hl-1">: </span><span class="hl-13">IXSchema</span><span class="hl-1">): </span><span class="hl-13">void</span><span class="hl-1">;  </span><span class="hl-5">// Called by add*() functions</span><br/><span class="hl-1">  </span><span class="hl-0">validateX</span><span class="hl-1">(</span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">): </span><span class="hl-13">void</span><span class="hl-1">;                </span><span class="hl-5">// Throws if invalid</span><br/><span class="hl-1">  </span><span class="hl-0">list</span><span class="hl-1">(): </span><span class="hl-13">IXSchema</span><span class="hl-1">[];                           </span><span class="hl-5">// Returns all registered</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:127-136</a></p>
<p><strong>Memoization:</strong> Validation results are cached to prevent redundant checks during execution loops.</p>
<p><strong>Dependency:</strong> Validation services read from corresponding schema services to verify existence.</p>
<hr>
<a id="5-connection-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">5. Connection Services<a href="#5-connection-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Connection services are <strong>memoized client factories</strong> that create and cache client instances. Each connection service maintains a cache keyed by schema names or composite keys.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Creates</th>
<th>Cache Key</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyConnectionService</code></td>
<td><code>TYPES.strategyConnectionService</code></td>
<td><code>ClientStrategy</code></td>
<td><code>symbol:strategyName</code></td>
</tr>
<tr>
<td><code>ExchangeConnectionService</code></td>
<td><code>TYPES.exchangeConnectionService</code></td>
<td><code>ClientExchange</code></td>
<td><code>exchangeName</code></td>
</tr>
<tr>
<td><code>FrameConnectionService</code></td>
<td><code>TYPES.frameConnectionService</code></td>
<td><code>ClientFrame</code></td>
<td><code>frameName</code></td>
</tr>
<tr>
<td><code>SizingConnectionService</code></td>
<td><code>TYPES.sizingConnectionService</code></td>
<td><code>ClientSizing</code></td>
<td><code>sizingName</code></td>
</tr>
<tr>
<td><code>RiskConnectionService</code></td>
<td><code>TYPES.riskConnectionService</code></td>
<td><code>ClientRisk</code></td>
<td><code>riskName</code></td>
</tr>
<tr>
<td><code>OptimizerConnectionService</code></td>
<td><code>TYPES.optimizerConnectionService</code></td>
<td><code>ClientOptimizer</code></td>
<td><code>optimizerName</code></td>
</tr>
<tr>
<td><code>PartialConnectionService</code></td>
<td><code>TYPES.partialConnectionService</code></td>
<td><code>ClientPartial</code></td>
<td><code>symbol</code></td>
</tr>
</tbody>
</table>
<a id="connection-service-diagram" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connection Service Diagram<a href="#connection-service-diagram" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/09-service-categories_1.svg" alt="Mermaid Diagram"></p>
<a id="memoization-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Memoization Pattern<a href="#memoization-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Connection services use <code>memoizeOneArg</code> from <code>functools-kit</code> to cache client instances:</p>
<pre><code class="typescript"><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-13">StrategyConnectionService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">private</span><span class="hl-1"> </span><span class="hl-7">readonly</span><span class="hl-1"> </span><span class="hl-4">_getClient</span><span class="hl-1"> = </span><span class="hl-0">memoizeOneArg</span><span class="hl-1">((</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">schema</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">strategySchemaService</span><span class="hl-1">.</span><span class="hl-0">lookup</span><span class="hl-1">(</span><span class="hl-4">strategyName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ClientStrategy</span><span class="hl-1">(</span><span class="hl-4">schema</span><span class="hl-1">, </span><span class="hl-4">dependencies</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">getClient</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">): </span><span class="hl-13">ClientStrategy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-0">_getClient</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-4">symbol</span><span class="hl-7">}</span><span class="hl-2">:</span><span class="hl-7">${</span><span class="hl-4">strategyName</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:64-72</a></p>
<p><strong>Purpose:</strong> Prevents creating duplicate client instances during execution loops, optimizing memory usage.</p>
<hr>
<a id="6-core-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">6. Core Services<a href="#6-core-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Core services implement <strong>domain logic</strong> for the three main business entities: Strategy, Exchange, and Frame.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Responsibilities</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StrategyCoreService</code></td>
<td><code>TYPES.strategyCoreService</code></td>
<td>Signal generation, lifecycle management</td>
</tr>
<tr>
<td><code>ExchangeCoreService</code></td>
<td><code>TYPES.exchangeCoreService</code></td>
<td>Candle fetching, VWAP calculation</td>
</tr>
<tr>
<td><code>FrameCoreService</code></td>
<td><code>TYPES.frameCoreService</code></td>
<td>Timeframe generation, date iteration</td>
</tr>
</tbody>
</table>
<a id="strategycoreservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">StrategyCoreService<a href="#strategycoreservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Orchestrates signal lifecycle by delegating to <code>ClientStrategy</code>:</p>
<p><strong>Key Methods:</strong></p>
<ul>
<li><code>tick(symbol: string): Promise&lt;IStrategyTickResult&gt;</code> - Generate or monitor signal for current timeframe</li>
<li>Uses <code>StrategyConnectionService</code> to get cached <code>ClientStrategy</code> instance</li>
<li>Delegates to <code>ClientStrategy.tick()</code> and <code>ClientStrategy.backtest()</code></li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:86</a></p>
<a id="exchangecoreservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ExchangeCoreService<a href="#exchangecoreservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Manages market data fetching and price calculations:</p>
<p><strong>Key Methods:</strong></p>
<ul>
<li><code>getCandles(symbol: string, interval: string, since: number, limit: number): Promise&lt;ICandleData[]&gt;</code></li>
<li><code>getNextCandles(symbol: string, interval: string, since: number, limit: number): Promise&lt;ICandleData[]&gt;</code></li>
<li><code>getAveragePrice(symbol: string): Promise&lt;number&gt;</code> - VWAP from last 5 1m candles</li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:85</a></p>
<a id="framecoreservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">FrameCoreService<a href="#framecoreservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generates timeframe arrays for backtest iteration:</p>
<p><strong>Key Methods:</strong></p>
<ul>
<li><code>getTimeframe(frameName: string): Date[]</code> - Generate array of Date objects for backtest loop</li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:87</a></p>
<hr>
<a id="7-global-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">7. Global Services<a href="#7-global-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Global services are <strong>context wrappers</strong> that combine validation and core service calls for public API exports.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SizingGlobalService</code></td>
<td><code>TYPES.sizingGlobalService</code></td>
<td>Position size calculation with validation</td>
</tr>
<tr>
<td><code>RiskGlobalService</code></td>
<td><code>TYPES.riskGlobalService</code></td>
<td>Risk state management and validation</td>
</tr>
<tr>
<td><code>OptimizerGlobalService</code></td>
<td><code>TYPES.optimizerGlobalService</code></td>
<td>LLM orchestration with validation</td>
</tr>
<tr>
<td><code>PartialGlobalService</code></td>
<td><code>TYPES.partialGlobalService</code></td>
<td>Partial P/L tracking wrapper</td>
</tr>
</tbody>
</table>
<a id="global-service-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Global Service Pattern<a href="#global-service-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Global services validate input, set context, and delegate to core/connection services:</p>
<pre><code class="typescript"><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-13">SizingGlobalService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">async</span><span class="hl-1"> </span><span class="hl-0">calculate</span><span class="hl-1">(</span><span class="hl-4">params</span><span class="hl-1">: </span><span class="hl-13">ISizingParams</span><span class="hl-1">): </span><span class="hl-13">Promise</span><span class="hl-1">&lt;</span><span class="hl-13">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">// 1. Validate sizingName exists</span><br/><span class="hl-1">    </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">sizingValidationService</span><span class="hl-1">.</span><span class="hl-0">validateSizing</span><span class="hl-1">(</span><span class="hl-4">params</span><span class="hl-1">.</span><span class="hl-4">sizingName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// 2. Get client via connection service</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">client</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">sizingConnectionService</span><span class="hl-1">.</span><span class="hl-0">getClient</span><span class="hl-1">(</span><span class="hl-4">params</span><span class="hl-1">.</span><span class="hl-4">sizingName</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// 3. Delegate to client</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">calculate</span><span class="hl-1">(</span><span class="hl-4">params</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:90-94</a></p>
<p><strong>Purpose:</strong> Provide validated, context-aware access to business logic for public API functions.</p>
<hr>
<a id="8-command-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">8. Command Services<a href="#8-command-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Command services are <strong>high-level orchestrators</strong> for the three execution modes. They validate inputs and delegate to logic services.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Execution Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestCommandService</code></td>
<td><code>TYPES.backtestCommandService</code></td>
<td>Historical simulation</td>
</tr>
<tr>
<td><code>LiveCommandService</code></td>
<td><code>TYPES.liveCommandService</code></td>
<td>Real-time trading</td>
</tr>
<tr>
<td><code>WalkerCommandService</code></td>
<td><code>TYPES.walkerCommandService</code></td>
<td>Strategy comparison</td>
</tr>
</tbody>
</table>
<a id="command-service-workflow" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Command Service Workflow<a href="#command-service-workflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/09-service-categories_2.svg" alt="Mermaid Diagram"></p>
<a id="backtestcommandservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">BacktestCommandService<a href="#backtestcommandservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Key Method:</strong></p>
<ul>
<li><code>run(symbol: string, context: { strategyName, exchangeName, frameName }): AsyncGenerator&lt;IStrategyTickResult&gt;</code></li>
</ul>
<p><strong>Workflow:</strong></p>
<ol>
<li>Validate <code>strategyName</code>, <code>exchangeName</code>, <code>frameName</code> exist</li>
<li>Validate risk dependencies</li>
<li>Delegate to <code>BacktestLogicPublicService.run()</code></li>
</ol>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:99</a></p>
<a id="livecommandservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">LiveCommandService<a href="#livecommandservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Key Method:</strong></p>
<ul>
<li><code>run(symbol: string, context: { strategyName, exchangeName }): AsyncGenerator&lt;IStrategyTickResult&gt;</code></li>
</ul>
<p><strong>Workflow:</strong></p>
<ol>
<li>Validate <code>strategyName</code>, <code>exchangeName</code> exist</li>
<li>Validate risk dependencies</li>
<li>Delegate to <code>LiveLogicPublicService.run()</code></li>
</ol>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:98</a></p>
<a id="walkercommandservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">WalkerCommandService<a href="#walkercommandservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Key Method:</strong></p>
<ul>
<li><code>run(symbol: string, context: { walkerName, exchangeName, frameName }): AsyncGenerator&lt;WalkerContract&gt;</code></li>
</ul>
<p><strong>Workflow:</strong></p>
<ol>
<li>Validate <code>walkerName</code>, <code>exchangeName</code>, <code>frameName</code> exist</li>
<li>Validate all strategies in walker exist</li>
<li>Delegate to <code>WalkerLogicPublicService.run()</code></li>
</ol>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:100</a></p>
<hr>
<a id="9-logic-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">9. Logic Services<a href="#9-logic-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Logic services implement <strong>execution flow</strong> with a public/private split pattern. Public services handle context setup, while private services contain generator implementations.</p>
<a id="service-structure" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service Structure<a href="#service-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Public Service</th>
<th>Private Service</th>
<th>Execution Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestLogicPublicService</code></td>
<td><code>BacktestLogicPrivateService</code></td>
<td>Historical simulation</td>
</tr>
<tr>
<td><code>LiveLogicPublicService</code></td>
<td><code>LiveLogicPrivateService</code></td>
<td>Real-time trading</td>
</tr>
<tr>
<td><code>WalkerLogicPublicService</code></td>
<td><code>WalkerLogicPrivateService</code></td>
<td>Strategy comparison</td>
</tr>
</tbody>
</table>
<a id="publicprivate-split-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Public/Private Split Pattern<a href="#publicprivate-split-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/09-service-categories_3.svg" alt="Mermaid Diagram"></p>
<a id="backtestlogicpublicservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">BacktestLogicPublicService<a href="#backtestlogicpublicservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:110</a></p>
<p><strong>Key Method:</strong></p>
<pre><code class="typescript"><span class="hl-4">async</span><span class="hl-1"> *</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">context</span><span class="hl-1">: </span><span class="hl-4">IMethodContext</span><span class="hl-1">): </span><span class="hl-4">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-4">IStrategyTickResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  yield* this.methodContextService.runInContext(() =&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">backtestLogicPrivateService</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">);</span><br/><span class="hl-1">  }, context);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="backtestlogicprivateservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">BacktestLogicPrivateService<a href="#backtestlogicprivateservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:104</a></p>
<p><strong>Key Method:</strong></p>
<pre><code class="typescript"><span class="hl-4">async</span><span class="hl-1"> *</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-4">IStrategyTickResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  const </span><span class="hl-4">timeframe</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">frameCoreService</span><span class="hl-1">.</span><span class="hl-0">getTimeframe</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-4">when</span><span class="hl-1"> </span><span class="hl-4">of</span><span class="hl-1"> </span><span class="hl-4">timeframe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">yield</span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">executionContextService</span><span class="hl-1">.</span><span class="hl-0">runInContext</span><span class="hl-1">(() </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">strategyCoreService</span><span class="hl-1">.</span><span class="hl-0">tick</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">);</span><br/><span class="hl-1">    }, { </span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">, </span><span class="hl-4">backtest:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1"> });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="livelogicprivateservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">LiveLogicPrivateService<a href="#livelogicprivateservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:105</a></p>
<p><strong>Key Pattern:</strong></p>
<pre><code class="typescript"><span class="hl-4">async</span><span class="hl-1"> *</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-4">IStrategyTickResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  await this.clientStrategy.waitForInit(symbol);  </span><span class="hl-5">// Load persisted state</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">while</span><span class="hl-1"> (</span><span class="hl-4">true</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">when</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">yield</span><span class="hl-7">*</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">executionContextService</span><span class="hl-1">.</span><span class="hl-0">runInContext</span><span class="hl-1">(() </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">strategyCoreService</span><span class="hl-1">.</span><span class="hl-0">tick</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">);</span><br/><span class="hl-1">    }, { </span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">, </span><span class="hl-4">backtest:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-8">TICK_TTL</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="walkerlogicprivateservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">WalkerLogicPrivateService<a href="#walkerlogicprivateservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:106</a></p>
<p><strong>Key Pattern:</strong></p>
<pre><code class="typescript"><span class="hl-4">async</span><span class="hl-1"> *</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-4">WalkerContract</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  const </span><span class="hl-4">walker</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">walkerSchemaService</span><span class="hl-1">.</span><span class="hl-0">lookup</span><span class="hl-1">(</span><span class="hl-4">walkerName</span><span class="hl-1">);</span><br/><span class="hl-1">  let </span><span class="hl-4">bestStrategy</span><span class="hl-1"> = </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  let </span><span class="hl-4">bestMetric</span><span class="hl-1"> = -</span><span class="hl-7">Infinity</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-4">strategyName</span><span class="hl-1"> </span><span class="hl-4">of</span><span class="hl-1"> walker.strategies) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Run backtest for each strategy</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">generator</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">backtestLogicPublicService</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">, </span><span class="hl-4">context</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-4">generator</span><span class="hl-1">) { </span><span class="hl-5">/* collect results */</span><span class="hl-1"> }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Get statistics and compare</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">stats</span><span class="hl-1"> = </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">backtestMarkdownService</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">stats</span><span class="hl-1">.</span><span class="hl-4">sharpeRatio</span><span class="hl-1"> &gt; </span><span class="hl-4">bestMetric</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">bestMetric</span><span class="hl-1"> = </span><span class="hl-4">stats</span><span class="hl-1">.</span><span class="hl-4">sharpeRatio</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">bestStrategy</span><span class="hl-1"> = </span><span class="hl-4">strategyName</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">yield</span><span class="hl-1"> { </span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">stats</span><span class="hl-1">, </span><span class="hl-4">bestStrategy</span><span class="hl-1">, </span><span class="hl-4">bestMetric</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="10-markdown-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">10. Markdown Services<a href="#10-markdown-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Markdown services generate <strong>auto-generated reports</strong> by subscribing to event emitters and accumulating data with bounded queues.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Tracks</th>
<th>MAX_EVENTS</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestMarkdownService</code></td>
<td><code>TYPES.backtestMarkdownService</code></td>
<td>Closed signals</td>
<td>250</td>
</tr>
<tr>
<td><code>LiveMarkdownService</code></td>
<td><code>TYPES.liveMarkdownService</code></td>
<td>All tick types</td>
<td>250</td>
</tr>
<tr>
<td><code>ScheduleMarkdownService</code></td>
<td><code>TYPES.scheduleMarkdownService</code></td>
<td>Scheduled signals</td>
<td>250</td>
</tr>
<tr>
<td><code>PerformanceMarkdownService</code></td>
<td><code>TYPES.performanceMarkdownService</code></td>
<td>Execution metrics</td>
<td>10000</td>
</tr>
<tr>
<td><code>WalkerMarkdownService</code></td>
<td><code>TYPES.walkerMarkdownService</code></td>
<td>Strategy comparison</td>
<td>Unbounded</td>
</tr>
<tr>
<td><code>HeatMarkdownService</code></td>
<td><code>TYPES.heatMarkdownService</code></td>
<td>Portfolio stats</td>
<td>Unbounded</td>
</tr>
<tr>
<td><code>PartialMarkdownService</code></td>
<td><code>TYPES.partialMarkdownService</code></td>
<td>Partial P/L</td>
<td>250</td>
</tr>
<tr>
<td><code>RiskMarkdownService</code></td>
<td><code>TYPES.riskMarkdownService</code></td>
<td>Risk rejections</td>
<td>Unbounded</td>
</tr>
<tr>
<td><code>OutlineMarkdownService</code></td>
<td><code>TYPES.outlineMarkdownService</code></td>
<td>System outline</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<a id="markdown-service-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Markdown Service Pattern<a href="#markdown-service-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All markdown services follow the <code>ReportStorage</code> pattern:</p>
<pre><code class="typescript"><span class="hl-7">class</span><span class="hl-1"> </span><span class="hl-13">XMarkdownService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">// Subscribe to relevant emitter</span><br/><span class="hl-1">    </span><span class="hl-4">signalEmitter</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">((</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-4">event</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> &gt; </span><span class="hl-8">MAX_EVENTS</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">this</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-0">shift</span><span class="hl-1">();  </span><span class="hl-5">// Bounded queue</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">getData</span><span class="hl-1">(): </span><span class="hl-13">XStatistics</span><span class="hl-1">;           </span><span class="hl-5">// Return processed statistics</span><br/><span class="hl-1">  </span><span class="hl-0">getReport</span><span class="hl-1">(): </span><span class="hl-13">string</span><span class="hl-1">;              </span><span class="hl-5">// Return markdown report</span><br/><span class="hl-1">  </span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-4">filename</span><span class="hl-1">?: </span><span class="hl-13">string</span><span class="hl-1">): </span><span class="hl-13">void</span><span class="hl-1">;    </span><span class="hl-5">// Write report to filesystem</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:115-125</a></p>
<a id="backtestmarkdownservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">BacktestMarkdownService<a href="#backtestmarkdownservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Subscribes to:</strong> <code>signalBacktestEmitter</code></p>
<p><strong>Collects:</strong> Closed signals only (<code>action === 'closed'</code>)</p>
<p><strong>Statistics:</strong> <code>BacktestStatistics</code> - win rate, Sharpe ratio, total PNL, etc.</p>
<p><strong>MAX_EVENTS:</strong> 250 closed signals</p>
<a id="livemarkdownservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">LiveMarkdownService<a href="#livemarkdownservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Subscribes to:</strong> <code>signalLiveEmitter</code></p>
<p><strong>Collects:</strong> All tick types (idle, opened, active, closed)</p>
<p><strong>Statistics:</strong> <code>LiveStatistics</code> - includes all events, not just closed</p>
<p><strong>MAX_EVENTS:</strong> 250 events (all types)</p>
<a id="heatmarkdownservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">HeatMarkdownService<a href="#heatmarkdownservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Subscribes to:</strong> <code>signalEmitter</code> (all signals)</p>
<p><strong>Collects:</strong> Per-symbol statistics across all strategies</p>
<p><strong>Output:</strong> Portfolio heatmap with per-symbol metrics</p>
<p><strong>MAX_EVENTS:</strong> Unbounded (aggregates data)</p>
<hr>
<a id="11-template-services" class="tsd-anchor"></a><h2 class="tsd-anchor-link">11. Template Services<a href="#11-template-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Template services handle <strong>code generation</strong> for the Optimizer execution mode.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Symbol</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OptimizerTemplateService</code></td>
<td><code>TYPES.optimizerTemplateService</code></td>
<td>Generate .mjs files with strategy code</td>
</tr>
</tbody>
</table>
<a id="optimizertemplateservice" class="tsd-anchor"></a><h3 class="tsd-anchor-link">OptimizerTemplateService<a href="#optimizertemplateservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generates complete executable backtest files by merging:</p>
<ul>
<li>Default templates (top banner, helper functions, strategy logic)</li>
<li>Custom overrides from <code>IOptimizerSchema.template</code></li>
<li>LLM-generated strategy prompts</li>
</ul>
<p><strong>Registration:</strong> <a href="">src/lib/core/provide.ts:139</a></p>
<p><strong>Output Format:</strong></p>
<pre><code class="javascript"><span class="hl-5">// Generated .mjs file</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">addExchange</span><span class="hl-1">, </span><span class="hl-4">addStrategy</span><span class="hl-1">, </span><span class="hl-4">addFrame</span><span class="hl-1">, </span><span class="hl-4">Walker</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">addExchange</span><span class="hl-1">({ </span><span class="hl-5">/* ... */</span><span class="hl-1"> });</span><br/><span class="hl-0">addFrame</span><span class="hl-1">({ </span><span class="hl-5">/* ... */</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">// Multiple strategies generated from training periods</span><br/><span class="hl-0">addStrategy</span><span class="hl-1">({ </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&#39;llm-strategy-1&#39;</span><span class="hl-1">, </span><span class="hl-5">/* ... */</span><span class="hl-1"> });</span><br/><span class="hl-0">addStrategy</span><span class="hl-1">({ </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&#39;llm-strategy-2&#39;</span><span class="hl-1">, </span><span class="hl-5">/* ... */</span><span class="hl-1"> });</span><br/><span class="hl-0">addStrategy</span><span class="hl-1">({ </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&#39;llm-strategy-3&#39;</span><span class="hl-1">, </span><span class="hl-5">/* ... */</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">Walker</span><span class="hl-1">.</span><span class="hl-0">background</span><span class="hl-1">(</span><span class="hl-2">&#39;BTCUSDT&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">walkerName:</span><span class="hl-1"> </span><span class="hl-2">&#39;compare&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategies:</span><span class="hl-1"> [</span><span class="hl-2">&#39;llm-strategy-1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;llm-strategy-2&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;llm-strategy-3&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-4">metric:</span><span class="hl-1"> </span><span class="hl-2">&#39;sharpeRatio&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Key Method:</strong></p>
<pre><code class="typescript"><span class="hl-0">generate</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">strategyData</span><span class="hl-1">: </span><span class="hl-4">IOptimizerStrategyData</span><span class="hl-1">[]): </span><span class="hl-4">string</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="service-registration-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Registration Flow<a href="#service-registration-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The following diagram shows how services are registered via the DI system:</p>
<p><img src="../media/09-service-categories_4.svg" alt="Mermaid Diagram"></p>
<a id="registration-pattern" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Registration Pattern<a href="#registration-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Step 1:</strong> Define Symbol in <a href="">src/lib/core/types.ts</a></p>
<pre><code class="typescript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">schemaServices</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">strategySchemaService:</span><span class="hl-1"> </span><span class="hl-0">Symbol</span><span class="hl-1">(</span><span class="hl-2">&#39;strategySchemaService&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">// ...</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p><strong>Step 2:</strong> Register factory in <a href="">src/lib/core/provide.ts</a></p>
<pre><code class="typescript"><span class="hl-0">provide</span><span class="hl-1">(</span><span class="hl-8">TYPES</span><span class="hl-1">.</span><span class="hl-4">strategySchemaService</span><span class="hl-1">, () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">StrategySchemaService</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<p><strong>Step 3:</strong> Inject into aggregation in <a href="">src/lib/index.ts</a></p>
<pre><code class="typescript"><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">schemaServices</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">strategySchemaService:</span><span class="hl-1"> </span><span class="hl-0">inject</span><span class="hl-1">&lt;</span><span class="hl-13">StrategySchemaService</span><span class="hl-1">&gt;(</span><span class="hl-8">TYPES</span><span class="hl-1">.</span><span class="hl-4">strategySchemaService</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">// ...</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">backtest</span><span class="hl-1"> = {</span><br/><span class="hl-1">  ...</span><span class="hl-4">schemaServices</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">// ...other categories</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p><strong>Step 4:</strong> Use in public API</p>
<pre><code class="typescript"><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">function</span><span class="hl-1"> </span><span class="hl-0">addStrategy</span><span class="hl-1">(</span><span class="hl-4">schema</span><span class="hl-1">: </span><span class="hl-13">IStrategySchema</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">backtest</span><span class="hl-1">.</span><span class="hl-4">strategyValidationService</span><span class="hl-1">.</span><span class="hl-0">addStrategy</span><span class="hl-1">(</span><span class="hl-4">schema</span><span class="hl-1">.</span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">schema</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">backtest</span><span class="hl-1">.</span><span class="hl-4">strategySchemaService</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">(</span><span class="hl-4">schema</span><span class="hl-1">.</span><span class="hl-4">strategyName</span><span class="hl-1">, </span><span class="hl-4">schema</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="service-category-summary-table" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Service Category Summary Table<a href="#service-category-summary-table" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Category</th>
<th>Count</th>
<th>Key Responsibilities</th>
<th>Registration Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>Base</td>
<td>1</td>
<td>Logging infrastructure</td>
<td><a href="">src/lib/core/provide.ts:55-57</a></td>
</tr>
<tr>
<td>Context</td>
<td>2</td>
<td>Execution state management</td>
<td><a href="">src/lib/core/provide.ts:59-62</a></td>
</tr>
<tr>
<td>Schema</td>
<td>7</td>
<td>Configuration storage (ToolRegistry)</td>
<td><a href="">src/lib/core/provide.ts:74-82</a></td>
</tr>
<tr>
<td>Validation</td>
<td>8</td>
<td>Runtime existence checks (memoized)</td>
<td><a href="">src/lib/core/provide.ts:127-136</a></td>
</tr>
<tr>
<td>Connection</td>
<td>7</td>
<td>Memoized client factories</td>
<td><a href="">src/lib/core/provide.ts:64-72</a></td>
</tr>
<tr>
<td>Core</td>
<td>3</td>
<td>Domain logic implementation</td>
<td><a href="">src/lib/core/provide.ts:84-88</a></td>
</tr>
<tr>
<td>Global</td>
<td>4</td>
<td>Context wrappers for public API</td>
<td><a href="">src/lib/core/provide.ts:90-94</a></td>
</tr>
<tr>
<td>Command</td>
<td>3</td>
<td>High-level orchestration</td>
<td><a href="">src/lib/core/provide.ts:97-101</a></td>
</tr>
<tr>
<td>Logic</td>
<td>6</td>
<td>Execution flow (public/private)</td>
<td><a href="">src/lib/core/provide.ts:103-113</a></td>
</tr>
<tr>
<td>Markdown</td>
<td>9</td>
<td>Report generation (bounded queues)</td>
<td><a href="">src/lib/core/provide.ts:115-125</a></td>
</tr>
<tr>
<td>Template</td>
<td>1</td>
<td>Code generation for Optimizer</td>
<td><a href="">src/lib/core/provide.ts:138-140</a></td>
</tr>
</tbody>
</table>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#service-categories"><span>Service <wbr/>Categories</span></a><ul><li><a href="#service-layer-organization"><span>Service <wbr/>Layer <wbr/>Organization</span></a></li><li><a href="#service-category-diagram"><span>Service <wbr/>Category <wbr/>Diagram</span></a></li><li><a href="#1-base-services"><span>1. <wbr/>Base <wbr/>Services</span></a></li><li><ul><li><a href="#loggerservice"><span>Logger<wbr/>Service</span></a></li></ul></li><li><a href="#2-context-services"><span>2. <wbr/>Context <wbr/>Services</span></a></li><li><ul><li><a href="#executioncontextservice"><span>Execution<wbr/>Context<wbr/>Service</span></a></li><li><a href="#methodcontextservice"><span>Method<wbr/>Context<wbr/>Service</span></a></li></ul></li><li><a href="#3-schema-services"><span>3. <wbr/>Schema <wbr/>Services</span></a></li><li><ul><li><a href="#schema-service-pattern"><span>Schema <wbr/>Service <wbr/>Pattern</span></a></li></ul></li><li><a href="#4-validation-services"><span>4. <wbr/>Validation <wbr/>Services</span></a></li><li><ul><li><a href="#validation-service-pattern"><span>Validation <wbr/>Service <wbr/>Pattern</span></a></li></ul></li><li><a href="#5-connection-services"><span>5. <wbr/>Connection <wbr/>Services</span></a></li><li><ul><li><a href="#connection-service-diagram"><span>Connection <wbr/>Service <wbr/>Diagram</span></a></li><li><a href="#memoization-pattern"><span>Memoization <wbr/>Pattern</span></a></li></ul></li><li><a href="#6-core-services"><span>6. <wbr/>Core <wbr/>Services</span></a></li><li><ul><li><a href="#strategycoreservice"><span>Strategy<wbr/>Core<wbr/>Service</span></a></li><li><a href="#exchangecoreservice"><span>Exchange<wbr/>Core<wbr/>Service</span></a></li><li><a href="#framecoreservice"><span>Frame<wbr/>Core<wbr/>Service</span></a></li></ul></li><li><a href="#7-global-services"><span>7. <wbr/>Global <wbr/>Services</span></a></li><li><ul><li><a href="#global-service-pattern"><span>Global <wbr/>Service <wbr/>Pattern</span></a></li></ul></li><li><a href="#8-command-services"><span>8. <wbr/>Command <wbr/>Services</span></a></li><li><ul><li><a href="#command-service-workflow"><span>Command <wbr/>Service <wbr/>Workflow</span></a></li><li><a href="#backtestcommandservice"><span>Backtest<wbr/>Command<wbr/>Service</span></a></li><li><a href="#livecommandservice"><span>Live<wbr/>Command<wbr/>Service</span></a></li><li><a href="#walkercommandservice"><span>Walker<wbr/>Command<wbr/>Service</span></a></li></ul></li><li><a href="#9-logic-services"><span>9. <wbr/>Logic <wbr/>Services</span></a></li><li><ul><li><a href="#service-structure"><span>Service <wbr/>Structure</span></a></li><li><a href="#publicprivate-split-pattern"><span>Public/<wbr/>Private <wbr/>Split <wbr/>Pattern</span></a></li><li><a href="#backtestlogicpublicservice"><span>Backtest<wbr/>Logic<wbr/>Public<wbr/>Service</span></a></li><li><a href="#backtestlogicprivateservice"><span>Backtest<wbr/>Logic<wbr/>Private<wbr/>Service</span></a></li><li><a href="#livelogicprivateservice"><span>Live<wbr/>Logic<wbr/>Private<wbr/>Service</span></a></li><li><a href="#walkerlogicprivateservice"><span>Walker<wbr/>Logic<wbr/>Private<wbr/>Service</span></a></li></ul></li><li><a href="#10-markdown-services"><span>10. <wbr/>Markdown <wbr/>Services</span></a></li><li><ul><li><a href="#markdown-service-pattern"><span>Markdown <wbr/>Service <wbr/>Pattern</span></a></li><li><a href="#backtestmarkdownservice"><span>Backtest<wbr/>Markdown<wbr/>Service</span></a></li><li><a href="#livemarkdownservice"><span>Live<wbr/>Markdown<wbr/>Service</span></a></li><li><a href="#heatmarkdownservice"><span>Heat<wbr/>Markdown<wbr/>Service</span></a></li></ul></li><li><a href="#11-template-services"><span>11. <wbr/>Template <wbr/>Services</span></a></li><li><ul><li><a href="#optimizertemplateservice"><span>Optimizer<wbr/>Template<wbr/>Service</span></a></li></ul></li><li><a href="#service-registration-flow"><span>Service <wbr/>Registration <wbr/>Flow</span></a></li><li><ul><li><a href="#registration-pattern"><span>Registration <wbr/>Pattern</span></a></li></ul></li><li><a href="#service-category-summary-table"><span>Service <wbr/>Category <wbr/>Summary <wbr/>Table</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
