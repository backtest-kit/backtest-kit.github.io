<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/59_reporting-classes-api | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_59_reporting-classes-api.html">design/59_reporting-classes-api</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="reporting-classes-api" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Reporting Classes API<a href="#reporting-classes-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This page documents the specialized reporting classes that provide access to trading statistics and analysis reports. These classes are wrappers around markdown services and offer three primary methods: <code>getData()</code>, <code>getReport()</code>, and <code>dump()</code>.</p>
<p>For execution control classes like <code>Backtest</code>, <code>Live</code>, and <code>Walker</code>, see <a href="design_56_api-reference.html">Execution Classes API</a>. For the complete list of global configuration functions, see <a href="design_56_api-reference.html">Global Functions</a>.</p>
<a id="overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The framework provides five reporting classes for analyzing different aspects of trading activity:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Purpose</th>
<th>Data Source</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Performance</code></td>
<td>Execution timing and bottleneck analysis</td>
<td><code>PerformanceMarkdownService</code></td>
</tr>
<tr>
<td><code>Heat</code></td>
<td>Portfolio-wide symbol aggregation (heatmap)</td>
<td><code>HeatMarkdownService</code></td>
</tr>
<tr>
<td><code>Risk</code></td>
<td>Risk rejection tracking</td>
<td><code>RiskMarkdownService</code></td>
</tr>
<tr>
<td><code>Schedule</code></td>
<td>Scheduled signal monitoring</td>
<td><code>ScheduleMarkdownService</code></td>
</tr>
<tr>
<td><code>Partial</code></td>
<td>Partial profit/loss milestone tracking</td>
<td><code>PartialMarkdownService</code></td>
</tr>
</tbody>
</table>
<p>Each class is a singleton utility that delegates to its corresponding markdown service, which automatically accumulates events via event emitter subscriptions.</p>
<a id="common-api-pattern" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Common API Pattern<a href="#common-api-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All reporting classes follow the same three-method API pattern:</p>
<pre><code class="typescript"><span class="hl-5">// Get statistical data object</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">stats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">ReportingClass</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(...</span><span class="hl-4">args</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Generate markdown report string</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">markdown</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">ReportingClass</span><span class="hl-1">.</span><span class="hl-0">getReport</span><span class="hl-1">(...</span><span class="hl-4">args</span><span class="hl-1">, </span><span class="hl-4">columns</span><span class="hl-1">?);</span><br/><br/><span class="hl-5">// Save report to file system</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">ReportingClass</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(...</span><span class="hl-4">args</span><span class="hl-1">, </span><span class="hl-4">path</span><span class="hl-1">?, </span><span class="hl-4">columns</span><span class="hl-1">?);</span>
</code><button type="button">Copy</button></pre>

<p>Each method performs strategy validation before delegating to its markdown service. The <code>columns</code> parameter allows customization of report table structure.</p>
<a id="class-hierarchy-and-data-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Class Hierarchy and Data Flow<a href="#class-hierarchy-and-data-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><img src="../media/59_reporting-classes-api_0.svg" alt="Mermaid Diagram"></p>
<a id="performance-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Performance Class<a href="#performance-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>Performance</code> class provides static methods for analyzing execution timing metrics and identifying bottlenecks.</p>
<a id="methods" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Methods<a href="#methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="performancegetdatasymbol-strategyname-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Performance.getData(symbol, strategyName): Promise&lt;PerformanceStatisticsModel&gt;</code><a href="#performancegetdatasymbol-strategyname-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns aggregated performance statistics grouped by metric type. Each metric includes:</p>
<ul>
<li>Count, total duration, average, min, max</li>
<li>Standard deviation for volatility analysis</li>
<li>Percentiles (median, P95, P99) for outlier detection</li>
<li>Wait time statistics (time between consecutive events)</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code> - Trading pair symbol</li>
<li><code>strategyName: string</code> - Strategy name</li>
</ul>
<p><strong>Returns:</strong> <code>PerformanceStatisticsModel</code> containing:</p>
<ul>
<li><code>strategyName: string</code></li>
<li><code>totalEvents: number</code></li>
<li><code>totalDuration: number</code></li>
<li><code>metricStats: Record&lt;PerformanceMetricType, MetricStats&gt;</code></li>
<li><code>events: PerformanceContract[]</code></li>
</ul>
<a id="performancegetreportsymbol-strategyname-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Performance.getReport(symbol, strategyName, columns?): Promise&lt;string&gt;</code><a href="#performancegetreportsymbol-strategyname-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown report with:</p>
<ul>
<li>Time distribution across operation types (percentage breakdown)</li>
<li>Detailed metrics table sorted by total duration (bottlenecks first)</li>
<li>Percentile analysis with P95/P99 values</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<p><strong>Returns:</strong> Markdown formatted report string</p>
<a id="performancedumpsymbol-strategyname-path-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Performance.dump(symbol, strategyName, path?, columns?): Promise&lt;void&gt;</code><a href="#performancedumpsymbol-strategyname-path-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Saves performance report to disk. Default path: <code>./dump/performance/{strategyName}.md</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>path?: string</code> - Custom directory path</li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<a id="data-collection" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Data Collection<a href="#data-collection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Performance metrics are collected via <code>performanceEmitter</code> which broadcasts <code>PerformanceContract</code> events containing:</p>
<ul>
<li><code>metricType: PerformanceMetricType</code> - Operation identifier</li>
<li><code>duration: number</code> - Execution time in milliseconds</li>
<li><code>timestamp: number</code> - Event timestamp</li>
<li><code>previousTimestamp: number | null</code> - Previous event timestamp for wait time calculation</li>
</ul>
<p>Maximum 10,000 events stored per symbol-strategy pair.</p>
<a id="heat-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Heat Class<a href="#heat-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>Heat</code> class provides portfolio-wide symbol aggregation, generating heatmaps that show performance across all symbols for a given strategy.</p>
<a id="methods-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Methods<a href="#methods-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="heatgetdatastrategyname-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Heat.getData(strategyName): Promise&lt;HeatmapStatisticsModel&gt;</code><a href="#heatgetdatastrategyname-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns per-symbol statistics and portfolio-wide aggregates:</p>
<ul>
<li>Per-symbol: Total PNL, Sharpe Ratio, Max Drawdown, trades, win rate, profit factor, etc.</li>
<li>Portfolio: Total PNL, weighted Sharpe Ratio, total trades across all symbols</li>
</ul>
<p>Symbols are sorted by Sharpe Ratio (best performers first).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>strategyName: string</code> - Strategy name</li>
</ul>
<p><strong>Returns:</strong> <code>HeatmapStatisticsModel</code> containing:</p>
<ul>
<li><code>symbols: IHeatmapRow[]</code> - Per-symbol statistics</li>
<li><code>totalSymbols: number</code></li>
<li><code>portfolioTotalPnl: number | null</code></li>
<li><code>portfolioSharpeRatio: number | null</code></li>
<li><code>portfolioTotalTrades: number</code></li>
</ul>
<a id="heatgetreportstrategyname-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Heat.getReport(strategyName, columns?): Promise&lt;string&gt;</code><a href="#heatgetreportstrategyname-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown heatmap table with portfolio summary header.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>strategyName: string</code></li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<p><strong>Returns:</strong> Markdown formatted heatmap report</p>
<a id="heatdumpstrategyname-path-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Heat.dump(strategyName, path?, columns?): Promise&lt;void&gt;</code><a href="#heatdumpstrategyname-path-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Saves heatmap report to disk. Default path: <code>./dump/heatmap/{strategyName}.md</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>strategyName: string</code></li>
<li><code>path?: string</code> - Custom directory path</li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<a id="data-collection-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Data Collection<a href="#data-collection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Heat data is collected via <code>signalEmitter</code> which broadcasts all closed signals. The service automatically groups signals by symbol and calculates comprehensive statistics per symbol including Sharpe Ratio, Max Drawdown, Profit Factor, Win/Loss Streaks, and Expectancy.</p>
<p>Maximum 250 signals stored per symbol.</p>
<a id="risk-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Risk Class<a href="#risk-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>Risk</code> class provides access to risk rejection event tracking and includes the <code>MergeRisk</code> composite implementation.</p>
<a id="riskutils-methods" class="tsd-anchor"></a><h3 class="tsd-anchor-link">RiskUtils Methods<a href="#riskutils-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="riskgetdatasymbol-strategyname-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Risk.getData(symbol, strategyName): Promise&lt;RiskStatisticsModel&gt;</code><a href="#riskgetdatasymbol-strategyname-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns risk rejection statistics with aggregations by symbol and by strategy.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code> - Trading pair symbol</li>
<li><code>strategyName: string</code> - Strategy name</li>
</ul>
<p><strong>Returns:</strong> <code>RiskStatisticsModel</code> containing:</p>
<ul>
<li><code>eventList: RiskEvent[]</code> - All rejection events</li>
<li><code>totalRejections: number</code></li>
<li><code>bySymbol: Record&lt;string, number&gt;</code> - Rejection count per symbol</li>
<li><code>byStrategy: Record&lt;string, number&gt;</code> - Rejection count per strategy</li>
</ul>
<a id="riskgetreportsymbol-strategyname-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Risk.getReport(symbol, strategyName, columns?): Promise&lt;string&gt;</code><a href="#riskgetreportsymbol-strategyname-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown report with rejection event table and summary statistics broken down by symbol and strategy.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<p><strong>Returns:</strong> Markdown formatted report string</p>
<a id="riskdumpsymbol-strategyname-path-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Risk.dump(symbol, strategyName, path?, columns?): Promise&lt;void&gt;</code><a href="#riskdumpsymbol-strategyname-path-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Saves risk rejection report to disk. Default filename: <code>{symbol}_{strategyName}.md</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>path?: string</code> - Custom directory path (default: <code>./dump/risk</code>)</li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<a id="mergerisk-class" class="tsd-anchor"></a><h3 class="tsd-anchor-link">MergeRisk Class<a href="#mergerisk-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>MergeRisk</code> class implements the Composite pattern to combine multiple risk profiles. Used internally when a strategy specifies both <code>riskName</code> and <code>riskList</code>.</p>
<a id="constructor" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">MergeRisk</span><span class="hl-1">(</span><span class="hl-4">riskList</span><span class="hl-1">: </span><span class="hl-4">IRisk</span><span class="hl-1">[])</span>
</code><button type="button">Copy</button></pre>

<p>Creates a merged risk profile from multiple <code>IRisk</code> instances.</p>
<a id="checksignalparams-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>checkSignal(params): Promise&lt;boolean&gt;</code><a href="#checksignalparams-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns <code>true</code> only if ALL child risk profiles approve the signal (logical AND). Executes all checks in parallel.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>params: IRiskCheckArgs</code> - Contains symbol, strategyName, position, exchangeName</li>
</ul>
<p><strong>Returns:</strong> <code>true</code> if all risks pass, <code>false</code> if any risk rejects</p>
<a id="addsignalsymbol-context-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>addSignal(symbol, context): Promise&lt;void&gt;</code><a href="#addsignalsymbol-context-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Propagates signal registration to all child risk profiles in parallel.</p>
<a id="removesignalsymbol-context-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>removeSignal(symbol, context): Promise&lt;void&gt;</code><a href="#removesignalsymbol-context-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Propagates signal removal to all child risk profiles in parallel.</p>
<a id="data-collection-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Data Collection<a href="#data-collection-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Risk rejection events are collected via <code>riskSubject</code> which emits <code>RiskEvent</code> objects containing:</p>
<ul>
<li><code>timestamp: number</code></li>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>position: PositionEnum</code></li>
<li><code>exchangeName: string</code></li>
<li><code>currentPrice: number</code></li>
<li><code>activePositionCount: number</code></li>
<li><code>comment: string</code> - Rejection reason</li>
</ul>
<p>Maximum 250 events stored per symbol-strategy pair.</p>
<a id="schedule-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Schedule Class<a href="#schedule-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>Schedule</code> class tracks scheduled signals, their activation status, and cancellation metrics.</p>
<a id="methods-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Methods<a href="#methods-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="schedulegetdatasymbol-strategyname-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Schedule.getData(symbol, strategyName): Promise&lt;ScheduleStatisticsModel&gt;</code><a href="#schedulegetdatasymbol-strategyname-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns scheduled signal statistics including cancellation rate and average wait times.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code> - Trading pair symbol</li>
<li><code>strategyName: string</code> - Strategy name</li>
</ul>
<p><strong>Returns:</strong> <code>ScheduleStatisticsModel</code> containing:</p>
<ul>
<li><code>eventList: ScheduledEvent[]</code></li>
<li><code>totalEvents: number</code></li>
<li><code>totalScheduled: number</code></li>
<li><code>totalOpened: number</code></li>
<li><code>totalCancelled: number</code></li>
<li><code>cancellationRate: number | null</code> - Percentage</li>
<li><code>activationRate: number | null</code> - Percentage</li>
<li><code>avgWaitTime: number | null</code> - Minutes until cancellation</li>
<li><code>avgActivationTime: number | null</code> - Minutes until activation</li>
</ul>
<a id="schedulegetreportsymbol-strategyname-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Schedule.getReport(symbol, strategyName, columns?): Promise&lt;string&gt;</code><a href="#schedulegetreportsymbol-strategyname-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown report with scheduled event table and summary statistics showing cancellation/activation rates and timing metrics.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<p><strong>Returns:</strong> Markdown formatted report string</p>
<a id="scheduledumpsymbol-strategyname-path-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Schedule.dump(symbol, strategyName, path?, columns?): Promise&lt;void&gt;</code><a href="#scheduledumpsymbol-strategyname-path-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Saves schedule report to disk. Default path: <code>./dump/schedule/{strategyName}.md</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>path?: string</code> - Custom directory path</li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<a id="data-collection-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Data Collection<a href="#data-collection-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Schedule data is collected via <code>signalEmitter</code> which broadcasts all signal events. The service tracks three event types:</p>
<ol>
<li><strong>Scheduled</strong> - Signal created but <code>priceOpen</code> not yet reached</li>
<li><strong>Opened</strong> - Scheduled signal activated (only if <code>scheduledAt !== pendingAt</code>)</li>
<li><strong>Cancelled</strong> - Scheduled signal cancelled before activation</li>
</ol>
<p>Maximum 250 events stored per symbol-strategy pair.</p>
<a id="partial-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Partial Class<a href="#partial-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>Partial</code> class tracks partial profit/loss milestone events as positions move through predefined levels (±10%, ±20%, ±30%, etc.).</p>
<a id="methods-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Methods<a href="#methods-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="partialgetdatasymbol-strategyname-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Partial.getData(symbol, strategyName): Promise&lt;PartialStatisticsModel&gt;</code><a href="#partialgetdatasymbol-strategyname-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns partial profit/loss event statistics.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code> - Trading pair symbol</li>
<li><code>strategyName: string</code> - Strategy name</li>
</ul>
<p><strong>Returns:</strong> <code>PartialStatisticsModel</code> containing:</p>
<ul>
<li><code>eventList: PartialEvent[]</code></li>
<li><code>totalEvents: number</code></li>
<li><code>totalProfit: number</code> - Count of profit milestone events</li>
<li><code>totalLoss: number</code> - Count of loss milestone events</li>
</ul>
<a id="partialgetreportsymbol-strategyname-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Partial.getReport(symbol, strategyName, columns?): Promise&lt;string&gt;</code><a href="#partialgetreportsymbol-strategyname-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates markdown report with partial event table showing:</p>
<ul>
<li>Action (PROFIT/LOSS)</li>
<li>Symbol, Strategy, Signal ID, Position</li>
<li>Level percentage (±10%, ±20%, etc.)</li>
<li>Current price at milestone</li>
<li>Timestamp and mode (Backtest/Live)</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<p><strong>Returns:</strong> Markdown formatted report string</p>
<a id="partialdumpsymbol-strategyname-path-columns-promise" class="tsd-anchor"></a><h4 class="tsd-anchor-link"><code>Partial.dump(symbol, strategyName, path?, columns?): Promise&lt;void&gt;</code><a href="#partialdumpsymbol-strategyname-path-columns-promise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Saves partial report to disk. Default filename: <code>{symbol}_{strategyName}.md</code></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>path?: string</code> - Custom directory path (default: <code>./dump/partial</code>)</li>
<li><code>columns?: Columns[]</code> - Optional custom column configuration</li>
</ul>
<a id="data-collection-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Data Collection<a href="#data-collection-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Partial data is collected via two subjects:</p>
<ul>
<li><code>partialProfitSubject</code> - Emits when position reaches profit milestones (10%, 20%, 30%, etc.)</li>
<li><code>partialLossSubject</code> - Emits when position reaches loss milestones (-10%, -20%, -30%, etc.)</li>
</ul>
<p>Each event contains:</p>
<ul>
<li><code>timestamp: number</code></li>
<li><code>action: &quot;profit&quot; | &quot;loss&quot;</code></li>
<li><code>symbol: string</code></li>
<li><code>strategyName: string</code></li>
<li><code>signalId: string</code></li>
<li><code>position: PositionEnum</code></li>
<li><code>currentPrice: number</code></li>
<li><code>level: PartialLevel</code> - Milestone percentage</li>
<li><code>backtest: boolean</code></li>
</ul>
<p>Maximum 250 events stored per symbol-strategy pair.</p>
<a id="column-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Column Configuration<a href="#column-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All reporting classes support custom column configuration via the optional <code>columns</code> parameter in <code>getReport()</code> and <code>dump()</code> methods.</p>
<a id="columnmodel-interface" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ColumnModel Interface<a href="#columnmodel-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-11">ColumnModel</span><span class="hl-1">&lt;</span><span class="hl-11">T</span><span class="hl-1"> </span><span class="hl-7">extends</span><span class="hl-1"> </span><span class="hl-11">object</span><span class="hl-1"> = </span><span class="hl-11">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">;              </span><span class="hl-5">// Unique column identifier</span><br/><span class="hl-1">  </span><span class="hl-4">label</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">;            </span><span class="hl-5">// Display label for column header</span><br/><span class="hl-1">  </span><span class="hl-0">format</span><span class="hl-1">: (</span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">T</span><span class="hl-1">, </span><span class="hl-4">index</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">string</span><span class="hl-1"> | </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-11">string</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">isVisible</span><span class="hl-1">: () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">boolean</span><span class="hl-1"> | </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-11">boolean</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="column-type-aliases" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Column Type Aliases<a href="#column-type-aliases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Each markdown service defines a type alias for its column configuration:</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Type Alias</th>
<th>Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BacktestMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>IStrategyTickResultClosed</code></td>
</tr>
<tr>
<td><code>LiveMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>TickEvent</code></td>
</tr>
<tr>
<td><code>WalkerMarkdownService</code></td>
<td><code>StrategyColumn</code></td>
<td><code>IStrategyResult</code></td>
</tr>
<tr>
<td><code>WalkerMarkdownService</code></td>
<td><code>PnlColumn</code></td>
<td><code>SignalData</code></td>
</tr>
<tr>
<td><code>PerformanceMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>MetricStats</code></td>
</tr>
<tr>
<td><code>HeatMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>IHeatmapRow</code></td>
</tr>
<tr>
<td><code>RiskMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>RiskEvent</code></td>
</tr>
<tr>
<td><code>ScheduleMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>ScheduledEvent</code></td>
</tr>
<tr>
<td><code>PartialMarkdownService</code></td>
<td><code>Columns</code></td>
<td><code>PartialEvent</code></td>
</tr>
</tbody>
</table>
<a id="default-column-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Default Column Configuration<a href="#default-column-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Default columns are defined in <code>COLUMN_CONFIG</code> object:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">COLUMN_CONFIG</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Access default column configurations</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">backtestColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">backtest_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">liveColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">live_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">performanceColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">performance_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">heatColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">heat_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">riskColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">risk_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">scheduleColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">schedule_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">partialColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">partial_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">walkerStrategyColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">walker_strategy_columns</span><span class="hl-1">;</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">walkerPnlColumns</span><span class="hl-1"> = </span><span class="hl-8">COLUMN_CONFIG</span><span class="hl-1">.</span><span class="hl-4">walker_pnl_columns</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="custom-column-example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Custom Column Example<a href="#custom-column-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Performance</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Define custom columns showing only metric type and average duration</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">customColumns</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;metric&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Operation&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">format</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">stat</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">stat</span><span class="hl-1">.</span><span class="hl-4">metricType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">isVisible</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">true</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;avg&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Avg Time (ms)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">format</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">stat</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">stat</span><span class="hl-1">.</span><span class="hl-4">avgDuration</span><span class="hl-1">.</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-6">2</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">isVisible</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">true</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;p99&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;P99 (ms)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">format</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">stat</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-4">stat</span><span class="hl-1">.</span><span class="hl-4">p99</span><span class="hl-1">.</span><span class="hl-0">toFixed</span><span class="hl-1">(</span><span class="hl-6">2</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">isVisible</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-7">true</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-5">// Use custom columns in report</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">markdown</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Performance</span><span class="hl-1">.</span><span class="hl-0">getReport</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">customColumns</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="api-method-signature-patterns" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API Method Signature Patterns<a href="#api-method-signature-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All reporting classes follow consistent method signature patterns for easy memorization:</p>
<a id="symbol-strategy-scope" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Symbol-Strategy Scope<a href="#symbol-strategy-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Classes that operate on symbol-strategy pairs (Performance, Risk, Schedule, Partial):</p>
<pre><code class="typescript"><span class="hl-5">// getData pattern</span><br/><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">StatisticsModel</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// getReport pattern</span><br/><span class="hl-0">getReport</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">columns</span><span class="hl-1">?: </span><span class="hl-4">Columns</span><span class="hl-1">[]</span><br/><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// dump pattern</span><br/><span class="hl-0">dump</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">path</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">columns</span><span class="hl-1">?: </span><span class="hl-4">Columns</span><span class="hl-1">[]</span><br/><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="strategy-scope" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Strategy Scope<a href="#strategy-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Classes that operate on strategy level only (Heat):</p>
<pre><code class="typescript"><span class="hl-5">// getData pattern</span><br/><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">StatisticsModel</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// getReport pattern</span><br/><span class="hl-0">getReport</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">columns</span><span class="hl-1">?: </span><span class="hl-4">Columns</span><span class="hl-1">[]</span><br/><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-5">// dump pattern</span><br/><span class="hl-0">dump</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">path</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">columns</span><span class="hl-1">?: </span><span class="hl-4">Columns</span><span class="hl-1">[]</span><br/><span class="hl-1">): </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="statistics-models-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Statistics Models Reference<a href="#statistics-models-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Each reporting class returns a specific statistics model from its <code>getData()</code> method:</p>
<a id="performancestatisticsmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link">PerformanceStatisticsModel<a href="#performancestatisticsmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalEvents</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalDuration</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">metricStats</span><span class="hl-1">: </span><span class="hl-4">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">MetricStats</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-10">events</span><span class="hl-1">: </span><span class="hl-4">PerformanceContract</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// MetricStats structure</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">metricType</span><span class="hl-1">: </span><span class="hl-4">PerformanceMetricType</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">count</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalDuration</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgDuration</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">minDuration</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">maxDuration</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">stdDev</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">median</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">p95</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">p99</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgWaitTime</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">minWaitTime</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">maxWaitTime</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="heatmapstatisticsmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link">HeatmapStatisticsModel<a href="#heatmapstatisticsmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">symbols</span><span class="hl-1">: </span><span class="hl-4">IHeatmapRow</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-10">totalSymbols</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">portfolioTotalPnl</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">portfolioSharpeRatio</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">portfolioTotalTrades</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// IHeatmapRow structure</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalPnl</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">sharpeRatio</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">maxDrawdown</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalTrades</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">winCount</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">lossCount</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">winRate</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgPnl</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">stdDev</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">profitFactor</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgWin</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgLoss</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">maxWinStreak</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">maxLossStreak</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">expectancy</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="riskstatisticsmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link">RiskStatisticsModel<a href="#riskstatisticsmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">eventList</span><span class="hl-1">: </span><span class="hl-4">RiskEvent</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-10">totalRejections</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">bySymbol</span><span class="hl-1">: </span><span class="hl-4">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">number</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-10">byStrategy</span><span class="hl-1">: </span><span class="hl-4">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">number</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// RiskEvent structure</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">timestamp</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">position</span><span class="hl-1">: </span><span class="hl-4">PositionEnum</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">exchangeName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">currentPrice</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">activePositionCount</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">comment</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="schedulestatisticsmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ScheduleStatisticsModel<a href="#schedulestatisticsmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">eventList</span><span class="hl-1">: </span><span class="hl-4">ScheduledEvent</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-10">totalEvents</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalScheduled</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalOpened</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalCancelled</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">cancellationRate</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">activationRate</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgWaitTime</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">avgActivationTime</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// ScheduledEvent structure</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">timestamp</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">action</span><span class="hl-1">: </span><span class="hl-2">&quot;scheduled&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;opened&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;cancelled&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">signalId</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">position</span><span class="hl-1">: </span><span class="hl-4">PositionEnum</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">note</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">currentPrice</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">priceOpen</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">takeProfit</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">stopLoss</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">closeTimestamp</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">duration</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="partialstatisticsmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link">PartialStatisticsModel<a href="#partialstatisticsmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">eventList</span><span class="hl-1">: </span><span class="hl-4">PartialEvent</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-10">totalEvents</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalProfit</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">totalLoss</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// PartialEvent structure</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">timestamp</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">action</span><span class="hl-1">: </span><span class="hl-2">&quot;profit&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;loss&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">symbol</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">strategyName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">signalId</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">position</span><span class="hl-1">: </span><span class="hl-4">PositionEnum</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">currentPrice</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">level</span><span class="hl-1">: </span><span class="hl-4">PartialLevel</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">backtest</span><span class="hl-1">: </span><span class="hl-4">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="storage-and-memory-management" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Storage and Memory Management<a href="#storage-and-memory-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All markdown services implement a consistent storage pattern with memory limits:</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Storage Class</th>
<th>Max Events</th>
<th>Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PerformanceMarkdownService</code></td>
<td><code>PerformanceStorage</code></td>
<td>10,000</td>
<td>Per symbol-strategy</td>
</tr>
<tr>
<td><code>HeatMarkdownService</code></td>
<td><code>HeatmapStorage</code></td>
<td>250 per symbol</td>
<td>Per strategy</td>
</tr>
<tr>
<td><code>RiskMarkdownService</code></td>
<td><code>ReportStorage</code></td>
<td>250</td>
<td>Per symbol-strategy</td>
</tr>
<tr>
<td><code>ScheduleMarkdownService</code></td>
<td><code>ReportStorage</code></td>
<td>250</td>
<td>Per symbol-strategy</td>
</tr>
<tr>
<td><code>PartialMarkdownService</code></td>
<td><code>ReportStorage</code></td>
<td>250</td>
<td>Per symbol-strategy</td>
</tr>
</tbody>
</table>
<p>Storage instances are created and cached using <code>memoize</code> pattern from <code>functools-kit</code>. When the event limit is exceeded, the oldest events are removed (FIFO queue).</p>
<a id="complete-usage-example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Complete Usage Example<a href="#complete-usage-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Performance</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Heat</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Risk</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Schedule</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Partial</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Backtest</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">listenDoneBacktest</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;backtest-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Run backtest</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">cancel</span><span class="hl-1"> = </span><span class="hl-4">Backtest</span><span class="hl-1">.</span><span class="hl-0">background</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">exchangeName:</span><span class="hl-1"> </span><span class="hl-2">&quot;binance&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">frameName:</span><span class="hl-1"> </span><span class="hl-2">&quot;30d-backtest&quot;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Wait for completion</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-11">Promise</span><span class="hl-1">(</span><span class="hl-4">resolve</span><span class="hl-1"> </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">unsub</span><span class="hl-1"> = </span><span class="hl-0">listenDoneBacktest</span><span class="hl-1">((</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">strategyName</span><span class="hl-1"> === </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">unsub</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-0">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Generate all reports</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">perfStats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Performance</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Slowest operation: </span><span class="hl-7">${</span><span class="hl-4">Object</span><span class="hl-9">.</span><span class="hl-0">values</span><span class="hl-9">(</span><span class="hl-4">perfStats</span><span class="hl-9">.</span><span class="hl-4">metricStats</span><span class="hl-9">)</span><br/><span class="hl-9">  .</span><span class="hl-0">sort</span><span class="hl-9">((</span><span class="hl-4">a</span><span class="hl-9">, </span><span class="hl-4">b</span><span class="hl-9">) </span><span class="hl-7">=&gt;</span><span class="hl-9"> </span><span class="hl-4">b</span><span class="hl-9">.</span><span class="hl-4">avgDuration</span><span class="hl-9"> </span><span class="hl-1">-</span><span class="hl-9"> </span><span class="hl-4">a</span><span class="hl-9">.</span><span class="hl-4">avgDuration</span><span class="hl-9">)[</span><span class="hl-6">0</span><span class="hl-9">].</span><span class="hl-4">metricType</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">heatStats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Heat</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Portfolio PNL: </span><span class="hl-7">${</span><span class="hl-4">heatStats</span><span class="hl-9">.</span><span class="hl-4">portfolioTotalPnl</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">riskStats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Risk</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Total rejections: </span><span class="hl-7">${</span><span class="hl-4">riskStats</span><span class="hl-9">.</span><span class="hl-4">totalRejections</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">schedStats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Schedule</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Cancellation rate: </span><span class="hl-7">${</span><span class="hl-4">schedStats</span><span class="hl-9">.</span><span class="hl-4">cancellationRate</span><span class="hl-7">}</span><span class="hl-2">%`</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">partialStats</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Partial</span><span class="hl-1">.</span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Profit milestones: </span><span class="hl-7">${</span><span class="hl-4">partialStats</span><span class="hl-9">.</span><span class="hl-4">totalProfit</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Save all reports to disk</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Performance</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Heat</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Risk</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Schedule</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Partial</span><span class="hl-1">.</span><span class="hl-0">dump</span><span class="hl-1">(</span><span class="hl-2">&quot;BTCUSDT&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-strategy&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#reporting-classes-api"><span>Reporting <wbr/>Classes API</span></a><ul><li><a href="#overview"><span>Overview</span></a></li><li><a href="#common-api-pattern"><span>Common API <wbr/>Pattern</span></a></li><li><a href="#class-hierarchy-and-data-flow"><span>Class <wbr/>Hierarchy and <wbr/>Data <wbr/>Flow</span></a></li><li><a href="#performance-class"><span>Performance <wbr/>Class</span></a></li><li><ul><li><a href="#methods"><span>Methods</span></a></li><li><ul><li><a href="#performancegetdatasymbol-strategyname-promise"><span>Performance.get<wbr/>Data(symbol, strategy<wbr/>Name): <wbr/>Promise&lt;<wbr/>Performance<wbr/>Statistics<wbr/>Model&gt;</span></a></li><li><a href="#performancegetreportsymbol-strategyname-columns-promise"><span>Performance.get<wbr/>Report(symbol, strategy<wbr/>Name, columns?): <wbr/>Promise&lt;string&gt;</span></a></li><li><a href="#performancedumpsymbol-strategyname-path-columns-promise"><span>Performance.dump(symbol, strategy<wbr/>Name, path?, columns?): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#data-collection"><span>Data <wbr/>Collection</span></a></li></ul></li><li><a href="#heat-class"><span>Heat <wbr/>Class</span></a></li><li><ul><li><a href="#methods-1"><span>Methods</span></a></li><li><ul><li><a href="#heatgetdatastrategyname-promise"><span>Heat.get<wbr/>Data(strategy<wbr/>Name): <wbr/>Promise&lt;<wbr/>Heatmap<wbr/>Statistics<wbr/>Model&gt;</span></a></li><li><a href="#heatgetreportstrategyname-columns-promise"><span>Heat.get<wbr/>Report(strategy<wbr/>Name, columns?): <wbr/>Promise&lt;string&gt;</span></a></li><li><a href="#heatdumpstrategyname-path-columns-promise"><span>Heat.dump(strategy<wbr/>Name, path?, columns?): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#data-collection-1"><span>Data <wbr/>Collection</span></a></li></ul></li><li><a href="#risk-class"><span>Risk <wbr/>Class</span></a></li><li><ul><li><a href="#riskutils-methods"><span>Risk<wbr/>Utils <wbr/>Methods</span></a></li><li><ul><li><a href="#riskgetdatasymbol-strategyname-promise"><span>Risk.get<wbr/>Data(symbol, strategy<wbr/>Name): <wbr/>Promise&lt;<wbr/>Risk<wbr/>Statistics<wbr/>Model&gt;</span></a></li><li><a href="#riskgetreportsymbol-strategyname-columns-promise"><span>Risk.get<wbr/>Report(symbol, strategy<wbr/>Name, columns?): <wbr/>Promise&lt;string&gt;</span></a></li><li><a href="#riskdumpsymbol-strategyname-path-columns-promise"><span>Risk.dump(symbol, strategy<wbr/>Name, path?, columns?): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#mergerisk-class"><span>Merge<wbr/>Risk <wbr/>Class</span></a></li><li><ul><li><a href="#constructor"><span>Constructor</span></a></li><li><a href="#checksignalparams-promise"><span>check<wbr/>Signal(params): <wbr/>Promise&lt;boolean&gt;</span></a></li><li><a href="#addsignalsymbol-context-promise"><span>add<wbr/>Signal(symbol, context): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#removesignalsymbol-context-promise"><span>remove<wbr/>Signal(symbol, context): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#data-collection-2"><span>Data <wbr/>Collection</span></a></li></ul></li><li><a href="#schedule-class"><span>Schedule <wbr/>Class</span></a></li><li><ul><li><a href="#methods-2"><span>Methods</span></a></li><li><ul><li><a href="#schedulegetdatasymbol-strategyname-promise"><span>Schedule.get<wbr/>Data(symbol, strategy<wbr/>Name): <wbr/>Promise&lt;<wbr/>Schedule<wbr/>Statistics<wbr/>Model&gt;</span></a></li><li><a href="#schedulegetreportsymbol-strategyname-columns-promise"><span>Schedule.get<wbr/>Report(symbol, strategy<wbr/>Name, columns?): <wbr/>Promise&lt;string&gt;</span></a></li><li><a href="#scheduledumpsymbol-strategyname-path-columns-promise"><span>Schedule.dump(symbol, strategy<wbr/>Name, path?, columns?): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#data-collection-3"><span>Data <wbr/>Collection</span></a></li></ul></li><li><a href="#partial-class"><span>Partial <wbr/>Class</span></a></li><li><ul><li><a href="#methods-3"><span>Methods</span></a></li><li><ul><li><a href="#partialgetdatasymbol-strategyname-promise"><span>Partial.get<wbr/>Data(symbol, strategy<wbr/>Name): <wbr/>Promise&lt;<wbr/>Partial<wbr/>Statistics<wbr/>Model&gt;</span></a></li><li><a href="#partialgetreportsymbol-strategyname-columns-promise"><span>Partial.get<wbr/>Report(symbol, strategy<wbr/>Name, columns?): <wbr/>Promise&lt;string&gt;</span></a></li><li><a href="#partialdumpsymbol-strategyname-path-columns-promise"><span>Partial.dump(symbol, strategy<wbr/>Name, path?, columns?): <wbr/>Promise&lt;void&gt;</span></a></li></ul></li><li><a href="#data-collection-4"><span>Data <wbr/>Collection</span></a></li></ul></li><li><a href="#column-configuration"><span>Column <wbr/>Configuration</span></a></li><li><ul><li><a href="#columnmodel-interface"><span>Column<wbr/>Model <wbr/>Interface</span></a></li><li><a href="#column-type-aliases"><span>Column <wbr/>Type <wbr/>Aliases</span></a></li><li><a href="#default-column-configuration"><span>Default <wbr/>Column <wbr/>Configuration</span></a></li><li><a href="#custom-column-example"><span>Custom <wbr/>Column <wbr/>Example</span></a></li></ul></li><li><a href="#api-method-signature-patterns"><span>API <wbr/>Method <wbr/>Signature <wbr/>Patterns</span></a></li><li><ul><li><a href="#symbol-strategy-scope"><span>Symbol-<wbr/>Strategy <wbr/>Scope</span></a></li><li><a href="#strategy-scope"><span>Strategy <wbr/>Scope</span></a></li></ul></li><li><a href="#statistics-models-reference"><span>Statistics <wbr/>Models <wbr/>Reference</span></a></li><li><ul><li><a href="#performancestatisticsmodel"><span>Performance<wbr/>Statistics<wbr/>Model</span></a></li><li><a href="#heatmapstatisticsmodel"><span>Heatmap<wbr/>Statistics<wbr/>Model</span></a></li><li><a href="#riskstatisticsmodel"><span>Risk<wbr/>Statistics<wbr/>Model</span></a></li><li><a href="#schedulestatisticsmodel"><span>Schedule<wbr/>Statistics<wbr/>Model</span></a></li><li><a href="#partialstatisticsmodel"><span>Partial<wbr/>Statistics<wbr/>Model</span></a></li></ul></li><li><a href="#storage-and-memory-management"><span>Storage and <wbr/>Memory <wbr/>Management</span></a></li><li><a href="#complete-usage-example"><span>Complete <wbr/>Usage <wbr/>Example</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
