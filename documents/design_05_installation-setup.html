<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/05_installation-setup | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_05_installation-setup.html">design/05_installation-setup</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="installation--setup" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Installation &amp; Setup<a href="#installation--setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This page covers the installation of Backtest Kit and the initial configuration required to start developing trading strategies. Topics include system requirements, package installation, peer dependencies, TypeScript configuration, and project structure setup. For a complete working example and your first backtest implementation, see <a href="design_04_getting-started.html">Your First Backtest</a>.</p>
<hr>
<a id="system-requirements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">System Requirements<a href="#system-requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Backtest Kit requires specific versions of Node.js and TypeScript to function correctly. The framework leverages modern JavaScript features and TypeScript's type system for compile-time safety.</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Minimum Version</th>
<th>Recommended</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node.js</td>
<td>15.0.0</td>
<td>18.0.0+</td>
<td>Required for <code>ccxt</code> dependency</td>
</tr>
<tr>
<td>TypeScript</td>
<td>5.0.0</td>
<td>5.9.0+</td>
<td>Peer dependency for type safety</td>
</tr>
<tr>
<td>npm</td>
<td>7.0.0+</td>
<td>Latest</td>
<td>Package manager</td>
</tr>
</tbody>
</table>
<hr>
<a id="core-package-installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Core Package Installation<a href="#core-package-installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="basic-installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Basic Installation<a href="#basic-installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install the framework via npm:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">backtest-kit</span>
</code><button type="button">Copy</button></pre>

<p>This installs the core framework with its runtime dependencies:</p>
<ul>
<li><code>di-kit</code> (v1.0.18): Dependency injection container</li>
<li><code>di-scoped</code> (v1.0.20): Scoped context management using <code>AsyncLocalStorage</code></li>
<li><code>functools-kit</code> (v1.0.94): Utility functions including <code>queued</code> wrapper for event handlers</li>
<li><code>get-moment-stamp</code> (v1.1.1): Timestamp utilities</li>
</ul>
<a id="dependency-tree" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Dependency Tree<a href="#dependency-tree" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/05_installation-setup_0.svg" alt="Mermaid Diagram"></p>
<p><strong>Dependency Roles:</strong></p>
<ul>
<li><strong>di-kit</strong>: Implements the TYPES symbol registry used in <code>src/lib/index.ts</code> and the <code>inject</code>/<code>provide</code> pattern</li>
<li><strong>di-scoped</strong>: Powers <code>ExecutionContextService</code> and <code>MethodContextService</code> for ambient context propagation without explicit parameters</li>
<li><strong>functools-kit</strong>: Provides the <code>queued</code> wrapper that ensures sequential execution of async callbacks in event listeners</li>
<li><strong>get-moment-stamp</strong>: Handles timestamp conversions between Date objects and numeric millisecond stamps</li>
</ul>
<hr>
<a id="peer-dependencies" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Peer Dependencies<a href="#peer-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="typescript-installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">TypeScript Installation<a href="#typescript-installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Backtest Kit requires TypeScript 5.0.0 or higher as a peer dependency. Install it in your project:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">typescript</span>
</code><button type="button">Copy</button></pre>

<p>The framework exports comprehensive type definitions via <code>types.d.ts:1-3000+</code> that require TypeScript 5.0+ features including:</p>
<ul>
<li>Template literal types</li>
<li><code>satisfies</code> operator</li>
<li>Const type parameters</li>
<li>Improved type inference</li>
</ul>
<a id="peer-dependency-verification" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Peer Dependency Verification<a href="#peer-dependency-verification" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The framework will issue warnings if TypeScript is not installed or is below version 5.0.0. Verify your installation:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">tsc</span><span class="hl-1"> </span><span class="hl-7">--version</span>
</code><button type="button">Copy</button></pre>

<p>Expected output: <code>Version 5.0.0</code> or higher.</p>
<hr>
<a id="optional-dependencies" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Optional Dependencies<a href="#optional-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="common-use-case-packages" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Common Use Case Packages<a href="#common-use-case-packages" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Most Backtest Kit implementations require additional packages for data sources, LLM integration, and utilities:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ccxt</span><span class="hl-1"> </span><span class="hl-2">ollama</span><span class="hl-1"> </span><span class="hl-2">uuid</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">dotenv-cli</span>
</code><button type="button">Copy</button></pre>

<table>
<thead>
<tr>
<th>Package</th>
<th>Version</th>
<th>Purpose</th>
<th>Used In</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ccxt</code></td>
<td>4.5.24+</td>
<td>Exchange data fetching</td>
<td><code>IExchangeSchema.getCandles</code> implementation</td>
</tr>
<tr>
<td><code>ollama</code></td>
<td>0.6.3+</td>
<td>LLM integration for AI strategies</td>
<td><code>IStrategySchema.getSignal</code> with LLM calls</td>
</tr>
<tr>
<td><code>uuid</code></td>
<td>13.0.0+</td>
<td>Signal ID generation</td>
<td>Unique identifiers for signals</td>
</tr>
<tr>
<td><code>dotenv-cli</code></td>
<td>11.0.0+</td>
<td>Environment variable management</td>
<td>API keys, configuration</td>
</tr>
</tbody>
</table>
<a id="package-installation-flow" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Package Installation Flow<a href="#package-installation-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/05_installation-setup_1.svg" alt="Mermaid Diagram"></p>
<p><strong>Installation Steps:</strong></p>
<ol>
<li>Initialize npm project with <code>package.json</code></li>
<li>Install core <code>backtest-kit</code> package</li>
<li>Install peer dependency <code>typescript</code></li>
<li>Install optional packages based on use case (data sources, LLM, utilities)</li>
<li>Verify Node.js and TypeScript versions</li>
<li>Create project structure and TypeScript configuration</li>
<li>Import framework functions and begin development</li>
</ol>
<hr>
<a id="typescript-configuration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">TypeScript Configuration<a href="#typescript-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="minimal-tsconfigjson" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Minimal tsconfig.json<a href="#minimal-tsconfigjson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create a <code>tsconfig.json</code> file in your project root:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;target&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ES2020&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;module&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ES2020&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;moduleResolution&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;esModuleInterop&quot;</span><span class="hl-1">: </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;skipLibCheck&quot;</span><span class="hl-1">: </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;strict&quot;</span><span class="hl-1">: </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;resolveJsonModule&quot;</span><span class="hl-1">: </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;outDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./dist&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;rootDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./src&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;include&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;src/**/*&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;exclude&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;node_modules&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;dist&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="configuration-requirements" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Configuration Requirements<a href="#configuration-requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Option</th>
<th>Required Value</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>target</code></td>
<td>ES2020+</td>
<td>Framework uses modern async/await patterns</td>
</tr>
<tr>
<td><code>module</code></td>
<td>ES2020 or NodeNext</td>
<td>ESM support for clean imports</td>
</tr>
<tr>
<td><code>moduleResolution</code></td>
<td>node or node16</td>
<td>Resolve npm packages correctly</td>
</tr>
<tr>
<td><code>esModuleInterop</code></td>
<td>true</td>
<td>Import CommonJS modules from ESM</td>
</tr>
<tr>
<td><code>strict</code></td>
<td>true (recommended)</td>
<td>Type safety for signal validation</td>
</tr>
<tr>
<td><code>skipLibCheck</code></td>
<td>true</td>
<td>Faster compilation with large type definitions</td>
</tr>
</tbody>
</table>
<p>The framework's <code>types.d.ts</code> contains over 3000 lines of type definitions. Setting <code>skipLibCheck: true</code> reduces compilation time without sacrificing type safety for your code.</p>
<hr>
<a id="project-structure" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Project Structure<a href="#project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="recommended-directory-layout" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Recommended Directory Layout<a href="#recommended-directory-layout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-4">my</span><span class="hl-1">-</span><span class="hl-4">backtest</span><span class="hl-1">-</span><span class="hl-4">project</span><span class="hl-1">/</span><br/><span class="hl-1">├── </span><span class="hl-4">package</span><span class="hl-1">.</span><span class="hl-4">json</span><br/><span class="hl-1">├── </span><span class="hl-3">package</span><span class="hl-1">-</span><span class="hl-4">lock</span><span class="hl-1">.</span><span class="hl-4">json</span><br/><span class="hl-1">├── </span><span class="hl-4">tsconfig</span><span class="hl-1">.</span><span class="hl-4">json</span><br/><span class="hl-1">├── .</span><span class="hl-4">env</span><span class="hl-1">                    # </span><span class="hl-8">API</span><span class="hl-1"> </span><span class="hl-4">keys</span><span class="hl-1">, </span><span class="hl-4">configuration</span><br/><span class="hl-1">├── .</span><span class="hl-4">gitignore</span><span class="hl-1">              # </span><span class="hl-4">Exclude</span><span class="hl-1"> </span><span class="hl-4">node_modules</span><span class="hl-1">, .</span><span class="hl-4">env</span><br/><span class="hl-1">├── </span><span class="hl-4">src</span><span class="hl-1">/</span><br/><span class="hl-1">│   ├── </span><span class="hl-4">index</span><span class="hl-1">.</span><span class="hl-4">ts</span><span class="hl-1">           # </span><span class="hl-4">Entry</span><span class="hl-1"> </span><span class="hl-4">point</span><br/><span class="hl-1">│   ├── </span><span class="hl-4">strategies</span><span class="hl-1">/        # </span><span class="hl-4">Strategy</span><span class="hl-1"> </span><span class="hl-4">implementations</span><br/><span class="hl-1">│   │   └── </span><span class="hl-4">my</span><span class="hl-1">-</span><span class="hl-4">strategy</span><span class="hl-1">.</span><span class="hl-4">ts</span><br/><span class="hl-1">│   ├── </span><span class="hl-4">exchanges</span><span class="hl-1">/         # </span><span class="hl-4">Exchange</span><span class="hl-1"> </span><span class="hl-4">configurations</span><br/><span class="hl-1">│   │   └── </span><span class="hl-4">binance</span><span class="hl-1">.</span><span class="hl-4">ts</span><br/><span class="hl-1">│   ├── </span><span class="hl-4">risks</span><span class="hl-1">/             # </span><span class="hl-4">Risk</span><span class="hl-1"> </span><span class="hl-4">profile</span><span class="hl-1"> </span><span class="hl-4">definitions</span><br/><span class="hl-1">│   │   └── </span><span class="hl-4">conservative</span><span class="hl-1">.</span><span class="hl-4">ts</span><br/><span class="hl-1">│   └── </span><span class="hl-4">frames</span><span class="hl-1">/            # </span><span class="hl-4">Timeframe</span><span class="hl-1"> </span><span class="hl-4">definitions</span><br/><span class="hl-1">│       └── </span><span class="hl-4">daily</span><span class="hl-1">-</span><span class="hl-4">test</span><span class="hl-1">.</span><span class="hl-4">ts</span><br/><span class="hl-1">└── </span><span class="hl-4">dump</span><span class="hl-1">/                  # </span><span class="hl-4">Generated</span><span class="hl-1"> </span><span class="hl-0">reports</span><span class="hl-1"> (</span><span class="hl-4">auto</span><span class="hl-1">-</span><span class="hl-4">created</span><span class="hl-1">)</span><br/><span class="hl-1">    ├── </span><span class="hl-4">backtest</span><span class="hl-1">/</span><br/><span class="hl-1">    ├── </span><span class="hl-4">live</span><span class="hl-1">/</span><br/><span class="hl-1">    └── </span><span class="hl-4">performance</span><span class="hl-1">/</span>
</code><button>Copy</button></pre>

<a id="entry-point-template" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Entry Point Template<a href="#entry-point-template" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create <code>src/index.ts</code>:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">setLogger</span><span class="hl-1">, </span><span class="hl-4">setConfig</span><span class="hl-1">, </span><span class="hl-4">addExchange</span><span class="hl-1">, </span><span class="hl-4">addStrategy</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Configure logging</span><br/><span class="hl-0">setLogger</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">log:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">debug:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">debug</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">info:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">info</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">warn:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">warn</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Configure global parameters</span><br/><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">CC_PERCENT_SLIPPAGE:</span><span class="hl-1"> </span><span class="hl-6">0.1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CC_PERCENT_FEE:</span><span class="hl-1"> </span><span class="hl-6">0.1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Register components (see section 2.2)</span><br/><span class="hl-5">// addExchange({ ... });</span><br/><span class="hl-5">// addStrategy({ ... });</span>
</code><button type="button">Copy</button></pre>

<a id="module-type-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Module Type Configuration<a href="#module-type-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The demo projects use <code>&quot;type&quot;: &quot;module&quot;</code> in <code>demo/backtest/package.json:4</code> to enable native ESM. Add this to your <code>package.json</code>:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;module&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;scripts&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;start&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;node dist/index.js&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>For TypeScript compilation and execution:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">tsc</span><br/><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">dist/index.js</span>
</code><button type="button">Copy</button></pre>

<p>Or use <code>ts-node</code> with ESM loader:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">ts-node</span><br/><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-7">--loader</span><span class="hl-1"> </span><span class="hl-2">ts-node/esm</span><span class="hl-1"> </span><span class="hl-2">src/index.ts</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="initial-setup-verification" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Initial Setup Verification<a href="#initial-setup-verification" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="import-test" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Import Test<a href="#import-test" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Verify the installation by importing core functions:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Configuration</span><br/><span class="hl-1">  </span><span class="hl-4">setLogger</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">setConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Registration</span><br/><span class="hl-1">  </span><span class="hl-4">addExchange</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">addStrategy</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">addFrame</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">addRisk</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Execution</span><br/><span class="hl-1">  </span><span class="hl-4">Backtest</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Live</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Event Listeners</span><br/><span class="hl-1">  </span><span class="hl-4">listenSignalBacktest</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">listenDoneBacktest</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;backtest-kit&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Backtest Kit imported successfully&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Compile and run:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">tsc</span><br/><span class="hl-0">node</span><span class="hl-1"> </span><span class="hl-2">dist/index.js</span>
</code><button type="button">Copy</button></pre>

<p>Expected output: <code>Backtest Kit imported successfully</code></p>
<a id="available-exports" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Available Exports<a href="#available-exports" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The framework exports the following categories from <code>src/index.ts</code>:</p>
<p><strong>Configuration Functions:</strong></p>
<ul>
<li><code>setLogger({ log, debug, info, warn })</code>: Configure logging output</li>
<li><code>setConfig({ ...GLOBAL_CONFIG })</code>: Set global parameters like fees and slippage</li>
</ul>
<p><strong>Registration Functions:</strong></p>
<ul>
<li><code>addExchange(IExchangeSchema)</code>: Register data sources</li>
<li><code>addStrategy(IStrategySchema)</code>: Register trading strategies</li>
<li><code>addFrame(IFrameSchema)</code>: Register timeframes for backtesting</li>
<li><code>addRisk(IRiskSchema)</code>: Register risk profiles</li>
<li><code>addWalker(IWalkerSchema)</code>: Register strategy comparison configurations</li>
<li><code>addSizing(ISizingSchema)</code>: Register position sizing calculators</li>
<li><code>addOptimizer(IOptimizerSchema)</code>: Register LLM-based optimizer configurations</li>
</ul>
<p><strong>Execution Classes:</strong></p>
<ul>
<li><code>Backtest</code>: Historical simulation execution</li>
<li><code>Live</code>: Real-time trading execution</li>
<li><code>Walker</code>: Multi-strategy comparison</li>
<li><code>Optimizer</code>: LLM-powered strategy generation</li>
</ul>
<p><strong>Event Listeners:</strong></p>
<ul>
<li><code>listenSignal*()</code>: Signal state change events</li>
<li><code>listenDone*()</code>: Completion events</li>
<li><code>listenPartial*()</code>: Profit/loss milestone events</li>
<li><code>listenRisk()</code>: Risk rejection events</li>
<li><code>listenPerformance()</code>: Timing metrics events</li>
<li><code>listenError()</code>: Recoverable error events</li>
<li><code>listenExit()</code>: Fatal error events</li>
</ul>
<p><strong>Utility Functions:</strong></p>
<ul>
<li><code>getCandles(symbol, interval, limit)</code>: Fetch historical data with temporal context</li>
<li><code>dumpSignal()</code>: Persist signal data for debugging</li>
</ul>
<hr>
<a id="environment-variables" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Environment Variables<a href="#environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="env-file-template" class="tsd-anchor"></a><h3 class="tsd-anchor-link">.env File Template<a href="#env-file-template" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create a <code>.env</code> file for API keys and configuration:</p>
<pre><code class="bash"><span class="hl-5"># Exchange API Keys (for live trading)</span><br/><span class="hl-4">BINANCE_API_KEY</span><span class="hl-1">=</span><span class="hl-2">your_api_key_here</span><br/><span class="hl-4">BINANCE_API_SECRET</span><span class="hl-1">=</span><span class="hl-2">your_secret_here</span><br/><br/><span class="hl-5"># Ollama Configuration (for LLM strategies)</span><br/><span class="hl-4">OLLAMA_HOST</span><span class="hl-1">=</span><span class="hl-2">http://localhost:11434</span><br/><span class="hl-4">OLLAMA_MODEL</span><span class="hl-1">=</span><span class="hl-2">deepseek-v3.1:671b</span><br/><br/><span class="hl-5"># Backtest Configuration</span><br/><span class="hl-4">LOG_LEVEL</span><span class="hl-1">=</span><span class="hl-2">info</span>
</code><button type="button">Copy</button></pre>

<p>Add <code>.env</code> to your <code>.gitignore</code>:</p>
<pre><code class="bash"><span class="hl-0">node_modules/</span><br/><span class="hl-0">dist/</span><br/><span class="hl-0">.env</span><br/><span class="hl-0">dump/</span>
</code><button type="button">Copy</button></pre>

<a id="using-dotenv-cli" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using dotenv-cli<a href="#using-dotenv-cli" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Run your application with environment variables loaded:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">dotenv</span><span class="hl-1"> </span><span class="hl-7">-e</span><span class="hl-1"> </span><span class="hl-2">.env</span><span class="hl-1"> </span><span class="hl-7">--</span><span class="hl-1"> </span><span class="hl-2">node</span><span class="hl-1"> </span><span class="hl-2">dist/index.js</span>
</code><button type="button">Copy</button></pre>

<p>Add to <code>package.json</code> scripts:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;scripts&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;start&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;dotenv -e .env -- node dist/index.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;dev&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;dotenv -e .env -- node --loader ts-node/esm src/index.ts&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="troubleshooting-common-installation-issues" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Troubleshooting Common Installation Issues<a href="#troubleshooting-common-installation-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="typescript-version-mismatch" class="tsd-anchor"></a><h3 class="tsd-anchor-link">TypeScript Version Mismatch<a href="#typescript-version-mismatch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Error:</strong> <code>error TS2307: Cannot find module 'backtest-kit'</code></p>
<p><strong>Solution:</strong> Ensure TypeScript 5.0+ is installed:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">typescript@latest</span>
</code><button type="button">Copy</button></pre>

<a id="module-resolution-errors" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Module Resolution Errors<a href="#module-resolution-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Error:</strong> <code>ERR_MODULE_NOT_FOUND</code> or <code>Cannot use import statement outside a module</code></p>
<p><strong>Solution:</strong> Add <code>&quot;type&quot;: &quot;module&quot;</code> to <code>package.json</code> or use <code>.mjs</code> file extensions.</p>
<a id="missing-peer-dependencies" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Missing Peer Dependencies<a href="#missing-peer-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Error:</strong> <code>WARN peer dep missing: typescript@^5.0.0</code></p>
<p><strong>Solution:</strong> Install the peer dependency:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-7">--save-dev</span><span class="hl-1"> </span><span class="hl-2">typescript</span>
</code><button type="button">Copy</button></pre>

<a id="ccxt-installation-issues" class="tsd-anchor"></a><h3 class="tsd-anchor-link">CCXT Installation Issues<a href="#ccxt-installation-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Error:</strong> <code>ERR! code 1</code> during <code>ccxt</code> installation</p>
<p><strong>Solution:</strong> CCXT has install scripts that require build tools:</p>
<ul>
<li><strong>Windows:</strong> Install Visual Studio Build Tools</li>
<li><strong>macOS/Linux:</strong> Ensure <code>python3</code> and <code>make</code> are available</li>
</ul>
<hr>
<a id="next-steps" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Next Steps<a href="#next-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>After completing installation and setup:</p>
<ol>
<li><strong>Follow the First Backtest Tutorial:</strong> See <a href="design_04_getting-started.html">Your First Backtest</a> for a complete working example</li>
<li><strong>Explore Quick Start Examples:</strong> Review <a href="design_04_getting-started.html">Quick Start Examples</a> for common patterns</li>
<li><strong>Study Core Concepts:</strong> Understand <a href="design_08_core-concepts.html">Signals &amp; Signal Lifecycle</a> and <a href="design_08_core-concepts.html">Strategies</a></li>
<li><strong>Review API Reference:</strong> Consult <a href="design_56_api-reference.html">Global Functions</a> for detailed API documentation</li>
</ol>
<p>The framework is now installed and ready for development. The next page demonstrates creating a complete backtest with strategy registration, exchange configuration, and execution.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation--setup"><span>Installation &amp; <wbr/>Setup</span></a><ul><li><a href="#system-requirements"><span>System <wbr/>Requirements</span></a></li><li><a href="#core-package-installation"><span>Core <wbr/>Package <wbr/>Installation</span></a></li><li><ul><li><a href="#basic-installation"><span>Basic <wbr/>Installation</span></a></li><li><a href="#dependency-tree"><span>Dependency <wbr/>Tree</span></a></li></ul></li><li><a href="#peer-dependencies"><span>Peer <wbr/>Dependencies</span></a></li><li><ul><li><a href="#typescript-installation"><span>Type<wbr/>Script <wbr/>Installation</span></a></li><li><a href="#peer-dependency-verification"><span>Peer <wbr/>Dependency <wbr/>Verification</span></a></li></ul></li><li><a href="#optional-dependencies"><span>Optional <wbr/>Dependencies</span></a></li><li><ul><li><a href="#common-use-case-packages"><span>Common <wbr/>Use <wbr/>Case <wbr/>Packages</span></a></li><li><a href="#package-installation-flow"><span>Package <wbr/>Installation <wbr/>Flow</span></a></li></ul></li><li><a href="#typescript-configuration"><span>Type<wbr/>Script <wbr/>Configuration</span></a></li><li><ul><li><a href="#minimal-tsconfigjson"><span>Minimal tsconfig.json</span></a></li><li><a href="#configuration-requirements"><span>Configuration <wbr/>Requirements</span></a></li></ul></li><li><a href="#project-structure"><span>Project <wbr/>Structure</span></a></li><li><ul><li><a href="#recommended-directory-layout"><span>Recommended <wbr/>Directory <wbr/>Layout</span></a></li><li><a href="#entry-point-template"><span>Entry <wbr/>Point <wbr/>Template</span></a></li><li><a href="#module-type-configuration"><span>Module <wbr/>Type <wbr/>Configuration</span></a></li></ul></li><li><a href="#initial-setup-verification"><span>Initial <wbr/>Setup <wbr/>Verification</span></a></li><li><ul><li><a href="#import-test"><span>Import <wbr/>Test</span></a></li><li><a href="#available-exports"><span>Available <wbr/>Exports</span></a></li></ul></li><li><a href="#environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><ul><li><a href="#env-file-template"><span>.env <wbr/>File <wbr/>Template</span></a></li><li><a href="#using-dotenv-cli"><span>Using dotenv-<wbr/>cli</span></a></li></ul></li><li><a href="#troubleshooting-common-installation-issues"><span>Troubleshooting <wbr/>Common <wbr/>Installation <wbr/>Issues</span></a></li><li><ul><li><a href="#typescript-version-mismatch"><span>Type<wbr/>Script <wbr/>Version <wbr/>Mismatch</span></a></li><li><a href="#module-resolution-errors"><span>Module <wbr/>Resolution <wbr/>Errors</span></a></li><li><a href="#missing-peer-dependencies"><span>Missing <wbr/>Peer <wbr/>Dependencies</span></a></li><li><a href="#ccxt-installation-issues"><span>CCXT <wbr/>Installation <wbr/>Issues</span></a></li></ul></li><li><a href="#next-steps"><span>Next <wbr/>Steps</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
