<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>design/10_strategies | backtest-kit</title><meta name="description" content="Documentation for backtest-kit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">backtest-kit</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">backtest-kit</a></li><li><a href="design_10_strategies.html">design/10_strategies</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="strategies" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Strategies<a href="#strategies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="purpose-and-scope" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Purpose and Scope<a href="#purpose-and-scope" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This document explains what strategies are in Backtest Kit, how they generate trading signals through the <code>getSignal</code> function, the <code>IStrategySchema</code> interface contract, and how strategies integrate with the execution engine. For implementation details about writing strategies, see <a href="design_25_strategy-development.html">Strategy Development</a>. For information about the signals themselves and their lifecycle states, see <a href="design_08_core-concepts.html">Signals &amp; Signal Lifecycle</a>. For the execution context that strategies operate within, see <a href="design_08_core-concepts.html">Execution Contexts</a>.</p>
<hr>
<a id="what-is-a-strategy" class="tsd-anchor"></a><h2 class="tsd-anchor-link">What is a Strategy?<a href="#what-is-a-strategy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A <strong>strategy</strong> is a registered algorithm that evaluates market conditions at regular intervals and produces trading signals. Each strategy is uniquely identified by a <code>strategyName</code> and implements a <code>getSignal</code> function that returns either a signal to execute or <code>null</code> if no trading opportunity exists.</p>
<p>Strategies are stateless algorithms—they do not maintain position tracking or manage signal lifecycle. Instead, they focus solely on signal generation logic. The framework handles signal validation, persistence, risk management, and lifecycle transitions automatically.</p>
<p><strong>Key Characteristics:</strong></p>
<table>
<thead>
<tr>
<th>Characteristic</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Stateless</strong></td>
<td>No internal position tracking; each <code>getSignal</code> call is independent</td>
</tr>
<tr>
<td><strong>Throttled</strong></td>
<td><code>getSignal</code> is rate-limited by the <code>interval</code> parameter (e.g., 5m, 1h)</td>
</tr>
<tr>
<td><strong>Single Signal</strong></td>
<td>Only one active signal per symbol-strategy pair at a time</td>
</tr>
<tr>
<td><strong>Mode-Agnostic</strong></td>
<td>Same code executes in backtest and live modes via temporal context</td>
</tr>
<tr>
<td><strong>Risk-Aware</strong></td>
<td>Optional <code>riskName</code> or <code>riskList</code> for portfolio-level validation</td>
</tr>
</tbody>
</table>
<hr>
<a id="istrategyschema-interface" class="tsd-anchor"></a><h2 class="tsd-anchor-link">IStrategySchema Interface<a href="#istrategyschema-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Strategies are registered using the <code>addStrategy()</code> global function with an <code>IStrategySchema</code> object. This interface defines the strategy's identity, signal generation logic, and optional configuration.</p>
<a id="core-fields" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Core Fields<a href="#core-fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-11">IStrategySchema</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">strategyName</span><span class="hl-1">: </span><span class="hl-11">StrategyName</span><span class="hl-1">;        </span><span class="hl-5">// Unique identifier</span><br/><span class="hl-1">    </span><span class="hl-4">interval</span><span class="hl-1">: </span><span class="hl-11">SignalInterval</span><span class="hl-1">;          </span><span class="hl-5">// Throttling interval</span><br/><span class="hl-1">    </span><span class="hl-0">getSignal</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">: </span><span class="hl-11">Date</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-11">ISignalDto</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-4">note</span><span class="hl-1">?: </span><span class="hl-11">string</span><span class="hl-1">;                     </span><span class="hl-5">// Optional description</span><br/><span class="hl-1">    </span><span class="hl-4">callbacks</span><span class="hl-1">?: </span><span class="hl-11">Partial</span><span class="hl-1">&lt;</span><span class="hl-11">IStrategyCallbacks</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-4">riskName</span><span class="hl-1">?: </span><span class="hl-11">RiskName</span><span class="hl-1">;               </span><span class="hl-5">// Single risk profile</span><br/><span class="hl-1">    </span><span class="hl-4">riskList</span><span class="hl-1">?: </span><span class="hl-11">RiskName</span><span class="hl-1">[];             </span><span class="hl-5">// Multiple risk profiles</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="field-descriptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Field Descriptions<a href="#field-descriptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>strategyName</code></td>
<td><code>string</code></td>
<td>Yes</td>
<td>Unique identifier used throughout the system for routing and reporting</td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>SignalInterval</code></td>
<td>Yes</td>
<td>Minimum time between <code>getSignal</code> calls: <code>1m</code>, <code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code>, <code>1h</code></td>
</tr>
<tr>
<td><code>getSignal</code></td>
<td><code>Function</code></td>
<td>Yes</td>
<td>Core signal generation function; returns <code>ISignalDto</code> or <code>null</code></td>
</tr>
<tr>
<td><code>note</code></td>
<td><code>string</code></td>
<td>No</td>
<td>Human-readable description for documentation purposes</td>
</tr>
<tr>
<td><code>callbacks</code></td>
<td><code>IStrategyCallbacks</code></td>
<td>No</td>
<td>Lifecycle event hooks (see section below)</td>
</tr>
<tr>
<td><code>riskName</code></td>
<td><code>RiskName</code></td>
<td>No</td>
<td>Single risk profile for validation (mutually exclusive with <code>riskList</code>)</td>
</tr>
<tr>
<td><code>riskList</code></td>
<td><code>RiskName[]</code></td>
<td>No</td>
<td>Multiple risk profiles; all must pass validation</td>
</tr>
</tbody>
</table>
<hr>
<a id="the-getsignal-function-contract" class="tsd-anchor"></a><h2 class="tsd-anchor-link">The getSignal Function Contract<a href="#the-getsignal-function-contract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>getSignal</code> function is the heart of every strategy. It receives execution context implicitly through <code>ExecutionContextService</code> and must return either a valid signal DTO or <code>null</code>.</p>
<a id="function-signature" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Function Signature<a href="#function-signature" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-10">getSignal</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">when</span><span class="hl-1">: </span><span class="hl-11">Date</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">ISignalDto</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="parameters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Parameters<a href="#parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong><code>symbol</code></strong>: Trading pair (e.g., <code>&quot;BTCUSDT&quot;</code>) passed explicitly</li>
<li><strong><code>when</code></strong>: Current timestamp in backtest mode or real-time in live mode; determines the temporal boundary for data access</li>
</ul>
<a id="return-value-isignaldto" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Return Value: ISignalDto<a href="#return-value-isignaldto" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When a trading opportunity exists, <code>getSignal</code> returns an <code>ISignalDto</code> object:</p>
<pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-11">ISignalDto</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">id</span><span class="hl-1">?: </span><span class="hl-11">string</span><span class="hl-1">;                    </span><span class="hl-5">// Auto-generated UUID if omitted</span><br/><span class="hl-1">    </span><span class="hl-4">position</span><span class="hl-1">: </span><span class="hl-2">&quot;long&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;short&quot;</span><span class="hl-1">;     </span><span class="hl-5">// Trade direction</span><br/><span class="hl-1">    </span><span class="hl-4">note</span><span class="hl-1">?: </span><span class="hl-11">string</span><span class="hl-1">;                  </span><span class="hl-5">// Human-readable reason</span><br/><span class="hl-1">    </span><span class="hl-4">priceOpen</span><span class="hl-1">?: </span><span class="hl-11">number</span><span class="hl-1">;             </span><span class="hl-5">// Entry price (optional for scheduled signals)</span><br/><span class="hl-1">    </span><span class="hl-4">priceTakeProfit</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;        </span><span class="hl-5">// TP target (required)</span><br/><span class="hl-1">    </span><span class="hl-4">priceStopLoss</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;          </span><span class="hl-5">// SL exit (required)</span><br/><span class="hl-1">    </span><span class="hl-4">minuteEstimatedTime</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">;    </span><span class="hl-5">// Expected duration before time_expired</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signal Types:</strong></p>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Signal Type</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>priceOpen</code> omitted</td>
<td><strong>Immediate Signal</strong></td>
<td>Opens at current VWAP; enters &quot;opened&quot; state immediately</td>
</tr>
<tr>
<td><code>priceOpen</code> specified</td>
<td><strong>Scheduled Signal</strong></td>
<td>Waits for price to reach <code>priceOpen</code>; enters &quot;scheduled&quot; state</td>
</tr>
</tbody>
</table>
<a id="null-return" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Null Return<a href="#null-return" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When no trading opportunity exists, <code>getSignal</code> returns <code>null</code>. This is the normal case when market conditions don't meet strategy criteria. The framework handles this gracefully by transitioning to &quot;idle&quot; state and emitting an <code>IStrategyTickResultIdle</code> event.</p>
<hr>
<a id="strategy-architecture-diagram" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Strategy Architecture Diagram<a href="#strategy-architecture-diagram" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This diagram shows the relationship between strategy components from registration to execution:</p>
<p><img src="../media/10_strategies_0.svg" alt="Mermaid Diagram"></p>
<p><strong>Execution Flow:</strong></p>
<ol>
<li>Developer calls <code>addStrategy()</code> with <code>IStrategySchema</code></li>
<li><code>StrategySchemaService</code> stores schema in immutable registry</li>
<li>On execution, <code>StrategyConnectionService</code> routes to cached <code>ClientStrategy</code> instance</li>
<li><code>ClientStrategy.tick()</code> or <code>ClientStrategy.backtest()</code> invokes <code>getSignal</code></li>
<li><code>getSignal</code> accesses candles via <code>getCandles()</code> (respects temporal context)</li>
<li>Returned <code>ISignalDto</code> passes through validation pipeline</li>
<li>Risk validation checks portfolio constraints</li>
<li>Final <code>IStrategyTickResult</code> emits to event system</li>
</ol>
<hr>
<a id="signal-generation-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Signal Generation Flow<a href="#signal-generation-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This diagram details the <code>getSignal</code> execution process and decision points:</p>
<p><img src="../media/10_strategies_1.svg" alt="Mermaid Diagram"></p>
<p><strong>Key Decision Points:</strong></p>
<ol>
<li><strong>Throttle Check</strong>: Prevents <code>getSignal</code> from executing more frequently than <code>interval</code> allows</li>
<li><strong>Active Signal Check</strong>: Only generates new signals when no active position exists</li>
<li><strong>Null Return</strong>: Normal case when no trading opportunity; returns to idle</li>
<li><strong>Validation</strong>: Multi-stage checks enforced by <code>GLOBAL_CONFIG</code> parameters</li>
<li><strong>Risk Validation</strong>: Portfolio-level constraints from <code>ClientRisk</code></li>
<li><strong>priceOpen Logic</strong>: Determines immediate vs. scheduled signal behavior</li>
</ol>
<hr>
<a id="strategy-lifecycle-callbacks" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Strategy Lifecycle Callbacks<a href="#strategy-lifecycle-callbacks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The optional <code>callbacks</code> field in <code>IStrategySchema</code> provides hooks into signal lifecycle events. All callbacks are optional; the framework emits events to global emitters regardless.</p>
<a id="istrategycallbacks-interface" class="tsd-anchor"></a><h3 class="tsd-anchor-link">IStrategyCallbacks Interface<a href="#istrategycallbacks-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-11">IStrategyCallbacks</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">onTick</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">result</span><span class="hl-1">: </span><span class="hl-11">IStrategyTickResult</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onOpen</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onActive</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onIdle</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onClose</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1">, </span><span class="hl-4">priceClose</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onSchedule</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">IScheduledSignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onCancel</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">IScheduledSignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onWrite</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1"> | </span><span class="hl-11">null</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onPartialProfit</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">revenuePercent</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">onPartialLoss</span><span class="hl-1">: (</span><span class="hl-4">symbol</span><span class="hl-1">: </span><span class="hl-11">string</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-11">ISignalRow</span><span class="hl-1">, </span><span class="hl-4">currentPrice</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">lossPercent</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-4">backtest</span><span class="hl-1">: </span><span class="hl-11">boolean</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="callback-descriptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Callback Descriptions<a href="#callback-descriptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Callback</th>
<th>Trigger</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onTick</code></td>
<td>Every tick execution</td>
<td>Generic monitoring of all strategy states</td>
</tr>
<tr>
<td><code>onOpen</code></td>
<td>Signal opens at <code>priceOpen</code></td>
<td>Position entry confirmation, logging</td>
</tr>
<tr>
<td><code>onActive</code></td>
<td>Signal monitoring (TP/SL tracking)</td>
<td>Real-time P&amp;L tracking, alerts</td>
</tr>
<tr>
<td><code>onIdle</code></td>
<td>No active signal</td>
<td>Strategy dormancy monitoring</td>
</tr>
<tr>
<td><code>onClose</code></td>
<td>Signal closes (TP/SL/time)</td>
<td>Position exit analysis, statistics</td>
</tr>
<tr>
<td><code>onSchedule</code></td>
<td>Scheduled signal created</td>
<td>Pending order notifications</td>
</tr>
<tr>
<td><code>onCancel</code></td>
<td>Scheduled signal cancelled</td>
<td>Alert when limit orders don't activate</td>
</tr>
<tr>
<td><code>onWrite</code></td>
<td>Signal persisted to storage</td>
<td>Testing persistence layer</td>
</tr>
<tr>
<td><code>onPartialProfit</code></td>
<td>Profit milestone (10%, 20%...)</td>
<td>Trail stop adjustments, partial exits</td>
</tr>
<tr>
<td><code>onPartialLoss</code></td>
<td>Loss milestone (-10%, -20%...)</td>
<td>Risk management alerts</td>
</tr>
</tbody>
</table>
<p><strong>Important Notes:</strong></p>
<ul>
<li>Callbacks execute <strong>in addition to</strong> global event emitters (e.g., <code>signalEmitter</code>, <code>partialProfitSubject</code>)</li>
<li>All callbacks receive <code>backtest</code> boolean to distinguish execution mode</li>
<li>Callbacks are synchronous; avoid blocking operations</li>
</ul>
<hr>
<a id="interval-throttling" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Interval Throttling<a href="#interval-throttling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>interval</code> field prevents <code>getSignal</code> from executing too frequently, reducing computational overhead and preventing signal spam.</p>
<a id="available-intervals" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Available Intervals<a href="#available-intervals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-7">type</span><span class="hl-1"> </span><span class="hl-11">SignalInterval</span><span class="hl-1"> = </span><span class="hl-2">&quot;1m&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;3m&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;5m&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;15m&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;30m&quot;</span><span class="hl-1"> | </span><span class="hl-2">&quot;1h&quot;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="throttling-behavior" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Throttling Behavior<a href="#throttling-behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Interval</th>
<th>Backtest Behavior</th>
<th>Live Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1m</code></td>
<td>Evaluates every backtest frame (typically 1-minute)</td>
<td>Evaluates every live tick (~1 minute)</td>
</tr>
<tr>
<td><code>5m</code></td>
<td>Evaluates every 5th frame; skips intermediate frames</td>
<td>Evaluates every 5 minutes</td>
</tr>
<tr>
<td><code>1h</code></td>
<td>Evaluates every 60th frame</td>
<td>Evaluates hourly</td>
</tr>
</tbody>
</table>
<p><strong>Implementation:</strong></p>
<p>Throttling is enforced in <code>ClientStrategy.tick()</code> by comparing current timestamp against last <code>getSignal</code> execution time. If insufficient time has elapsed, the strategy returns its current state without invoking <code>getSignal</code>.</p>
<p><strong>Choosing an Interval:</strong></p>
<ul>
<li><strong>Lower intervals (1m, 5m)</strong>: Higher responsiveness, more computation</li>
<li><strong>Higher intervals (30m, 1h)</strong>: Suitable for swing strategies, reduces noise</li>
<li><strong>Recommendation</strong>: Match interval to strategy timeframe; a strategy analyzing hourly candles should use <code>1h</code> interval</li>
</ul>
<hr>
<a id="risk-integration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Risk Integration<a href="#risk-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Strategies can integrate with the risk management system by specifying <code>riskName</code> (single risk profile) or <code>riskList</code> (multiple profiles). These fields are mutually exclusive.</p>
<a id="single-risk-profile" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Single Risk Profile<a href="#single-risk-profile" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">addStrategy</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&quot;momentum-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">riskName:</span><span class="hl-1"> </span><span class="hl-2">&quot;conservative&quot;</span><span class="hl-1">,  </span><span class="hl-5">// References addRisk({ riskName: &quot;conservative&quot;, ... })</span><br/><span class="hl-1">    </span><span class="hl-5">// ... other fields</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>The specified risk profile validates signals before they activate. If validation fails, the signal is rejected and <code>riskSubject</code> emits an event.</p>
<a id="multiple-risk-profiles" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Multiple Risk Profiles<a href="#multiple-risk-profiles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">addStrategy</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">strategyName:</span><span class="hl-1"> </span><span class="hl-2">&quot;high-risk-strategy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">riskList:</span><span class="hl-1"> [</span><span class="hl-2">&quot;max-position-limit&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;correlation-check&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;volatility-filter&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-5">// ... other fields</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>All risk profiles in <code>riskList</code> must pass validation. If any validation fails, the signal is rejected.</p>
<a id="risk-validation-flow" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Risk Validation Flow<a href="#risk-validation-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><img src="../media/10_strategies_2.svg" alt="Mermaid Diagram"></p>
<p><strong>Risk Validation Context:</strong></p>
<p>The <code>IRiskCheckArgs</code> passed to risk validations includes:</p>
<ul>
<li><code>symbol</code>: Trading pair</li>
<li><code>pendingSignal</code>: The signal being validated</li>
<li><code>strategyName</code>: Strategy attempting to open position</li>
<li><code>exchangeName</code>: Exchange for execution</li>
<li><code>currentPrice</code>: Current VWAP</li>
<li><code>timestamp</code>: Current time</li>
</ul>
<p>Risk profiles access additional portfolio state via <code>IRiskValidationPayload</code>:</p>
<ul>
<li><code>activePositionCount</code>: Total open positions across all strategies</li>
<li><code>activePositions</code>: List of active signals with metadata</li>
</ul>
<hr>
<a id="strategy-execution-model" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Strategy Execution Model<a href="#strategy-execution-model" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Strategies execute differently depending on the mode (backtest vs. live) but use the same <code>getSignal</code> logic.</p>
<a id="backtest-mode-execution" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Backtest Mode Execution<a href="#backtest-mode-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Flow:</strong></p>
<ol>
<li><code>BacktestLogicPrivateService</code> generates timeframe array from <code>IFrameSchema</code></li>
<li>For each timestamp, <code>StrategyCoreService</code> invokes <code>ClientStrategy.tick()</code></li>
<li><code>ClientStrategy.tick()</code> checks throttling, calls <code>getSignal</code> if allowed</li>
<li>If signal opens, <code>ClientStrategy.backtest()</code> is called with future candles</li>
<li><code>backtest()</code> iterates through candles, checking TP/SL on each candle</li>
<li>Once signal closes, iteration continues to next timeframe</li>
</ol>
<p><strong>Optimization:</strong></p>
<p>The &quot;fast backtest&quot; optimization skips timeframes while a signal is active, jumping directly to candles for TP/SL monitoring. This dramatically reduces iterations for long-duration signals.</p>
<a id="live-mode-execution" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Live Mode Execution<a href="#live-mode-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Flow:</strong></p>
<ol>
<li><code>LiveLogicPrivateService</code> enters infinite loop with <code>sleep(TICK_TTL)</code></li>
<li>Every ~1 minute, <code>StrategyCoreService</code> invokes <code>ClientStrategy.tick()</code></li>
<li><code>ClientStrategy.tick()</code> checks throttling, calls <code>getSignal</code> if allowed</li>
<li>If signal opens, it persists to storage for crash recovery</li>
<li>On subsequent ticks, TP/SL monitoring continues until closure</li>
<li>On closure, persisted signal is deleted</li>
</ol>
<p><strong>Persistence:</strong></p>
<p>Only &quot;opened&quot; signals persist to storage (via <code>PersistSignalAdapter</code>). Scheduled signals remain ephemeral until activation. This enables crash recovery without data bloat.</p>
<hr>
<a id="registration-and-routing-flow" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Registration and Routing Flow<a href="#registration-and-routing-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This diagram traces the path from <code>addStrategy()</code> to strategy execution in both modes:</p>
<p><img src="../media/10_strategies_3.svg" alt="Mermaid Diagram"></p>
<p><strong>Key Components:</strong></p>
<ul>
<li><strong>addStrategy()</strong>: Entry point, delegates to <code>StrategySchemaService</code></li>
<li><strong>StrategySchemaService</strong>: Stores schemas in <code>ToolRegistry</code> (immutable map)</li>
<li><strong>StrategyValidationService</strong>: Checks for duplicate names using memoization</li>
<li><strong>MethodContextService</strong>: Propagates schema names (strategyName, exchangeName, frameName) through call stack</li>
<li><strong>ExecutionContextService</strong>: Propagates runtime state (symbol, when, backtest flag)</li>
<li><strong>StrategyCoreService</strong>: Top-level orchestrator, delegates to ConnectionService</li>
<li><strong>StrategyConnectionService</strong>: Routes to memoized <code>ClientStrategy</code> instances by <code>symbol:strategyName</code> key</li>
<li><strong>ClientStrategy</strong>: Implements <code>IStrategy</code> interface, executes <code>getSignal</code> and manages signal state machine</li>
</ul>
<hr>
<a id="code-entity-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Code Entity Reference<a href="#code-entity-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This table maps conceptual strategy components to concrete code entities:</p>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Code Entity</th>
<th>Location</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Strategy Schema</td>
<td><code>IStrategySchema</code></td>
<td><code>types.d.ts:728-747</code></td>
<td>Registration interface</td>
</tr>
<tr>
<td>Signal DTO</td>
<td><code>ISignalDto</code></td>
<td><code>types.d.ts:649-665</code></td>
<td>Return type of <code>getSignal</code></td>
</tr>
<tr>
<td>Signal Row</td>
<td><code>ISignalRow</code></td>
<td><code>types.d.ts:669-687</code></td>
<td>Augmented signal with metadata</td>
</tr>
<tr>
<td>Scheduled Signal</td>
<td><code>IScheduledSignalRow</code></td>
<td><code>types.d.ts:694-697</code></td>
<td>Signal awaiting price activation</td>
</tr>
<tr>
<td>Tick Result</td>
<td><code>IStrategyTickResult</code></td>
<td><code>types.d.ts:888</code></td>
<td>Discriminated union of all states</td>
</tr>
<tr>
<td>Interval Type</td>
<td><code>SignalInterval</code></td>
<td><code>types.d.ts:645</code></td>
<td>Throttling intervals</td>
</tr>
<tr>
<td>Callbacks</td>
<td><code>IStrategyCallbacks</code></td>
<td><code>types.d.ts:699-723</code></td>
<td>Lifecycle event hooks</td>
</tr>
<tr>
<td>Registration</td>
<td><code>addStrategy()</code></td>
<td><code>src/function/add.ts</code></td>
<td>Global registration function</td>
</tr>
<tr>
<td>Schema Storage</td>
<td><code>StrategySchemaService</code></td>
<td><code>docs/classes/StrategySchemaService.md</code></td>
<td>Immutable registry</td>
</tr>
<tr>
<td>Routing</td>
<td><code>StrategyConnectionService</code></td>
<td><code>docs/classes/StrategyConnectionService.md</code></td>
<td>Memoized instance routing</td>
</tr>
<tr>
<td>Orchestration</td>
<td><code>StrategyCoreService</code></td>
<td><code>docs/classes/StrategyCoreService.md</code></td>
<td>Top-level execution coordinator</td>
</tr>
<tr>
<td>Implementation</td>
<td><code>ClientStrategy</code></td>
<td><code>docs/classes/ClientExchange.md</code></td>
<td>Strategy instance with tick/backtest methods</td>
</tr>
<tr>
<td>Risk Integration</td>
<td><code>ClientRisk</code></td>
<td><code>docs/classes/ClientRisk.md</code></td>
<td>Signal validation</td>
</tr>
</tbody>
</table>
<hr>
<a id="summary" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Summary<a href="#summary" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Strategies in Backtest Kit are:</p>
<ol>
<li><strong>Registered</strong> via <code>addStrategy()</code> with an <code>IStrategySchema</code> object</li>
<li><strong>Identified</strong> by unique <code>strategyName</code> for routing and reporting</li>
<li><strong>Throttled</strong> by <code>interval</code> to control <code>getSignal</code> execution frequency</li>
<li><strong>Stateless</strong> algorithms that generate <code>ISignalDto</code> or return <code>null</code></li>
<li><strong>Validated</strong> through multi-stage checks (TP/SL logic, GLOBAL_CONFIG, risk profiles)</li>
<li><strong>Mode-agnostic</strong> via temporal context provided by <code>ExecutionContextService</code></li>
<li><strong>Event-driven</strong> with optional lifecycle callbacks and global emitters</li>
<li><strong>Single-signal</strong> constrained—one active signal per symbol-strategy pair</li>
</ol>
<p>The <code>getSignal</code> function is the core contract: it receives temporal context implicitly, accesses market data via <code>getCandles()</code>, and returns trading signals that the framework validates, persists, and monitors through completion.</p>
<p>For practical implementation guidance, see <a href="design_25_strategy-development.html">Strategy Development</a>. For detailed <code>getSignal</code> patterns, see <a href="design_25_strategy-development.html">Signal Generation (getSignal)</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#strategies"><span>Strategies</span></a><ul><li><a href="#purpose-and-scope"><span>Purpose and <wbr/>Scope</span></a></li><li><a href="#what-is-a-strategy"><span>What is a <wbr/>Strategy?</span></a></li><li><a href="#istrategyschema-interface"><span>IStrategy<wbr/>Schema <wbr/>Interface</span></a></li><li><ul><li><a href="#core-fields"><span>Core <wbr/>Fields</span></a></li><li><a href="#field-descriptions"><span>Field <wbr/>Descriptions</span></a></li></ul></li><li><a href="#the-getsignal-function-contract"><span>The get<wbr/>Signal <wbr/>Function <wbr/>Contract</span></a></li><li><ul><li><a href="#function-signature"><span>Function <wbr/>Signature</span></a></li><li><a href="#parameters"><span>Parameters</span></a></li><li><a href="#return-value-isignaldto"><span>Return <wbr/>Value: ISignal<wbr/>Dto</span></a></li><li><a href="#null-return"><span>Null <wbr/>Return</span></a></li></ul></li><li><a href="#strategy-architecture-diagram"><span>Strategy <wbr/>Architecture <wbr/>Diagram</span></a></li><li><a href="#signal-generation-flow"><span>Signal <wbr/>Generation <wbr/>Flow</span></a></li><li><a href="#strategy-lifecycle-callbacks"><span>Strategy <wbr/>Lifecycle <wbr/>Callbacks</span></a></li><li><ul><li><a href="#istrategycallbacks-interface"><span>IStrategy<wbr/>Callbacks <wbr/>Interface</span></a></li><li><a href="#callback-descriptions"><span>Callback <wbr/>Descriptions</span></a></li></ul></li><li><a href="#interval-throttling"><span>Interval <wbr/>Throttling</span></a></li><li><ul><li><a href="#available-intervals"><span>Available <wbr/>Intervals</span></a></li><li><a href="#throttling-behavior"><span>Throttling <wbr/>Behavior</span></a></li></ul></li><li><a href="#risk-integration"><span>Risk <wbr/>Integration</span></a></li><li><ul><li><a href="#single-risk-profile"><span>Single <wbr/>Risk <wbr/>Profile</span></a></li><li><a href="#multiple-risk-profiles"><span>Multiple <wbr/>Risk <wbr/>Profiles</span></a></li><li><a href="#risk-validation-flow"><span>Risk <wbr/>Validation <wbr/>Flow</span></a></li></ul></li><li><a href="#strategy-execution-model"><span>Strategy <wbr/>Execution <wbr/>Model</span></a></li><li><ul><li><a href="#backtest-mode-execution"><span>Backtest <wbr/>Mode <wbr/>Execution</span></a></li><li><a href="#live-mode-execution"><span>Live <wbr/>Mode <wbr/>Execution</span></a></li></ul></li><li><a href="#registration-and-routing-flow"><span>Registration and <wbr/>Routing <wbr/>Flow</span></a></li><li><a href="#code-entity-reference"><span>Code <wbr/>Entity <wbr/>Reference</span></a></li><li><a href="#summary"><span>Summary</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">backtest-kit</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105455585', 'ym');

    ym(105455585, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105455585" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3MQZEBBDDR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3MQZEBBDDR');
</script>
